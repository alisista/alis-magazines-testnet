{"version":3,"sources":["webpack:///./src/components/component_promise.js","webpack:///./src/components/modal.js","webpack:///./src/components/loading.js","webpack:///./src/components/subheader.js","webpack:///./src/components/post_magazine.js","webpack:///./src/components/issue_magazine.js","webpack:///./src/components/alert.js","webpack:///./src/lib/auth.js","webpack:///./src/lib/alerts.js","webpack:///./src/pages/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/assets/images/404.jpg","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/helmet.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/footer.js","webpack:///./src/components/header_home.js","webpack:///./src/assets/images/alis_hackers.png","webpack:///./src/assets/images/profile_cover.jpg"],"names":["component_promise","ComponentP","props","_this","_Component","call","this","params","location","href","url_default","a","parse","query","set","state","Promise","res","_this2","setState","getJSOND","file_id","file_name","window","$","getJSON","json","react","Component","v","g","_","n","b","E","x","y","components_modal","Modal","modal","render","btn_exec","exec","react_default","createElement","id","type","className","exec_color","onClick","hasClass","exec_text","tabIndex","role","aria-labelledby","aria-hidden","title","data-dismiss","aria-label","style","wordBreak","body","cancel_text","loading","Loading","message","no_message","width","fontSize","subtitle","btn_link","btn_text","t","k","components_subheader","Subheader","items_html","_loop","_isArray","_i","_iterator","length","_ref","next","done","value","icon","fa_type","active","pathname","toLowerCase","name","key","component","tab","func","push","items","Array","isArray","Symbol","iterator","moment_timezone_default","locale","post_magazine","Post_Magazine","unpublishArticle","article","showModal","auth","magazine_id","publishArticle","more_btn","_this3","nomore_articles","borderRadius","listArticles","articles_page","articles_html","articles","console","log","uploadButton","userArticles","article_id","user_id","target","published_at","format","alis_token","magazineArticles","I","M","issue_magazine","Articles","invalid_ids","is_invalid","invalid_message","magazine_url_id","issueMagazine","is_edit","editors","val","description","url_id","match","magazine","owner","user","uid","set_id","shortid_default","magazine_description","magazine_title","deleteMagazine","checkMagazineID","delete_btn","_this4","action_word","magazines_html","cursor","created_at","underscore_default","userMagazines","sortBy","original_title","original_description","magazine_url_disabled","magazine_editors","me","anyone","check_btn","check_btn_disabled","invalid_state","invalid_color","invalid_cursor","id_check_btn_input","onChange","e","disabled","placeholder","id_check_btn","asyncToGenerator_default","regenerator_default","mark","_callee2","wrap","_context2","prev","stop","rows","checked","components_alert","Alert","alert_html","forEach","i","alerts","dissmissAlert","text","C","D","R","H","__webpack_require__","modals","error_exists","error_account_removal","error_general","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","timestampsInSnapshots","index_cjs_default","initializeApp","Auth","opts","WavesAPI","network","MAINNET_CONFIG","TESTNET_CONFIG","Waves","create","db","firestore","provider","TwitterAuthProvider","provider_github","GithubAuthProvider","useDeviceLanguage","onAuthStateChanged","setUser","twitter_user","getUserInfo","redirect","isUser","prototype","searchTweeple","cb","err","collection","doc","get","then","ss","catch","setData","pushAlert","merge","updateData","toString","update","confirmMission","mission_id","userInfo","missions","tasks","confirmed","Date","now","isError","mission","social","social_links","task_id","serverInfo","mission_confirmed","date","confirmation_id","setUserInfo","completeTask","_this5","data","getServerInfo","getUserTip","getUserHistory","getUserPayment","getUserArticles","getUserMagazines","oauth","validateWavesAddress","adminPayment","getAdminPayment","adminReport","getAdminReport","_this6","_this7","history","_this8","tip","tip_history","issue_component","https","_this9","post","error","exists","Object","FIREBASE_PROJECT_NAME","FIREBASE_PROJECT_ID","FIREBASE_API_KEY","FIREBASE_DATABASE_NAME","FIREBASE_BUCKET","FIREBASE_SENDER_ID","WAVES_REDIRECT","WAVES_NETWORK","ASSET_ID","BACKEND_SERVER_ORIGIN","ADMIN_TWITTER_ID","MAP_ID_ALIS_DAILY","MAP_ID_NOTE_TAGS","MAP_ID_NOTE_DAILY","MAP_ID_ALIS_TWEEPLE","MAP_ID_AHT","MAP_ID_MAGAZINES","MAP_ID_MAGAZINES_TOP","NODE_ENV","PUBLIC_DIR","BUILD_STAGE","GATSBY_BUILD_STAGE","MAGAZINE_DOMAIN","LastEvaluatedKey","_this10","alis","concat","newstate","getUserMagazineArticles","_this11","_this12","magazines","_this13","genRandomValue","random_value","JSON","stringify","mid","_this14","amount","_this15","_this16","_this17","where","admin_history","_this18","reports","report","twitter","_this19","payment","authenticateAlisUser","token","_this20","retry","_this21","revoke","join","includes","metadata","creationTime","displayName","photoURL","providerData","providerId","makePayment","to","what_for","_this22","twitter_id","link_discord","_this23","oauth_url","encodeURIComponent","link_github","_this24","currentUser","linkWithPopup","result","registerPayment","address","_this25","transaction","status","transaction_pool","unshift","getAllCandidates","_this26","candidates","obj","allCandidates","chooseCandidate","screen_name","search_component","_iterator2","_isArray2","_i2","_ref2","existsTweeple","limit","addCandidate","alis_user","_this$db$collection$d","_this27","$profile","getCandidates","accounts","reportError","_this28","doc_id","id_str","unlink_github","_this29","unlink","getMagazine","_this30","_this31","_ref3","_callee","_context","deleted","updated","_x","apply","arguments","callback","_this32","_ref4","_x2","unlink_discord","_this33","fetch","method","unlink_alis","_this34","login","no_redirect","signInWithPopup","alert","logout","signOut","popup_url","redirectedUrl","parsedUrl","signedData","d","s","publicKey","p","_signedData$split","split","crypto","isValidAddress","addWavesAddress","publickKey","added_at","setAsReceiver","_this35","waves_addresses","receiver","checkAddressInPool","_this36","_this37","isEmpty","addAddressToPool","field","_this$updateData","_this38","removeAddressFromPool","delete","_this39","uuid","v4_default","removeWavesAddress","_this40","lib_alerts","Alerts","splice","pages_Magazine","Magazine","_ComponentP","page","pageContext","assertThisInitialized_default","is_editor","is_admin","getMagazines","map","maps","magazine_articles","len","noMagazine","t0","getMagazine_Articles","checkMagazine","componentDidMount","setTimeout","componentDidUpdate","tooltip","boundary","placement","getMagazineTitle","is_html","img","src","alis_hackers_default","marginRight","height","marginBottom","getMagazineDescription","no_html","loadArticles","header_title","render_dashboard","subheader","nav_links_sub","card_image","subdomain","cover_image","profile_cover_default","layout","helmet","desc","image","header_home","links","footer","increaseTipAmount","Math","round","getCurrentAHT","currentAHT","afterAHT","removeClass","addClass","resetTipAmount","aht","earned","tipped","paid","tips","tips_html","exec_tip","render_dashboard_articles","render_dashboard_post","render_dashboard_settings","drawMagazine","backgroundImage","icon_image_url","backgroundSize","lineHeight","borderTop","drawArticle","last_tip","_i3","eye_catch_url","overview","user_display_name","pages_html","pages","ceil","_iterator3","_isArray3","_i4","textAlign","fontFamily","__webpack_exports__","default","V","157","m","module","exports","164","r","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","replace","navigateTo","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","children","Error","propTypes","object","string","isRequired","COMMON_HELMET","site_title","metas","_assets_images_404_jpg__WEBPACK_IMPORTED_MODULE_7___default","content","link","rel","react__WEBPACK_IMPORTED_MODULE_5___default","react_helmet__WEBPACK_IMPORTED_MODULE_6___default","meta","react__WEBPACK_IMPORTED_MODULE_5__","172","o","c","l","Layout","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","site","siteMetadata","lang","_public_static_d_755544856_json__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","node","173","174","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","pageResources","getResourcesForPathname","shape","175","Footer","link_items","176","Header_Home","login_btn","hold","AHT","linkTo","react__WEBPACK_IMPORTED_MODULE_6___default","data-toggle","overrideText","user_dropdown","collapse","noSubHeader","data-target","react__WEBPACK_IMPORTED_MODULE_6__","238","239"],"mappings":"sQA6BeA,cA1Bb,SAAAC,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,kBACDL,EAAMM,SAASC,OACjBN,EAAKI,QACHG,EAAAC,EAAIC,MAAMV,EAAMM,SAASC,WAAiBI,WAC1CA,OANaV,sCASbW,6CAAIC,8FACK,IAAIC,QAAQ,SAAAC,GACvBC,EAAKC,SAASJ,EAAOE,8IAFnBH,GAEmBG,EAGnBG,kDAASC,EAASC,4FACf,IAAIN,QAAQ,SAAAC,GACjBM,OAAOC,EAAEC,QAAT,uCACyCJ,EADzC,IACoDC,EADpD,QAEE,SAAAI,GACET,EAAIS,2GALNN,GAKMM,EAOC1B,CA3BU2B,EAAAC,WAAAC,EAAAlB,EAAA,KAAAmB,GAAAnB,EAAA,KAAAA,EAAA,MAAAoB,EAAApB,EAAAqB,EAAAF,GAAAG,EAAAtB,EAAA,KAAAuB,EAAAvB,EAAAqB,EAAAC,GAAAE,GAAAxB,EAAA,KAAAA,EAAA,MAAAyB,EAAAzB,EAAA,KCsEV0B,cArEb,SAAAC,EAAYpC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKS,OACHwB,UAHepC,8BAMnBqC,kBAAS,IAEHC,EAFGvB,EAAAZ,KACHiC,EAAQjC,KAAKJ,MAAMqC,MAoBvB,eAlBIjC,KAAKJ,MAAMqC,MAAMG,OACnBD,EACEE,EAAAhC,EAAAiC,cAAA,UACEC,GAAG,iBACHC,KAAK,SACLC,UAAS,YAAazC,KAAKJ,MAAMqC,MAAMS,YAAc,UACrDC,QAAS,eACF1B,OAAOC,EAAE,mBAAmB0B,SAAS,cACxC3B,OAAOC,EAAE,cAAce,MAAM,QAE7BrB,EAAKhB,MAAMqC,MAAMG,UAIpBpC,KAAKJ,MAAMqC,MAAMY,WAAa,OAKnCR,EAAAhC,EAAAiC,cAAA,OACEG,UAAU,aACVF,GAAG,YACHO,SAAS,KACTC,KAAK,SACLC,kBAAgB,oBAChBC,cAAY,QAEZZ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,qCAAqCM,KAAK,YACvDV,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,iBACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gBACbJ,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,cAAcF,GAAG,qBAC5BN,EAAMiB,OAETb,EAAAhC,EAAAiC,cAAA,UACEE,KAAK,SACLC,UAAU,QACVU,eAAa,QACbC,aAAW,WAGff,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,aAAaY,OAASC,UAAW,cAC7CrB,EAAMsB,MAETlB,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gBACbJ,EAAAhC,EAAAiC,cAAA,UACEE,KAAK,SACLC,UAAU,oBACVU,eAAa,SAEZlB,EAAMuB,aAAe,QAEvBrB,SASAJ,CAtEKV,EAAAC,WCyCLmC,cAxCb,SAAAC,EAAY9D,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,iCAGnBkC,kBACE,IAAIyB,EACFtB,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,yCACVzC,KAAKJ,MAAM+D,SAAX,uCAOL,OAHI3D,KAAKJ,MAAMgE,aACbD,EAAU,MAGVtB,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,OAAOY,OAASQ,MAAO,SACpCxB,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gBACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,yBACbJ,EAAAhC,EAAAiC,cAAA,OACEG,UAAU,4BACVY,OAASS,SAAU,SAEnBzB,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,sBAAuB,IACnCzC,KAAKJ,MAAMsD,OAAX,UAGHb,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,WACXzC,KAAKJ,MAAMmE,UAAX,eAEFJ,EACDtB,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,kBAAkBtC,KAAMH,KAAKJ,MAAMoE,UAAX,KACnC3B,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,0BACZzC,KAAKJ,MAAMqE,UAAX,iBAAAC,EASAT,CAzCOpC,EAAAC,WAAA6C,EAAA9D,EAAA,KCoEP+D,sBAnEb,SAAAC,EAAYzE,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,iCAGnBkC,kBAAS,IAAArC,EAAAG,KACHsE,KADGC,EAAA,cAAAC,EAAA,IAAAC,GAAAC,EAAAC,OAAA,cAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,cAAAF,EAAAH,EAAAM,MAAA,IAEExD,EAFFqD,EAGDI,cAAI,GACJzD,EAAEyD,OACJA,EAAO3C,EAAAhC,EAAAiC,cAAA,KAAGG,UAAS,SAAUlB,EAAE0D,SAAW,MAAvB,OAAkC1D,EAAEyD,QAEzD,IAAI3E,SACJ,WAAIkB,EAAEpB,KAAmB,CACvB,IAAI+E,EAAS,GACTC,EAAWtF,EAAKD,MAAMM,SAASiF,SAASC,eACxC7D,EAAE2D,QAAUC,IAAa5D,EAAEpB,QAC7B+E,EAAS,UAEX,IAAI/E,EAAOoB,EAAEpB,KACbE,EACEgC,EAAAhC,EAAAiC,cAAA,KAAGnC,KAAMA,EAAMsC,UAAS,YAAcyC,GACnCF,EACAzD,EAAE8D,UAGF,CACL,IAAIH,EAAS,GACT3D,EAAE+D,MAAQzF,EAAKD,MAAM2F,UAAU9E,MAAM+E,MACvCN,EAAS,UAEX7E,EACEgC,EAAAhC,EAAAiC,cAAA,KACEK,QAAS,WACP9C,EAAKD,MAAM2F,UAAU1E,UAAW2E,IAAKjE,EAAE+D,KAAO,mBACxC/D,EAAEkE,MACJlE,EAAEkE,UAIRhD,UAAS,YAAcyC,GAEtBF,EACAzD,EAAE8D,MAITf,EAAWoB,KACTrD,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,WAAW6C,IAAG,UAAW/D,EAAE+D,KAAO,QAC7CjF,KA1CPqE,EAAc1E,KAAKJ,MAAM+F,MAAzBnB,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAAgC,KAAAnB,EAAA,aAAAL,IAAA,MA8ChC,OACElC,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gCAAgCF,GAAG,sBAChDF,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,aACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,0BACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,yBACbJ,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,iDACX6B,UAUFF,CApES/C,EAAAC,YCGxB0E,EAAA3F,EAAO4F,OAAO,UA0ICC,cAvIb,SAAAC,EAAYvG,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,yCAGnBoG,0BAAiBC,GAAS,IAAAxG,EAAAG,KACxBA,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4CAA6C,IAD5D,WAKFc,KACElB,EAAAhC,EAAAiC,cAAA,eAEED,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,mBAAhB,IAAoC4D,EAAQnD,MAA5C,KAFF,kBAMFM,YAAa,QACbX,UAAW,KACXT,KAAM,WACJvC,EAAKD,MAAM2G,KAAKH,iBAAiBC,EAASxG,EAAKD,MAAM4G,mBAI3DC,wBAAeJ,GAAS,IAAAzF,EAAAZ,KACtBA,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4CADf,UAIFc,KACElB,EAAAhC,EAAAiC,cAAA,eAEED,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,mBAAhB,IAAoC4D,EAAQnD,MAA5C,KAFF,iBAMFM,YAAa,QACbX,UAAW,KACXT,KAAM,WACJxB,EAAKhB,MAAM2G,KAAKE,eAAeJ,EAASzF,EAAKhB,MAAM4G,mBAIzDtE,kBAAS,IACHwE,EADGC,EAAA3G,KAE2B,GAA9BA,KAAKJ,MAAMgH,kBACbF,EACErE,EAAAhC,EAAAiC,cAAA,UACEe,OAASwD,aAAc,GACvBpE,UAAU,kBACVE,QAAS,WACPgE,EAAK/G,MAAM2G,KAAKO,aAAaH,EAAK/G,MAAMmH,iBAJ5C,YAWJ,IAAIC,KACAC,KACJC,QAAQC,IAAInH,KAAKJ,OAjBV,IAAA2E,EAAA,cAAAC,EAAA,IAAAC,GAAAC,EAAAC,OAAA,cAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,cAAAF,EAAAH,EAAAM,MAAA,IAmBDqC,EADGf,EAlBFzB,EA0BHwC,UALAT,EAAK/G,MAAMyH,sBACXV,EAAK/G,MAAMyH,aAAahB,EAAQiB,qBAChCX,EAAK/G,MAAMyH,aAAahB,EAAQiB,YAAYX,EAAK/G,MAAM4G,aAIrDnE,EAAAhC,EAAAiC,cAAA,UACEG,UAAU,iBACVE,QAAS,WACPgE,EAAKP,iBAAiBC,KAH1B,MAWAhE,EAAAhC,EAAAiC,cAAA,UACEG,UAAU,kBACVE,QAAS,WACPgE,EAAKF,eAAeJ,KAHxB,MAUJY,EAASvB,KACPrD,EAAAhC,EAAAiC,cAAA,UACED,EAAAhC,EAAAiC,cAAA,UACED,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KACEnC,KAAI,mBAAqBkG,EAAQkB,QAA7B,aACFlB,EAAQiB,WAEVE,OAAO,UAEPnF,EAAAhC,EAAAiC,cAAA,SAAI+D,EAAQnD,SAGhBb,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,oBACZuD,IAA8B,IAAvBK,EAAQoB,cAAqBC,OAAO,oBAC5CrF,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,QACdJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,eAAe4D,EAAQsB,eAI1CtF,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,eAAe2E,KAGjCJ,GACE3E,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,oBACbJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,gDACfJ,EAAAhC,EAAAiC,cAAA,aACED,EAAAhC,EAAAiC,cAAA,oBACAD,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,iBAEhBJ,EAAAhC,EAAAiC,cAAA,aAAQ2E,KAGZP,IA/DJhC,EAAoB1E,KAAKJ,MAAMgI,qBAA/BpD,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAAuD,KAAAnB,EAAA,aAAAL,IAAA,MAmEvD,OAAOyC,KAIId,CAxIa7E,EAAAC,WAAAuG,GAAAxH,EAAA,KAAAA,EAAA,MAAAyH,EAAAzH,EAAAqB,EAAAmG,GCE5B7B,EAAA3F,EAAO4F,OAAO,UAoZC8B,cAjZb,SAAAC,EAAYpI,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKS,OACH+E,IAAK,SACLyC,eACAC,cACAC,gBAAiB,GACjBC,gBAAiB,IAPFvI,sCAUnBwI,uBAAcC,GAAS,IAAA1H,EAAAZ,KACjBuI,EAAUtH,OAAOC,EAAE,4BAA4BsH,MAC/CtF,EAAQjC,OAAOC,EAAE,mBAAmBsH,MACpCC,EAAcxH,OAAOC,EAAE,yBAAyBsH,MAChDE,EAASzH,OAAOC,EAAE,gBAAgBsH,MACtC,GAAKF,QAAWtI,KAAKS,MAAMyH,WAapB,IAAKI,GAAWI,EAAO/D,OAAS,EACrC3E,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,cAKFc,KAAMlB,EAAAhC,EAAAiC,cAAA,kCACNkB,YAAa,YAEV,WAAI+E,EACTvI,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,WAKFc,KAAMlB,EAAAhC,EAAAiC,cAAA,4BACNkB,YAAa,YAEV,GAA6B,OAAzBN,EAAMyF,MAAM,SACrB3I,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,WAKFc,KAAMlB,EAAAhC,EAAAiC,cAAA,gCACNkB,YAAa,YAEV,GAAIN,EAAMyB,OAAS,GACxB3E,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,cAKFc,KAAMlB,EAAAhC,EAAAiC,cAAA,uCACNkB,YAAa,YAEV,WAAIiF,GAA4BA,EAAY9D,OAAS,IAC1D3E,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,aAKFc,KAAMlB,EAAAhC,EAAAiC,cAAA,sCACNkB,YAAa,WAEV,CACL,IAAIoF,GACFN,QAASA,EACTpF,MAAOA,EACPqF,QAASA,EACTM,MAAO7I,KAAKJ,MAAMkJ,KAAKC,KAEK,OAA1BL,EAAOC,MAAM,WACfC,EAASF,OAASA,GAEe,OAA/BD,EAAYE,MAAM,WACpBC,EAASH,YAAcA,GAEzB,IAAIO,UAAS,GAEVhJ,KAAKJ,MAAMgJ,kBACV5I,KAAKJ,MAAMgJ,SAASF,QACI,OAA1BA,EAAOC,MAAM,WAEbK,MAEFJ,EAASI,OAASA,EACdV,GACFM,EAASrG,GAAKvC,KAAKJ,MAAMgJ,SAASrG,GAClCqG,EAAS7H,QAAUf,KAAKJ,MAAM4G,aAE9BoC,EAASrG,GAAK0G,MAEhBjJ,KAAKJ,MAAM2G,KAAK8B,cAAcO,EAAU5I,KAAM,WAC5CY,EAAKC,UACHqI,qBAAsB,GACtBC,eAAgB,GAChBf,gBAAiB,YAnGrBpI,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,cAKFc,KACElB,EAAAhC,EAAAiC,cAAA,6CAEFkB,YAAa,QAAAnD,EA8FnB+I,0BAAiB,IAAAzC,EAAA3G,KACfA,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4CAA6C,IAD5D,YAKFc,KACElB,EAAAhC,EAAAiC,cAAA,aACGD,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,eAAezC,KAAKJ,MAAMgJ,SAAS1F,OADnD,sBAKFL,UAAW,KACXT,KAAM,WACJuE,EAAK/G,MAAM2G,KAAK6C,eAAezC,EAAK/G,MAAMgJ,gBAI1CS,gIACArJ,KAAKS,MAAMyH,aACTlI,KAAKS,MAAM2H,gBAAgBzD,OAAS,EACtC3E,KAAKJ,MAAM0G,WACTpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,aAKFc,KAAMlB,EAAAhC,EAAAiC,cAAA,mCACNkB,YAAa,OAGfxD,KAAKJ,MAAM2G,KAAK8C,gBAAgBrJ,KAAKS,MAAM2H,gBAAiBpI,uGAd5DqJ,GAc4DrJ,EAIlEkC,kBAAS,IAEHoH,EAFGC,EAAAvJ,KACHwJ,EAAc,aAEdxJ,KAAKJ,MAAMgJ,WACbY,EAAc,KACdF,EACEjH,EAAAhC,EAAAiC,cAAA,KACEK,QAAS,WACP4G,EAAKH,kBAEP3G,UAAU,sCAJZ,OAUJ,IAGIgH,KAnBGlF,EAAA,cAAAC,EAAA,IAAAC,GAAAC,EAAAC,OAAA,cAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,cAAAF,EAAAH,EAAAM,MAAA,IAoBExD,EApBFqD,EAqBL6E,EAAe/D,KACbrD,EAAAhC,EAAAiC,cAAA,MACEgD,IAAK/D,EAAEgB,GACPc,OAASqG,OAAQ,WACjB/G,QAAS,WACP1B,OAAOf,SAASC,KAAhB,kBAAyCoB,EAAER,UAG7CsB,EAAAhC,EAAAiC,cAAA,UACED,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,SAAIf,EAAE2B,QAERb,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,oBACZuD,IAAOzE,EAAEoI,YAAYjC,OAAO,cAGjCrF,EAAAhC,EAAAiC,cAAA,UACED,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,SAASlB,EAAEkH,aAAe,QAlBjD/D,EAJgBkF,IAAE5J,KAAKJ,MAAMiK,mBAAqBC,OAAO,SAAAvI,GACvD,OAA8B,GAAtBA,EAAEoI,YAAc,KAG1BnF,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAAyB,KAAAnB,EAAA,aAAAL,IAAA,MAuBzB,IAAIwF,EAAiB,GACjBC,EAAuB,GACvB5B,EAAkB,GAClB6B,EAAwB,GACxBC,GACFC,GAAI,GACJC,OAAQ,YAGRpK,KAAKJ,MAAMgJ,kBACX5I,KAAKJ,MAAMgJ,SAASF,SAEpBuB,EAAwB,WACxB7B,EACEpI,KAAKS,MAAM2H,iBAAmBpI,KAAKJ,MAAMgJ,SAASF,QAAU,YAE5D1I,KAAKJ,MAAMgJ,UACbmB,EAAiB/J,KAAKS,MAAM0I,gBAAkBnJ,KAAKJ,MAAMgJ,SAAS1F,MAClE8G,EACEhK,KAAKS,MAAMyI,sBAAwBlJ,KAAKJ,MAAMgJ,SAASH,YACzDyB,EACElK,KAAKS,MAAMyJ,kBAAoBlK,KAAKJ,MAAMgJ,SAASL,SACjD,kBACAvI,KAAKJ,MAAMgJ,SAASF,SACtBN,EAAkBpI,KAAKS,MAAM2H,iBAAmB,MAGlDA,EAAkBpI,KAAKS,MAAM2H,iBAAmB,GAChD2B,EAAiB/J,KAAKS,MAAM0I,eAC5Ba,EAAuBhK,KAAKS,MAAMyI,qBAClCgB,EAAiBlK,KAAKS,MAAMyJ,kBAAoB,WAElD,IAAIG,EAAY,UACZC,EAAqB,GACrBC,EAAgB,GAChBC,EAAgB,SAChBC,EAAiB,UACS,eAA1BzK,KAAKS,MAAMyH,YACbmC,EAAY,OACZC,EAAqB,WACrBG,EAAiB,WACkB,aAA1BzK,KAAKS,MAAMyH,aACpBoC,EAAqB,WACrBD,EAAY,OACZE,EAAgB,cAChBC,EAAgB,UAChBC,EAAiB,WAEnB,IAAIC,EACFrI,EAAAhC,EAAAiC,cAAA,SACEqI,SAAU,SAAAC,GACR,IAAIrI,EAAKqI,EAAEpD,OAAOzC,MACdmD,KACAC,EAAkB,WAClBoB,EAAK9I,MAAMwH,YAAY1F,EAAG6C,gBAC5B8C,EAAa,aACbC,EAAkB,kBACoB,MAA7B5F,EAAGoG,MAAM,kBAA4BpG,EAAGoC,OAAS,MAC1DuD,EAAa,aACbC,EACE,kCAEJoB,EAAK1I,UACHuH,gBAAiB7F,EACjB2F,WAAYA,EACZC,gBAAiBA,KAGrBpD,MAAOqD,EACP7F,GAAG,cACHC,KAAK,OACLC,UAAS,gBAAkBzC,KAAKS,MAAMyH,WAA7B,KAA4CqC,EACrDM,SAAUZ,EACV5E,KAAK,qBACLyF,YAAY,UAGZC,EACF1I,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,eACZiI,EACDrI,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,sBACdJ,EAAAhC,EAAAiC,cAAA,UACEG,UAAS,WAAa4H,EAAb,IAA0BC,EACnCjH,OAASqG,OAAQe,GACjBjI,KAAK,SACLG,QAAOqI,IAAAC,EAAA5K,EAAA6K,KAAE,SAAAC,IAAA,OAAAF,EAAA5K,EAAA+K,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAxG,MAAA,cAAAwG,EAAAxG,KAAA,EACD0E,EAAKF,kBADJ,wBAAAgC,EAAAE,SAAAJ,EAAAnL,UAJX,UAmBN,eALEA,KAAKJ,MAAMgJ,kBACX5I,KAAKJ,MAAMgJ,SAASF,SAEpBqC,EAAeL,GAGfrI,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,QACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,eACbJ,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,cACZJ,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,gCACdJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,gBAFjB,SAKG+G,GAEHnH,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gBACbJ,EAAAhC,EAAAiC,cAAA,KACEK,QAAS,WACP4G,EAAKlB,sBAAckB,EAAK3J,MAAMgJ,WAEhCnG,UAAU,mCAET+G,GAEFF,IAGLjH,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,aACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,cACbJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,cAAjB,4BAGCsI,EACD1I,EAAAhC,EAAAiC,cAAA,OAAKG,UAAS,QAAU+H,EAAV,SACXxK,KAAKS,MAAM0H,kBAGhB9F,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,cACbJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,cAAjB,SACAJ,EAAAhC,EAAAiC,cAAA,SACEqI,SAAU,SAAAC,GACRrB,EAAK1I,UAAWsI,eAAgByB,EAAEpD,OAAOzC,SAE3CA,MAAOgF,EACPxH,GAAG,iBACHC,KAAK,OACLC,UAAS,eACT4C,KAAK,qBACLyF,YAAY,WAGhBzI,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,mBACbJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,cAAjB,eACAJ,EAAAhC,EAAAiC,cAAA,YACEC,GAAG,uBACHE,UAAU,eACV4C,KAAK,yBACLmG,KAAK,IACLV,YAAY,SACZH,SAAU,SAAAC,GACRrB,EAAK1I,UAAW4H,YAAamC,EAAEpD,OAAOzC,UAGvCiF,IAGL3H,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,cACbJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,cAAjB,sBAGAJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,qBACbJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,oBACfJ,EAAAhC,EAAAiC,cAAA,SACEK,QAAS,WACP4G,EAAK1I,UAAWqJ,iBAAkB,QAEpCuB,QAASvB,EAAiBC,GAC1B3H,KAAK,QACL6C,KAAK,UACLN,MAAM,KACNtC,UAAU,sBAEZJ,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,sBAAhB,SAEFJ,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,oBACfJ,EAAAhC,EAAAiC,cAAA,SACEK,QAAS,WACP4G,EAAK1I,UAAWqJ,iBAAkB,YAEpCuB,QAASvB,EAAiBE,OAC1B5H,KAAK,QACL6C,KAAK,UACLN,MAAM,SACNtC,UAAU,sBAEZJ,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,sBAAhB,aAAAyB,EAUD6D,CAlZQ1G,EAAAC,WCqBRoK,cA7Bb,SAAAC,EAAY/L,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,iCAGnBkC,kBAAS,IAAArC,EAAAG,KAEH4L,KAoBJ,OArBa5L,KAAKJ,MAAM+F,WAEjBkG,QAAQ,SAACtK,EAAGuK,GACjBF,EAAWlG,KACTrD,EAAAhC,EAAAiC,cAAA,OACES,KAAK,QACLN,UAAS,eAAiBlB,EAAEiB,KAAnB,aACTa,OAASQ,MAAO,SAEhBxB,EAAAhC,EAAAiC,cAAA,UACEE,KAAK,SACLC,UAAU,QACVE,QAAS,WACP9C,EAAKD,MAAMmM,OAAOC,cAAcF,MAGnCvK,EAAE0K,SAKF5J,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,OAAOmJ,MAIlBF,CA9BKrK,EAAAC,WAAA4K,GAAA7L,EAAA,IAAAA,EAAA,IAAAA,EAAA,IAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,MAAA8L,EAAA9L,EAAAqB,EAAAwK,GAAAE,EAAA/L,EAAA,KAAAgM,EAAAhM,EAAAqB,EAAA0K,GCMpBE,EAAQ,KACR,IAAMC,GACJC,cACEtJ,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,2BADf,WAIFc,KAAM,4BACNC,YAAa,MAEfiJ,uBACEvJ,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,2BADf,SAIFc,KACE,qCACFC,YAAa,MAEfkJ,eACExJ,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,2BADf,gBAIFc,KAAM,uBACNC,YAAa,OAGXmJ,GACJC,OAAQ,0CACRC,WAAe,gCACfC,YAAW,uCACXC,UAAW,gBACXC,cAAkB,4BAClBC,kBAAmB,eACnBC,0BAEFC,EAAA9M,EAAS+M,cAAcT,GACvBzF,QAAQC,IAAIwF,OAiqCGpG,aA/pCb,SAAA8G,EAAY9H,EAAW+H,GAAW,IAAAzN,EAAAG,KAGhC,YAHqBsN,UACrBtN,KAAKsN,KAAOA,EACZtN,KAAKuF,UAAYA,EACK,oBAAXtE,OAAwB,CACjC,IAAMsM,EAAWjB,EAAQ,KACrBkB,EAAUD,EAASE,eAErBD,EAAUD,EAASG,eAErB1N,KAAK2N,MAAQJ,EAASK,OAAOJ,GAC7BxN,KAAK6N,GAAKV,EAAA9M,EAASyN,YACnB9N,KAAK+N,SAAW,IAAIZ,EAAA9M,EAASkG,KAAKyH,oBAClChO,KAAKiO,gBAAkB,IAAId,EAAA9M,EAASkG,KAAK2H,mBACzCf,EAAA9M,EAASkG,OAAO4H,oBAChBhB,EAAA9M,EAASkG,OAAO6H,mBAAmB,SAAAtF,GAC7BA,EACFjJ,EAAKwO,QAAQvF,EAAM,SAAAwF,GACjBzO,EAAK0O,YAAYD,UAGfzO,EAAKyN,KAAKkB,SACZvN,OAAOf,SAASC,KAAO,IAEvBN,EAAK0F,UAAU1E,UAAWiI,KAAM,KAAM2F,eAAQ,IAAAvK,EAAA0G,EAAA8D,UAAA,OAAAxK,EAMxDyK,uBAAcpH,EAASqH,EAAIC,GACzB7O,KAAK6N,GACFiB,WAAW,WACXC,IAAIxH,GACJyH,MACAC,KAAK,SAAAC,GACJN,EAAGM,KAEJC,MAAM,SAAAvE,GACLiE,EAAIjE,QAIVwE,iBAAQrK,EAAO6J,EAAIC,GAAK,IAAAjO,EAAAZ,aAClB6O,IACFA,EAAM,SAAAjE,GACJ1D,QAAQC,IAAIyD,GACZhK,EAAK2E,UAAUwG,OAAOsD,UAAtB,kCAKJrP,KAAK6N,GACFiB,WAAW,SACXC,IAAI/O,KAAKuF,UAAU9E,MAAMqI,KAAKC,KAC9BvI,IAAIuE,GAASuK,WACbL,KAAK,SAAAC,GACJN,MAEDO,MAAM,SAAAvE,GACLiE,EAAIjE,QAGV2E,oBAAWxK,EAAO6J,EAAIC,GAAK,IAAAlI,EAAA3G,aACrB6O,IACFA,EAAM,SAAAjE,GACJ1D,QAAQC,IAAIyD,GACyC,OAAjDA,EAAE4E,WAAW7G,MAAM,0BACrBhC,EAAKyI,QAAQrK,EAAO6J,EAAIC,GAExBlI,EAAKpB,UAAUwG,OAAOsD,UAAtB,kCAONrP,KAAK6N,GACFiB,WAAW,SACXC,IAAI/O,KAAKuF,UAAU9E,MAAMqI,KAAKC,KAC9B0G,OAAO1K,GACPkK,KAAK,SAAAC,GACJN,MAEDO,MAAM,SAAAvE,GACLiE,EAAIjE,QAGV8E,wBAAeC,GAAY,IAAApG,EAAAvJ,KACrB4P,EAAW5P,KAAKuF,UAAU9E,MAAMmP,qBAChCA,EAASC,WACXD,EAASC,qBAEPD,EAASC,SAASF,KACpBC,EAASC,SAASF,IAAgBG,mBAEhCF,EAASC,SAASF,GAAYI,YAChCH,EAASC,SAASF,GAAYI,UAAYC,KAAKC,OAEjD,IAAIH,KACAI,KACJxL,EAAc1E,KAAKuF,UAAU4K,QAAQL,MAArCtL,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAA4C,KAAAnB,EAAA,GAAAJ,EAAA,IAAAC,GAAAC,EAAAC,OAAA,MAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,MAAAF,EAAAH,EAAAM,MAAA,IAAnCxD,EAAmCqD,UACtCrD,EAAE6O,gBAEDpQ,KAAKuF,UAAU9E,MAAM4P,kBAAuB9O,EAAE6O,OAA/C,QAGAN,EAAMpK,MACJ4K,QAAS/O,EAAEgB,GACX6N,OAAQ7O,EAAE6O,OACV7N,GAAIvC,KAAKuF,UAAU9E,MAAM4P,aAAgB9O,EAAE6O,OAAvC,QAAqDrH,eAG1D/I,KAAKuF,UAAU9E,MAAM8P,gBAAkBhP,EAAE6O,QAE1CN,EAAMpK,MACJ4K,QAAS/O,EAAEgB,GACX6N,OAAQ7O,EAAE6O,OACV7N,GAAIvC,KAAKuF,UAAU9E,MAAM8P,WAAWhP,EAAE6O,QAAQ7N,KAGhD2N,KAGFJ,EAAMpK,SAGV,GAAe,GAAXwK,EAAJ,CAYA,IAAIM,GACFzH,IAAK/I,KAAKuF,UAAU9E,MAAMqI,KAAKC,IAC/B4G,WAAY,OACZc,KAAMT,KAAKC,MACXH,MAAOA,EACPC,cAEEW,EAAe,QAAWF,EAAkBzH,IAChD/I,KAAK6N,GACFiB,WAAW,gBACXC,IAAI2B,GACJlQ,IAAIgQ,GACJvB,KAAK,SAAAC,GACJ3F,EAAKoH,YAAY,WAAYf,EAASC,SAAU,WAC9CtG,EAAKhE,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,8BADf,aAIFc,KACE,yCACFC,YAAa,WAIlB2L,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,GACZrB,EAAKhE,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,2BADf,WAIFc,KAAM,+BACNC,YAAa,cA9CjBxD,KAAKuF,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,2BADf,WAIFc,KAAM,+BACNC,YAAa,QAAAU,EA2CnB0M,sBAAajB,EAAYW,GACvB,IAAIV,EAAW5P,KAAKuF,UAAU9E,MAAMmP,qBAChCA,EAASC,WACXD,EAASC,qBAEPD,EAASC,SAASF,KACpBC,EAASC,SAASF,IAAgBG,WAEpCF,EAASC,SAASF,GAAYG,MAAMQ,GAAWN,KAAKC,MACpDjQ,KAAK2Q,YAAY,WAAYf,EAASC,SAAU,eAAA3L,EAGlDqK,qBAAYzF,GAAM,IAAA+H,EAAA7Q,KAChBA,KAAK6N,GACFiB,WAAW,SACXC,IAAIjG,EAAKC,KACTiG,MACAC,KAAK,SAAAC,GACJ,IAAIU,EAAWV,EAAG4B,WAClBD,EAAKtL,UAAU1E,UAAW+O,SAAUA,GAAY,WAC9CiB,EAAKE,cAAcjI,GACnB+H,EAAKG,WAAWlI,QACZ+H,EAAKvD,KAAK1E,WACZiI,EAAKI,eAAenI,GACpB+H,EAAKK,eAAepI,GACpB+H,EAAKM,gBAAgBrI,GACrB+H,EAAKO,4BAEHP,EAAKvD,KAAK+D,OACZR,EAAKS,qBAAqBT,EAAKvD,KAAK+D,OAGH,uBAAjCR,EAAKtL,UAAU9E,MAAMqI,KAAKvG,SAC1BsO,EAAKvD,KAAKiE,cAEVV,EAAKW,kBAG4B,uBAAjCX,EAAKtL,UAAU9E,MAAMqI,KAAKvG,SAC1BsO,EAAKvD,KAAKmE,aAEVZ,EAAKa,qBAIVvC,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlBmG,uBAAcjI,GAAM,IAAA6I,EAAA3R,KAClBA,KAAK6N,GACFiB,WAAW,gBACXC,IAAIjG,EAAKC,KACTiG,MACAC,KAAK,SAAAC,GACJ,IAAIqB,EAAarB,EAAG4B,WACpBa,EAAKpM,UAAU1E,UAAW0P,WAAYA,GAAc,gBAErDpB,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlBqG,wBAAenI,GAAM,IAAA8I,EAAA5R,KACnBA,KAAK6N,GACFiB,WAAW,SACXC,IAAIjG,EAAKC,KACT+F,WAAW,WACXE,MACAC,KAAK,SAAAC,GACJ,IAAI2C,KACJ3C,EAAGrD,QAAQ,SAAAkD,GACT8C,EAAQnM,KAAKqJ,EAAI+B,UAEnBe,EAAUjI,IAAEiI,GAAS/H,OAAO,SAAAvI,GAC1B,OAAiB,EAAVA,EAAEkP,OAEXmB,EAAKrM,UAAU1E,UAAWgR,QAASA,GAAW,gBAE/C1C,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlBoG,oBAAWlI,GAAM,IAAAgJ,EAAA9R,KACfA,KAAK6N,GACFiB,WAAW,SACXC,IAAIjG,EAAKC,KACT+F,WAAW,OACXE,MACAC,KAAK,SAAAC,GACJ,IAAI6C,KACJ7C,EAAGrD,QAAQ,SAAAkD,GACTgD,EAAIrM,KAAKqJ,EAAI+B,UAEfiB,EAAMnI,IAAEmI,GAAKjI,OAAO,SAAAvI,GAClB,OAAiB,EAAVA,EAAEkP,OAEXqB,EAAKvM,UAAU1E,UAAWmR,YAAaD,GAAO,gBAE/C5C,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlBvB,yBAAgB9G,EAAI0P,GAAiB,IAC/BC,EAD+BC,EAAAnS,KAGjCkS,EAAQ,OAEV3P,EAAKA,EAAG6C,cACRnE,OAAOC,EAAEkR,KACJ,sEACD5L,YAAajE,GACf,SAAAnB,GACE,GAAkB,MAAdA,EAAKiR,MACPF,EAAK5M,UAAUe,UAAUiG,EAAOG,mBAC3B,CACL,QAAItL,EAAKkR,OACPL,EAAgBpR,UACdqH,WAAY,WACZC,gBAAoB+J,EAAL,MACbK,QAAAC,sBAAA,UAAAC,oBAAA,gBAAAC,iBAAA,0CAAAC,uBAAA,gBAAAC,gBAAA,gBAAAC,mBAAA,eAAAC,eAAA,2BAAAC,cAAA,UAAAC,SAAA,+CAAAC,sBAAA,0CAAAC,iBAAA,qBAAAC,kBAAA,kBAAAC,iBAAA,kBAAAC,kBAAA,kBAAAC,oBAAA,kBAAAC,WAAA,kBAAAC,iBAAA,kBAAAC,qBAAA,kBAAAC,SAAA,aAAAC,WAAA,oDAAAC,YAAA,mBAAAC,mBAAA,qBAAYC,gBADC,IAEXvR,EAFW,yBAIZ,CACL,IAAI0F,EAAcgK,EAAgBxR,MAAMwH,YACxCA,EAAY1F,MACZ0P,EAAgBpR,UACdoH,YAAaA,EACbC,WAAY,aACZC,gBAAe,iBAGnBjB,QAAQC,IAAI/F,SAKpB0F,sBAAaiN,GAAkB,IAAAC,EAAAhU,KACzB+I,EAAM/I,KAAKuF,UAAU9E,MAAMqI,KAAKC,IACpC9H,OAAOC,EAAEkR,KACJ,iEAA6DrJ,EADlE,IAEI/I,KAAKuF,UAAU9E,MAAM8P,WAAW0D,KAAK1M,SAErCwM,iBAAkBA,GACpB,SAAA3S,GACE,GAAkB,MAAdA,EAAKiR,MACP2B,EAAKzO,UAAUe,UAAUiG,EAAOG,mBAC3B,CACL,IAAI9E,GACFoM,EAAKzO,UAAU9E,MAAMmH,sBACrBsM,OAAO9S,EAAK6F,UACVkN,GACFpN,cAAe3F,EAAK2S,iBACpBnM,iBAAkBA,GAEQ,GAAxBxG,EAAK6F,SAAStC,gBAAevD,EAAK2S,mBACpCI,EAASvN,oBAEXoN,EAAKzO,UAAU1E,SAASsT,EAAU,mBAC5BJ,GACFC,EAAKI,kCAOjBA,mCAA0B,IAAAC,EAAArU,KACxBA,KAAK6N,GACFiB,WAAW,gBACXC,IAAI/O,KAAKuF,UAAU9E,MAAMqI,KAAKC,KAC9B+F,WAAW,qBACXE,MACAC,KAAK,SAAAC,GACJ,IAAIjI,KACJiI,EAAGrD,QAAQ,SAAAkD,GACT9H,EAAS8H,EAAIxM,IAAMwM,EAAI+B,SAEzBuD,EAAK9O,UAAU1E,UAAWwG,aAAcJ,GAAY,gBAErDkI,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlBwG,4BAAmB,IAAAkD,EAAAtU,KACjBA,KAAK6N,GACFiB,WAAW,gBACXC,IAAI/O,KAAKuF,UAAU9E,MAAMqI,KAAKC,KAC9B+F,WAAW,aACXE,MACAC,KAAK,SAAAC,GACJ,IAAIqF,KACJrF,EAAGrD,QAAQ,SAAAkD,GACTwF,EAAU7O,KAAKqJ,EAAI+B,UAGrBwD,EAAK/O,UAAU1E,UAAWgJ,cAAe0K,GAAa,gBAEvDpF,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAIlBnE,wBAAeJ,EAASG,GAAa,IAAAgO,EAAAxU,KACnCA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,mEAEDsC,aAAcA,EACdrO,QAASsO,KAAKC,UAAUvO,GACxB0C,IAAKyL,EAAKjP,UAAU9E,MAAMqI,KAAKC,IAC/B8L,IAAKrO,GAEP,SAAApF,GACoB,MAAdA,EAAKiR,MACPmC,EAAKjP,UAAUe,UAAUiG,EAAOG,gBAEhC8H,EAAKjP,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4BADf,YAIFc,KAAS8C,EAAQnD,MAAb,gBACJM,YAAa,OAEfgR,EAAKJ,kCAMfhO,0BAAiBC,EAASG,GAAa,IAAAsO,EAAA9U,KACrCA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,sEAEDsC,aAAcA,EACdrO,QAASsO,KAAKC,UAAUvO,GACxB0C,IAAK+L,EAAKvP,UAAU9E,MAAMqI,KAAKC,IAC/B8L,IAAKrO,GAEP,SAAApF,GACoB,MAAdA,EAAKiR,MACPyC,EAAKvP,UAAUe,UAAUiG,EAAOG,gBAEhCoI,EAAKvP,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4BAA6B,IAD5C,gBAKFc,KAAS8C,EAAQnD,MAAb,kBACJM,YAAa,OAEfsR,EAAKV,kCAMfrC,aAAIgD,EAAQ1O,EAASG,GAAa,IAAAwO,EAAAhV,KAChCA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,wDAEDsC,aAAcA,EACdrO,QAASsO,KAAKC,UAAUvO,GACxB0C,IAAKiM,EAAKzP,UAAU9E,MAAMqI,KAAKC,IAC/BvC,YAAaA,EACbuO,OAAQA,GAEV,SAAA3T,GACoB,MAAdA,EAAKiR,MACP2C,EAAKzP,UAAUe,UAAUiG,EAAOG,gBAEhCsI,EAAKzP,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4BADf,WAIFc,KACElB,EAAAhC,EAAAiC,cAAA,eACI+D,EAAQnD,MADZ,MAEKb,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,gBAAgBsS,GAFlC,eAMFvR,YAAa,OAEfwR,EAAKjE,cAAciE,EAAKzP,UAAU9E,MAAMqI,MACxCkM,EAAKhE,WAAWgE,EAAKzP,UAAU9E,MAAMqI,cAM/CqI,yBAAgBrI,GAAM,IAAAmM,EAAAjV,KACpBA,KAAK6N,GACFiB,WAAW,SACXC,IAAIjG,EAAKC,KACT+F,WAAW,YACXE,MACAC,KAAK,SAAAC,GACJ,IAAIjI,KACJiI,EAAGrD,QAAQ,SAAAkD,GACT9H,EAASvB,KAAKqJ,EAAI+B,UAEpB7J,EAAW2C,IAAE3C,GAAU6C,OAAO,SAAAvI,GAC5B,OAAyB,EAAlBA,EAAEkG,eAEXwN,EAAK1P,UAAU1E,UAAWoG,SAAUA,GAAY,gBAEjDkI,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAIlB4G,2BAAkB,IAAA0D,EAAAlV,KAChBA,KAAK6N,GACFiB,WAAW,WACXqG,MAAM,eAAgB,KAAM,SAC5BnG,MACAC,KAAK,SAAAC,GACJ,IAAI2C,KACJ3C,EAAGrD,QAAQ,SAAAkD,GACT8C,EAAQnM,KAAKqJ,EAAI+B,UAEnBe,EAAUjI,IAAEiI,GAAS/H,OAAO,SAAAvI,GAC1B,OAAiB,EAAVA,EAAEkP,OAEXyE,EAAK3P,UAAU1E,UAAWuU,cAAevD,GAAW,gBAErD1C,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlB8G,0BAAiB,IAAA2D,EAAArV,KACfA,KAAK6N,GACFiB,WAAW,UACXE,MACAC,KAAK,SAAAC,GACJ,IAAIoG,KACJpG,EAAGrD,QAAQ,SAAAkD,GACT,IAAIwG,EAASxG,EAAI+B,OACjBwE,EAAQC,EAAOtB,MAAQsB,EAAOC,UAEhCH,EAAK9P,UAAU1E,UAAWyU,QAASA,GAAW,gBAE/CnG,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAIlBsG,wBAAepI,GAAM,IAAA2M,EAAAzV,KACnBA,KAAK6N,GACFiB,WAAW,SACXC,IAAIjG,EAAKC,KACT+F,WAAW,WACXE,MACAC,KAAK,SAAAC,GACJ,IAAIwG,KACJxG,EAAGrD,QAAQ,SAAAkD,GACT2G,EAAQhQ,KAAKqJ,EAAI+B,UAEnB4E,EAAU9L,IAAE8L,GAAS5L,OAAO,SAAAvI,GAC1B,OAAiB,EAAVA,EAAEkP,OAEXgF,EAAKlQ,UAAU1E,UAAW6U,QAASA,GAAW,gBAE/CvG,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,QAGlB+K,8BAAqBC,GAAO,IAAAC,EAAA7V,KAC1BA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,8DAEDsC,aAAcA,EACdkB,MAAOA,EACP7M,IAAK8M,EAAKtQ,UAAU9E,MAAMqI,KAAKC,KAEjC,SAAA3H,GACoB,MAAdA,EAAKiR,MACY,IAAfjR,EAAKiR,MACPwD,EAAKtQ,UAAUe,UAAUiG,EAAOC,cAEhCqJ,EAAKtQ,UAAUe,UAAUiG,EAAOG,eAGlCmJ,EAAKtH,YAAYsH,EAAKtQ,UAAU9E,MAAMqI,aAMhDgN,iBAAQ,IAAAC,EAAA/V,KACF6P,EAAW7P,KAAKuF,UAAU9E,MAAMmP,SAASC,SACzCmG,EAASnG,EAASoG,KAAKD,OAC3B,IAAK,IAAI7R,KAAK0L,EAASoG,KAAKnG,MACtBkG,EAAOE,SAAS,QAAU/R,WACrB0L,EAASoG,KAAKnG,MAAM3L,UAGxB0L,EAASoG,KAAKD,OACrBhW,KAAK2Q,YAAY,WAAYd,EAAU,WACrCkG,EAAKxQ,UAAUwG,OAAOsD,UAAtB,wDAAAnL,EAMJmK,iBAAQvF,EAAM8F,GACZ,IAAIN,GACF3E,WAAYb,EAAKqN,SAASC,aAC1BC,YAAavN,EAAKuN,YAClBC,SAAUxN,EAAKwN,SACfvN,IAAKD,EAAKC,IACVxG,GAAIuG,EAAKyN,aAAa,GAAGxN,KAEvBsH,KACJvH,EAAKyN,aAAa1K,QAAQ,SAAAtK,GACxB8O,EAAa9O,EAAEiV,YAAcjV,IAE/BvB,KAAKuF,UAAU1E,UACXiI,KAAMwF,EAAcG,UAAc4B,aAAcA,GAClD,mBACMzB,GACFA,EAAGN,QAKXmI,qBAAYC,EAAI3B,EAAQ4B,EAAUnU,GAAM,IAAAoU,EAAA5W,KACtCA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,4DAED5P,KAAMA,EACNkS,aAAcA,EACd3L,IAAK6N,EAAKrR,UAAU9E,MAAMqI,KAAKC,IAC/B8N,WAAYD,EAAKrR,UAAU9E,MAAMqI,KAAKvG,GACtCwS,OAAQA,EACR2B,GAAIA,EAAG3N,IACP4N,SAAUA,EACVL,SAAUI,EAAGJ,SACbD,YAAaK,EAAGL,aAElB,SAAAjV,GACoB,MAAdA,EAAKiR,MACPuE,EAAKrR,UAAUe,UAAUiG,EAAOG,gBAEhCkK,EAAKrI,YAAYqI,EAAKrR,UAAU9E,MAAMqI,MACtC8N,EAAKrR,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,4BAA6B,IAD5C,eAKFc,KACEmT,EAAGL,YADD,aAEStB,EAFT,gBAGJvR,YAAa,aAAAU,EAOzB4S,wBAAe,IAAAC,EAAA/W,KACbA,KAAKyU,eAAe,SAAAC,GAClB,IAAIsC,EAAS,yFAA4FC,mBACvG,2CADW,iGAEuFvC,EAFvF,IAGXqC,EAAKxR,UAAU9E,MAAMqI,KAAKC,IAE5B9H,OAAOf,SAASC,KAAO6W,OAG3BE,uBAAc,IAAAC,EAAAnX,KACZmN,EAAA9M,EACGkG,OACA6Q,YAAYC,cAAcrX,KAAKiO,iBAC/BgB,KAAK,SAAAqI,GACJH,EAAK9I,QAAQiJ,EAAOxO,QAErBqG,MAAM,SAAAkD,GACLnL,QAAQC,IAAIkL,GACZ8E,EAAK5R,UAAUe,UAAUiG,EAAOC,mBAGtC+K,yBAAgBxC,EAAQyC,GAAS,IAAAC,EAAAzX,KAC3B+I,EAAM/I,KAAKuF,UAAU9E,MAAMqI,KAAKC,IAChC2M,EAAU1V,KAAKuF,UAAU9E,MAAMiV,QAC/BjF,EAAOT,KAAKC,MACZyH,GACF3C,OAAQA,EACRyC,QAASA,EACT/G,KAAMA,EACNkH,OAAQ,aAENC,GACF7O,IAAKA,EACLgM,OAAQA,EACRyC,QAASA,EACT/G,KAAMA,EACNkH,OAAQ,aAEVjC,EAAQmC,QAAQH,GAChB1X,KAAK6N,GACFiB,WAAW,SACXC,IAAIhG,GACJ+F,WAAW,WACXC,IAAO0B,EAJV,IAIkBsE,GACfvU,IAAIkX,GACJzI,KAAK,WACJwI,EAAKlS,UAAU1E,UAAW6U,QAASA,MAEvC1V,KAAK6N,GACFiB,WAAW,gBACXC,IAAIhG,EAAM,IAAM0H,GAChBjQ,IAAIoX,GACJ3I,KAAK,WACJwI,EAAKlS,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6CAA8C,IAD7D,aAKFc,KACElB,EAAAhC,EAAAiC,cAAA,mFAIFkB,YAAa,UAAAU,EAIrB4T,4BAAmB,IAAAC,EAAA/X,KACjBA,KAAK6N,GACFiB,WAAW,sBACXE,MACAC,KAAK,SAAAtO,GACJ,IAAIqX,KACJrX,EAAIkL,QAAQ,SAAAqD,GACV,IAAI+I,EAAM/I,EAAG4B,OACbkH,EAAWtS,MAAOuO,KAAM/E,EAAG3M,GAAIyV,WAAYC,MAE7CF,EAAKxS,UAAU1E,UAAWqX,cAAeF,SAG/CG,yBAAgBlE,EAAMmE,EAAaC,GACjC,IAAIL,EACAE,EAAgBG,EAAiB5X,MAAMyX,cAC3CI,EAAcJ,EAAdK,EAAA3S,MAAAC,QAAAyS,GAAAE,EAAA,MAAAF,EAAAC,EAAAD,IAAAxS,OAAAC,cAA6B,KAAA0S,EAAA,GAAAF,EAAA,IAAAC,GAAAF,EAAA3T,OAAA,MAAA8T,EAAAH,EAAAE,SAAA,KAAAA,EAAAF,EAAAzT,QAAAC,KAAA,MAAA2T,EAAAD,EAAAzT,MAAA,IAApBxD,EAAoBkX,EAC3B,GAAIlX,EAAE0S,MAAQA,EAAM,CAClB,IAAK,IAAI9P,KAAK5C,EAAEyW,eACV7T,EAAEiB,eAAiBgT,EAAYhT,cACjC7D,EAAEyW,WAAW7T,GAAGsH,kBAETlK,EAAEyW,WAAW7T,GAAGsH,QAG3BuM,EAAazW,EAAEyW,WACf,OAIJhY,KAAK6N,GACFiB,WAAW,sBACXC,IAAIkF,GACJzT,IAAIwX,GACJ/I,KAAK,WACJoJ,EAAiBxX,UAAWqX,cAAeA,SAGjDQ,uBAAcN,EAAaxJ,GACzB5O,KAAK6N,GACFiB,WAAW,WACXqG,MAAM,oBAAqB,KAAMiD,EAAYhT,eAC7CuT,MAAM,GACN3J,MACAC,KAAK,SAAAC,GACJ,IAAIoD,KACJpD,EAAGrD,QAAQ,WACTyG,OAEF1D,EAAG0D,KAEJnD,MAAM,SAAAvE,GACLgE,SAAG1K,EAGT0U,sBAAaR,EAAaS,EAAWR,GAAkB,IAAAS,EAAAC,EAAA/Y,KACjDgY,EAAaK,EAAiB5X,MAAMuX,eACxChY,KAAK6N,GACFiB,WAAW,sBACXC,IAAI8J,EAAUtR,SACd/G,KAHHsY,OAAAE,SAKoBH,EALpBC,EAAA,GAMUV,IACF3H,KAAMT,KAAKC,MACXlH,IAAK/I,KAAKuF,UAAU9E,MAAMqI,KAAKC,KARvC+P,IAWMxJ,WAEHL,KAAK,WACJ+I,EAAWtS,KAAK0S,GAChBC,EAAiBxX,UAAWmX,WAAYA,IACxCe,EAAKxT,UAAUwG,OAAOsD,UAAtB,mCAEE,aAGHF,MAAM,SAAAkD,GACL0G,EAAKxT,UAAUe,UAAUiG,EAAOG,oBAGtCuM,uBAAcJ,EAAWR,GACvBrY,KAAK6N,GACFiB,WAAW,sBACXC,IAAI8J,GACJ7J,MACAC,KAAK,SAAAC,GACJ,IAAIgK,KACJ,GAAIhK,EAAGoD,OAAQ,CACb,IAAI0F,EAAa9I,EAAG4B,OACpB,IAAK,IAAI3M,KAAK6T,EACF,aAAN7T,GACF+U,EAASxT,KAAKvB,GAGlBkU,EAAiBxX,UAAWmX,WAAYkB,UAIhDC,qBAAYrQ,GAAM,IAAAsQ,EAAApZ,KACVqZ,EAAYrZ,KAAKuF,UAAU9E,MAAMqI,KAAKC,IAAhC,IAAuCiH,KAAKC,MACxDjQ,KAAK6N,GACFiB,WAAW,UACXC,IAAIsK,GACJ7Y,KAAMgV,QAAS1M,EAAKwQ,OAAQrF,KAAMnL,EAAKvB,UACvC0H,KAAK,WACJ,IAAIqG,EAAU8D,EAAK7T,UAAU9E,MAAM6U,YACnCA,EAAQxM,EAAKvB,SAAWuB,EAAKwQ,OAC7BF,EAAK7T,UAAU1E,UAAWyU,QAASA,MAEpCnG,MAAM,SAAAkD,GACL+G,EAAK7T,UAAUe,UAAUiG,EAAOG,oBAGtC6M,yBAAgB,IAAAC,EAAAxZ,KACdmN,EAAA9M,EACGkG,OACA6Q,YAAYqC,OAAO,cACnBxK,KAAK,SAAAqI,GACJkC,EAAKnL,QAAQiJ,KAEdnI,MAAM,SAAAkD,GACLmH,EAAKjU,UAAUe,UAAUiG,EAAOE,4BAGtCiN,uBAAc,IAAAC,EAAA3Z,KACZkH,QAAQC,IAAInH,KAAKuF,UAAU9E,OAC3BT,KAAK6N,GACFiB,WAAW,aACXC,IAAI/O,KAAKuF,UAAU9E,MAAM+F,aACzBwI,MACAC,KAAK,SAAAC,GACAA,EAAGoD,QACLqH,EAAKpU,UAAU1E,UAAW+H,SAAUsG,EAAG4B,cAI/C1H,wBAAeR,GAAU,IAAAgR,EAAA5Z,KACvBA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,mEACDwH,EAAKrU,UAAU9E,MAAMqI,KAAKC,IAF9B,IAGM2L,EAHN,IAIE9L,EAJF,eAAAiR,EAAA7O,IAAAC,EAAA5K,EAAA6K,KAKE,SAAA4O,EAAM1Y,GAAN,OAAA6J,EAAA5K,EAAA+K,KAAA,SAAA2O,GAAA,cAAAA,EAAAzO,KAAAyO,EAAAlV,MAAA,OACoB,MAAdzD,EAAKiR,MACPuH,EAAKrU,UAAUe,UAAUiG,EAAOG,gBAEhC9D,EAASoR,QAAUhK,KAAKC,MACxB2J,EAAKrU,UAAU1E,UAEX+H,SAAUA,EACVqR,QAASjK,KAAKC,OAEhB,WACE2J,EAAKrU,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,8BADf,UAIFc,KAAM,eACNC,YAAa,UAlBvB,wBAAAuW,EAAAxO,SAAAuO,EAAA9Z,SALF,gBAAAka,GAAA,OAAAL,EAAAM,MAAAna,KAAAoa,YAAA,OAAAlW,EAgCJmE,uBAAcO,EAAUqJ,EAAiBoI,GAAU,IAAAC,EAAAta,KACjDA,KAAKyU,eAAe,SAAAC,GAClBzT,OAAOC,EAAEkR,KACJ,kEACDkI,EAAK/U,UAAU9E,MAAMqI,KAAKC,IAF9B,IAGM2L,EAHN,IAIE9L,EAJF,eAAA2R,EAAAvP,IAAAC,EAAA5K,EAAA6K,KAKE,SAAAC,EAAM/J,GAAN,IAAA6G,EAAA,OAAAgD,EAAA5K,EAAA+K,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAxG,MAAA,OACoB,MAAdzD,EAAKiR,MACY,IAAfjR,EAAKiR,OACPiI,EAAK/U,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,2BADf,YAIFc,KAAI,IACFqF,EAASF,OADP,sBAGJlF,YAAa,QAEXyE,EAAcgK,EAAgBxR,MAAMwH,aAC5BW,EAASF,WACrBuJ,EAAgBpR,UACdoH,YAAaA,EACbC,WAAY,aACZC,gBAAe,kBAGjBmS,EAAK/U,UAAUe,UAAUiG,EAAOG,gBAG9B9D,EAASN,QACXgS,EAAK/U,UAAU1E,UAEX+H,SAAUA,EACVqR,QAASjK,KAAKC,OAEhB,WACEqK,EAAK/U,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,8BADf,UAIFc,KACE,yCACFC,YAAa,UAKnB8W,EAAK/U,UAAUe,WACbpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,8BADf,YAIFc,KAAI,SAAWqF,EAAS1F,MAApB,YACJM,YAAa,OAEf6W,KAEFC,EAAKlJ,oBAxDT,wBAAA/F,EAAAE,SAAAJ,EAAAnL,SALF,gBAAAwa,GAAA,OAAAD,EAAAJ,MAAAna,KAAAoa,YAAA,OAAAlW,EAmEJuW,0BAAiB,IAAAC,EAAA1a,KACfA,KAAKyU,eAAe,SAAAC,GAClBiG,MACK,kEACDD,EAAKnV,UAAU9E,MAAMqI,KAAKC,IAFzB,IAGC2L,EAHD,KAKDkG,OAAQ,SAGT3L,KAAK,SAAAtO,GAAG,OAAIA,EAAIS,SAChB6N,KAAK,SAAA7N,WACAA,EAAKiR,MACPqI,EAAK3J,cAAc2J,EAAKnV,UAAU9E,MAAMqI,MAExC4R,EAAKnV,UAAUe,UAAUiG,EAAOE,yBAGnC0C,MAAM,WACLuL,EAAKnV,UAAUe,UAAUiG,EAAOE,8BAIxCoO,uBAAc,IAAAC,EAAA9a,KACZA,KAAKyU,eAAe,SAAAC,GAClBiG,MACK,+DACDG,EAAKvV,UAAU9E,MAAMqI,KAAKC,IAFzB,IAGC2L,EAHD,KAKDkG,OAAQ,SAGT3L,KAAK,SAAAtO,GAAG,OAAIA,EAAIS,SAChB6N,KAAK,SAAA7N,WACAA,EAAKiR,MACPyI,EAAK/J,cAAc+J,EAAKvV,UAAU9E,MAAMqI,MAExCgS,EAAKvV,UAAUe,UAAUiG,EAAOE,yBAGnC0C,MAAM,WACL2L,EAAKvV,UAAUe,UAAUiG,EAAOE,8BAKxCsO,eAAMC,GACJ7N,EAAA9M,EACGkG,OACA0U,gBAAgBjb,KAAK+N,UACrBkB,KAAK,gBACA+L,IACF/Z,OAAOf,SAASC,KAAO,YAG1BgP,MAAM,SAAAkD,GACL6I,MAAM,8BAAAhX,EAGZiX,kBACEhO,EAAA9M,EACGkG,OACA6U,UACAnM,KAAK,WACJhO,OAAOf,SAASC,KAAO,MAExBgP,MAAM,SAAAkD,GACL6I,MAAM,+BAAAhX,EAKZoN,8BAAqB+J,GACnB,IAAMC,EAAgBD,EAChBE,EAAYnb,EAAAC,EAAIC,MAAMgb,MAEtBE,EAAaD,EAAUhb,MAAMkb,EACnCvU,QAAQC,IAAIqU,GAKMD,EAAUhb,MAAMmb,EAAlC,IAGIhH,EAAc3L,EAFZ4S,EAAYJ,EAAUhb,MAAMqb,EAC5BpE,EAAU+D,EAAUhb,MAAMF,EAEhC,WAAIkb,EAAUhb,MAAMkb,EAAgB,KAAAI,EACXL,EAAWM,MAAM,KAAtCpH,EADgCmH,EAAA,GAClB9S,EADkB8S,EAAA,GAGpC3U,QAAQC,IAAIqQ,GACZtQ,QAAQC,IAAInH,KAAK2N,MAAMoO,OAAOC,eAAexE,YAE1CgE,GAA2BzS,GAAO/I,KAAKuF,UAAU9E,MAAMqI,KAAKC,aAC5DyS,GACC9G,GAAgB1U,KAAKuF,UAAU9E,MAAMmP,SAAS8E,cACH,GAA7C1U,KAAK2N,MAAMoO,OAAOC,eAAexE,GAEjCxX,KAAKuF,UAAUwG,OAAOsD,UAAtB,6BAIArP,KAAKic,iBACHC,WAAYP,EACZnE,QAASA,EACT2E,SAAUnM,KAAKC,WAIrBmM,uBAAc5E,GAAS,IAAA6E,EAAArc,KACjBsc,EAAkBtc,KAAKuF,UAAU9E,MAAMmP,SAAS0M,oBACpD,IAAK,IAAInY,KAAKmY,EACRnY,GAAKqT,EACP8E,EAAgBnY,GAAGoY,mBAEZD,EAAgBnY,GAAGoY,SAG9Bvc,KAAK2Q,YAAY,kBAAmB2L,EAAiB,WACnDD,EAAK9W,UAAUwG,OAAOsD,UAAtB,YACcmI,EADd,0BAAAtT,EAMJsY,4BAAmBhF,EAAS5I,GAAI,IAAA6N,EAAAzc,KAC9BA,KAAK6N,GACFiB,WAAW,aACXC,IAAIyI,GACJxI,MACAC,KAAK,SAAAC,GACAA,EAAGoD,OACLmK,EAAKlX,UAAUwG,OAAOsD,UACjBmI,EADL,0BAIA5I,MAGHO,MAAM,SAAAvE,GACL1D,QAAQC,IAAIyD,GACZ6R,EAAKlX,UAAUwG,OAAOsD,UAAtB,mCAAAnL,EAKN+X,yBAAgBzE,GAAS,IAAAkF,EAAA1c,KACnBsc,EAAkBtc,KAAKuF,UAAU9E,MAAMmP,SAAS0M,4BAChDA,EAAgB9E,EAAQA,SAC1BxX,KAAKuF,UAAUwG,OAAOsD,UACjBmI,EAAQA,QADb,2BAKAxX,KAAKwc,mBAAmBhF,EAAQA,QAAS,WACnC5N,EAAAvJ,EAAEsc,QAAQL,KACZ9E,EAAQ+E,aAEVD,EAAgB9E,EAAQA,SAAWA,EACnCkF,EAAK/L,YAAY,kBAAmB2L,EAAiB,WACnDI,EAAKE,iBAAiBpF,EAAQA,QAAS,WACrCkF,EAAKnX,UAAUwG,OAAOsD,UACjBmI,EAAQA,QADb,8BAAAtT,EASVyM,qBAAYkM,EAAO9X,EAAO6J,GAAI,IAAAkO,EAAAC,EAAA/c,KAC5BA,KAAKuP,aAALuN,MAAmBD,GAAQ9X,EAA3B+X,GAAoC,WAClC,IAAIlN,EAAWmN,EAAKxX,UAAU9E,MAAMmP,aACpCA,EAASiN,GAAS9X,EAClBgY,EAAKxX,UAAU1E,UAAW+O,SAAUA,GAAY,cAChDhB,SAGJoO,+BAAsBxF,EAAS5I,GAC7B5O,KAAK6N,GACFiB,WAAW,aACXC,IAAIyI,GACJyF,SACAhO,KAAK,SAAAC,GACJN,MAEDO,MAAM,SAAAvE,GACLgE,SAGNgO,0BAAiBpF,EAAS5I,GACxB5O,KAAK6N,GACFiB,WAAW,aACXC,IAAIyI,GACJhX,KAAMuI,IAAK/I,KAAKuF,UAAU9E,MAAMqI,KAAKC,MACrCkG,KAAK,SAAAC,GACJN,MAEDO,MAAM,SAAAvE,GACLgE,SAGN6F,wBAAe7F,GAAI,IAAAsO,EAAAld,KACbmd,EAAOC,MACXpd,KAAKoP,SAAUsF,aAAcyI,GAAQ,WACnC,IAAIvN,EAAWsN,EAAK3X,UAAU9E,MAAMmP,aACpCA,EAAS8E,aAAeyI,EACxBD,EAAK3X,UAAU1E,UAAW+O,SAAUA,GAAY,WAC9ChB,EAAGuO,UAITE,4BAAmB7F,GAAS,IAAA8F,EAAAtd,KACtBsc,EAAkBtc,KAAKuF,UAAU9E,MAAMmP,SAAS0M,2BAC7CA,EAAgB9E,GACvBxX,KAAK2Q,YAAY,kBAAmB2L,EAAiB,WACnDgB,EAAKN,sBAAsBxF,EAAS,WAClC8F,EAAK/X,UAAUwG,OAAOsD,UAAamI,EAAnC,kBAAA5M,EAMOrE,GClsCAgX,aAfb,SAAAC,EAAYjY,GACVvF,KAAKuF,UAAYA,6BAEnB8J,mBAAU1L,EAASnB,kBAAO,UACxB,IAAIuJ,EAAS/L,KAAKuF,UAAU9E,MAAMsL,WAClCA,EAAO8L,SAAUrV,KAAMA,EAAMyJ,KAAMtI,IACnC3D,KAAKuF,UAAU1E,UAAWkL,OAAQA,GAAU,eAAA7H,EAE9C8H,uBAAcF,GACZ,IAAIC,EAAS/L,KAAKuF,UAAU9E,MAAMsL,WAClCA,EAAO0R,OAAO3R,EAAG,GACjB9L,KAAKuF,UAAU1E,UAAWkL,OAAQA,OAIvBwR,GAJuBxR,oCCWtC/F,EAAA3F,EAAO4F,OAAO,UAERyX,cACJ,SAAAC,EAAY/d,GAAO,IAAAC,GACjBA,EAAA+d,EAAA7d,KAAAC,KAAMJ,IAANI,MAoIFsG,UAAY,SAAAqG,GACV9M,EAAKgB,UAAWoB,MAAO0K,GAAU,WAC/B1L,OAAOC,EAAE,cAAce,aArIzB,IAAI4b,EAAiC,GAAzBhe,EAAKI,OAAO4d,MAAQ,GAC5BrX,EAAc3G,EAAKI,OAAOsC,IAAM,MAHnB,eAKf3C,EAAMke,qBACNle,EAAMke,YAAY/c,UAElByF,EAAc5G,EAAMke,YAAY/c,SAElClB,EAAKY,OACHqd,YAAale,EAAMke,YACnBtY,IAAK,WACLuM,IAAK,EACL8L,KAAMA,EACNrX,YAAaA,EACb+J,cACAX,YACA3N,SACA8J,WAEFlM,EAAKkM,OAAS,IAAIwR,EAAJQ,QAAAle,KAAmB+I,cArBhB/I,sCAuBnBme,qBACE,eACEhe,KAAKS,MAAM8P,oBACXvQ,KAAKS,MAAM8P,WAAW0D,OACrBjU,KAAKie,YACyB,UAA3Bje,KAAKS,MAAM+F,qBACVxG,KAAKS,MAAMmI,UACsB,WAAhC5I,KAAKS,MAAMmI,SAASL,iBACpBvI,KAAKS,MAAM8P,oBACXvQ,KAAKS,MAAM8P,WAAW0D,cACvBjU,KAAKS,MAAMmP,kBACV5P,KAAKS,MAAMmP,SAASC,kBACpB7P,KAAKS,MAAMmP,SAASC,SAASoG,cAC7BjW,KAAKS,MAAMmP,SAASC,SAASoG,KAAKlG,WACa,GAA/C/P,KAAKS,MAAMmP,SAASC,SAASoG,KAAKlG,cAG5CkO,oBACE,MAC6B,UAA3Bje,KAAKS,MAAM+F,qBACXxG,KAAKS,MAAMmI,kBACX5I,KAAKS,MAAMqI,MACX9I,KAAKS,MAAMmI,SAASC,QAAU7I,KAAKS,MAAMqI,KAAKC,OAG5CmV,yIACA1X,EAAc,kBAAAoE,EAAAU,KAAA,EAAAV,EAAA/F,KAAA,EAEA7E,KAAKc,SAAS0F,EAAa,gCAAvC2X,UACIC,cAAqBD,EAAIC,KAAKpe,KAAKS,MAAMod,uCAC9B7d,KAAKc,SACpBqd,EAAIC,KAAKpe,KAAKS,MAAMod,MACpB7d,KAAKS,MAAMod,oBAFTzc,mBAIEpB,KAAKQ,KACT6d,kBAAmBjd,EAAKmT,UACxB+J,IAAKld,EAAKkd,uDAGNte,KAAKQ,KAAM+d,gBAAY,QAAA3T,EAAA/F,KAAA,wBAAA+F,EAAAU,KAAA,GAAAV,EAAA4T,GAAA5T,EAAAuE,MAAA,GAAAvE,EAAA/F,KAAA,GAGzB7E,KAAKQ,KAAM+d,gBAAY,yBAAA3T,EAAAW,SAAAX,EAAA5K,OAAA,oCAAA4K,EAAAuP,MAAAna,KAAAoa,YAjB3B8D,GAiB2B7d,EAG3Boe,mJACAjY,EAAc,kBACa,UAA3BxG,KAAKS,MAAM+F,cACbA,EAAcxG,KAAKS,MAAM+F,+BAIbxG,KAAKc,SAAS0F,EAAa,uBAAvC2X,SAE6B,UAA3Bne,KAAKS,MAAM+F,qBACX2X,EAAIC,KAAKpe,KAAKS,MAAM+F,aAAaxG,KAAKS,MAAMod,uCAE3B7d,KAAKc,SACpBqd,EAAIC,KAAKpe,KAAKS,MAAM+F,aAAaxG,KAAKS,MAAMod,MAC5C7d,KAAKS,MAAMod,oBAFTzc,mBAIEpB,KAAKQ,KAAM6d,kBAAmBjd,EAAK6F,SAAUqX,IAAKld,EAAKkd,iDAE7DH,EAAIC,cACJD,EAAIC,KAAKD,IAAIne,KAAKS,MAAMod,wCAEP7d,KAAKc,SACpBqd,EAAIC,KAAKD,IAAIne,KAAKS,MAAMod,MACxB7d,KAAKS,MAAMod,qBAFTzc,mBAIEpB,KAAKa,UACT+H,SAAUuV,EAAIC,KACdC,kBAAmBjd,EAAK6F,SACxBqX,IAAKld,EAAKkd,cAEZte,KAAK0e,yDAEC1e,KAAKQ,KAAMoI,SAAUuV,EAAKE,+BAChCre,KAAK0e,iFAGPxX,QAAQC,IAARkE,EAAAmT,cACMxe,KAAKQ,KAAM+d,gBAAY,yBAAA3T,EAAAW,SAAAX,EAAA5K,OAAA,oCAAA4K,EAAAuP,MAAAna,KAAAoa,YArC3BqE,GAqC2Bpe,EAG3Bse,gIACJ3e,KAAKuG,KAAO,IAAIA,EAAKvG,SACU,QAA3BA,KAAKS,MAAM+F,4CACPxG,KAAKke,4DAELle,KAAKye,uHALTE,GAKSF,EAGfC,yBAAgB,IAAA9d,EAAAZ,aACVA,KAAKS,MAAMqI,KACb8V,WAAW,WACThe,EAAK8d,iBACJ,KAEC1e,KAAKie,YACPje,KAAKuG,KAAKmT,iBAIhBmF,8BACE5d,OACGC,EAAE,mBACF4d,SAAUC,SAAU,SAAUC,UAAW,WAAA3e,EAQ9C4e,0BAAiBC,GACf,IAAI/V,EAAc,yBACY,OAA1BnJ,KAAKS,MAAM+F,YACb2C,EAAiB,qBAEjBnJ,KAAKS,MAAMqd,qBACX9d,KAAKS,MAAMqd,YAAY5a,QAEvBiG,EAAiBnJ,KAAKS,MAAMqd,YAAY5a,OAE1C,IAAIic,EACF9c,EAAAhC,EAAAiC,cAAA,OACE8c,IAAKC,EAAAhf,EACLgD,OACEwD,aAAc,MACdyY,YAAa,OACbC,OAAQ,OACRC,aAAc,SAkBpB,eAbExf,KAAKS,MAAMmI,kBACV5I,KAAKS,MAAMqd,qBACV9d,KAAKS,MAAMqd,YAAY5a,QAEzBic,EAAM,KACNhW,EAAiBnJ,KAAKS,MAAMmI,SAAS1F,eAEnClD,KAAKS,MAAMmI,UAAmD,SAA1B5I,KAAKS,MAAM+F,cACjD2Y,EAAM,MAEJD,IACF/V,GAAkBgW,EAAK9c,EAAAhC,EAAAiC,cAAA,SAAI6G,KAEtBA,KAETsW,gCAAuBC,GACrB,IAAIjX,EAaJ,MAZ8B,OAA1BzI,KAAKS,MAAM+F,YACbiC,EAAc,yCAEdzI,KAAKS,MAAMqd,qBACX9d,KAAKS,MAAMqd,YAAY5a,MAEvBuF,EAAczI,KAAKS,MAAMqd,YAAYrV,aAAe,WAC3CzI,KAAKS,MAAMmI,SACpBH,EAAc,0BACLzI,KAAKS,MAAMmI,SAASH,cAC7BA,EAAczI,KAAKS,MAAMmI,SAASH,aAEhCiX,EACKjX,EAEApG,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,oBAAoBgG,MAG9CkX,wBACE3f,KAAKuG,KAAKO,kBAEZ5E,kBAAS,IAAAyE,EAAA3G,KAGH4f,EAFU5f,KAAKS,MAAMwZ,QAKvB2F,EAAe,yBAEjB,IAoBIrc,EAnBAqI,MADS5L,KAAKS,MAAMsL,YAEjBF,QAAQ,SAACtK,EAAGuK,GACjBF,EAAWlG,KACTrD,EAAAhC,EAAAiC,cAAA,OACES,KAAK,QACLN,UAAS,eAAiBlB,EAAEiB,KAAnB,aACTa,OAASQ,MAAO,SAEhBxB,EAAAhC,EAAAiC,cAAA,UACEE,KAAK,SACLC,UAAU,QACVE,QAAS,WACPgE,EAAKoF,OAAOC,cAAcF,MAG7BvK,EAAE0K,SAWP1I,OAJAvD,KAAKS,MAAM8d,oBACVve,KAAKS,MAAMmI,kBACV5I,KAAKS,MAAMmI,SAASoR,QAGpB3X,EAAAhC,EAAAiC,cAACmB,GACCP,MAAM,mBACNa,SAAS,gBACTE,SAAS,eACTD,SAAS,eAGJhE,KAAKS,MAAM4d,kBACbhc,EAAAhC,EAAAiC,cAACmB,EAAD,MAEiC,IAAxCzD,KAAKS,MAAM4d,kBAAkB1Z,QACV,aAAnB3E,KAAKS,MAAM+E,IAGTnD,EAAAhC,EAAAiC,cAACmB,GACCP,MAAOlD,KAAKS,MAAMmI,SAAS1F,MAC3Ba,SAAS,uBACTE,SAAS,eACTD,SAAS,IACTL,QAAS3D,KAAKS,MAAMmI,SAASH,YAC7B7E,mBACE5D,KAAKS,MAAMmI,SAASH,aACgB,KAApCzI,KAAKS,MAAMmI,SAASH,cAKnBzI,KAAK6f,mBAEd,IAEIC,EADEC,IAAmB1a,KAAM,KAAMC,IAAK,WAAYN,KAAM,qBAIxDhF,KAAKS,MAAMmI,kBACX5I,KAAKS,MAAMmI,SAASoR,UAErBha,KAAKge,cAAehe,KAAKie,aAEtBje,KAAKge,aACP+B,EAAcra,MACZL,KAAM,KACNC,IAAK,OACLN,KAAM,SACNS,KAAM,WACJkB,EAAKgZ,kBAIP3f,KAAKie,YACP8B,EAAcra,MAAOL,KAAM,KAAMC,IAAK,WAAYN,KAAM,SAE1D8a,EAAYzd,EAAAhC,EAAAiC,cAAC8B,GAAUuB,MAAOoa,EAAexa,UAAWvF,QAE1D,IAKIggB,EALAC,EAcJ,OAZEA,EAAY,mBAKZjgB,KAAKS,MAAMqd,qBACX9d,KAAKS,MAAMqd,YAAY5a,QAEvB8c,EACEhgB,KAAKS,MAAMqd,YAAYoC,aAAvB,WACWD,EADX,sBAC0CE,EAAA9f,GAG5CgC,EAAAhC,EAAAiC,cAAC8d,EAAA/f,EAAD,KACEgC,EAAAhC,EAAAiC,cAAC+d,EAAAhgB,GACC6C,MAAK,GAAKlD,KAAKif,mBACfqB,KAAI,GAAKtgB,KAAKyf,2BACdc,MAAOP,IAET3d,EAAAhC,EAAAiC,cAACke,EAAAngB,GACC6C,MAAO0c,EACPlK,QAAS1V,KAAKS,MAAMiV,QACpB+K,SACAla,KAAMvG,KAAKuG,KACXuC,KAAM9I,KAAKS,MAAMqI,KACjByH,WAAYvQ,KAAKS,MAAM8P,aAExBuP,EACDzd,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gBACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,aACbJ,EAAAhC,EAAAiC,cAACoJ,GAAM/F,MAAO3F,KAAKS,MAAMsL,OAAQA,OAAQ/L,KAAK+L,SAC7CxI,IAGLlB,EAAAhC,EAAAiC,cAACP,GAAME,MAAOjC,KAAKS,MAAMwB,QACzBI,EAAAhC,EAAAiC,cAACoe,EAAArgB,EAAD,QAAAA,EAIAsgB,2DAAkB5L,sFAClBhD,EAAM6O,KAAKC,MAAkC,IAA3B7gB,KAAKS,MAAMsR,IAAMgD,IAAgB,GAAArT,EACxB1B,KAAK8gB,gBAA9BC,iBAAYC,WACdD,EAAahP,GAAO,IAAAnH,EAAA/F,KAAA,gBAAA+F,EAAA/F,KAAA,EAChB7E,KAAKQ,KAAMuR,IAAKA,aACS/R,KAAK8gB,gBAA9BC,eAAYC,aAClB/f,OAAOC,EAAE,eAAe+K,KAAKjM,KAAKS,MAAMsR,KACxC9Q,OAAOC,EAAE,eAAe+K,KAAK8U,GAC7B9f,OAAOC,EAAE,aAAa+K,KAAK+U,GAC3B/f,OAAOC,EAAE,mBAAmB+f,YAAY,YACxChgB,OAAOC,EAAE,mBAAmBggB,SAAS,uCAAAtW,EAAAW,SAAAX,EAAA5K,SAAA,gBAAAkE,GAAA,OAAA0G,EAAAuP,MAAAna,KAAAoa,YAVnCuG,GAUmCtgB,EAGnC8gB,oJACEnhB,KAAKQ,KAAMuR,IAAK,WAAA7N,EACSlE,KAAK8gB,gBAA9BC,eAAYC,aAClB/f,OAAOC,EAAE,eAAe+K,KAAKjM,KAAKS,MAAMsR,KACxC9Q,OAAOC,EAAE,eAAe+K,KAAK8U,GAC7B9f,OAAOC,EAAE,aAAa+K,KAAK+U,GAC3B/f,OAAOC,EAAE,mBAAmB+f,YAAY,cACxChgB,OAAOC,EAAE,mBAAmBggB,SAAS,oCAAAtW,EAAAW,SAAAX,EAAA5K,SAAA,yBAAA4K,EAAAuP,MAAAna,KAAAoa,YAPjC+G,GAOiC9gB,EAGvCygB,yBACE,IACI/L,EAAS/U,KAAKS,MAAM8P,WAAWwE,OAAOqM,IACtCC,EAAStM,EAAOsM,QAAUtM,EAAOuM,QAAU,GAC3CC,EAAOxM,EAAOwM,MAAQxM,EAAOhD,KAAO,GACpCgP,EAAaH,KAAKC,MAJN,KAIaQ,EAASE,IAJtB,IAMhB,OAASR,WAAYA,EAAYC,SADlBJ,KAAKC,MALJ,KAKWE,EAAa/gB,KAAKS,MAAMsR,MALnC,MAAA1R,EAQZ0R,6CAAI1L,qGACJrG,KAAKS,MAAMqI,qBACb9I,KAAKsG,WACHpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6BADf,SAIFc,KAAMlB,EAAAhC,EAAAiC,cAAA,+BACNkB,YAAa,OAAAoH,EAAA/F,KAAA,mBAENwB,EAAQ0C,MAAQ/I,KAAKS,MAAMqI,KAAKC,oBACzC/I,KAAKsG,WACHpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6BADf,SAIFc,KAAMlB,EAAAhC,EAAAiC,cAAA,6BACNkB,YAAa,OAAAoH,EAAA/F,KAAA,mBAAAxE,EAGgBL,KAAK8gB,gBAA9BC,iBAAYC,SAEC,IAAfD,mBACF/gB,KAAKsG,WACHpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6BADf,UAIFc,KAAMlB,EAAAhC,EAAAiC,cAAA,uCACNkB,YAAa,OAAAoH,EAAA/F,KAAA,wBAAA+F,EAAA/F,KAAA,GAGT7E,KAAKQ,KAAMuR,IAAK,YAGtB,IAFIyP,GAAQ,GAAK,EAAG,GAAI,KACpBC,kBACC,IAAIlgB,EAAKigB,EAAJ/c,GACRgd,EAAU/b,KACRrD,EAAAhC,EAAAiC,cAAA,UACEG,UAAU,sBACVY,OAASwD,aAAc,MAAOhD,MAAO,OAAQ0b,OAAQ,QACrD5c,QAAS,WACP4G,EAAKoX,kBAAkBpf,KAGxBA,KATPkD,EAAA,EAAAA,EAAc+c,EAAd7c,OAAAF,IAAoBF,IAapBkd,EAAU/b,KACRrD,EAAAhC,EAAAiC,cAAA,UACEG,UAAU,sBACVY,OAASwD,aAAc,MAAOhD,MAAO,OAAQ0b,OAAQ,QACrD5c,QAAS,WACP4G,EAAK4X,mBAJT,MAUFlgB,OAAOC,EAAE,eAAe+K,KAAK,GAC7BhL,OAAOC,EAAE,eAAe+K,KAAK8U,GAC7B9f,OAAOC,EAAE,aAAa+K,KAAK8U,GAC3B9f,OAAOC,EAAE,mBAAmB+f,YAAY,cACxChgB,OAAOC,EAAE,mBAAmBggB,SAAS,YACrClhB,KAAKsG,WACHpD,MACEb,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,8BAA+B,IAD9C,kBAKFc,KACElB,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,cAAcY,OAASS,SAAU,SAC9CzB,EAAAhC,EAAAiC,cAAA,KAAGC,GAAG,aAAaE,UAAU,gBAA7B,KAEK,IACLJ,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,mBAAmBY,OAASS,SAAU,SAAtD,QAIFzB,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,eAAegf,GAC9Bpf,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,eAAf,MACM,IACJJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,eAAeF,GAAG,cAC5Bwe,GACE,IACL1e,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,oBAAhB,OAA8C,IAC9CJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,6BAA8B,IAC3CJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,cAAcF,GAAG,YAC3Bwe,GACE,IACL1e,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,oBAAhB,SAINC,WAAY,OACZN,KAAM,WACJmH,EAAKmY,SAASrb,wGArGlB0L,GAqGkB1L,EAMxBqb,kBAASrb,GACHrG,KAAKS,MAAMsR,IAAM,GACnB/R,KAAKuG,KAAKwL,IAAI/R,KAAKS,MAAMsR,IAAK1L,EAASrG,KAAKS,MAAM+F,gBAGtDqZ,4BACE,MAAuB,aAAnB7f,KAAKS,MAAM+E,IACNxF,KAAK2hB,4BACgB,SAAnB3hB,KAAKS,MAAM+E,IACbxF,KAAK4hB,wBAEL5hB,KAAK6hB,+BAGhBD,iCACE,OACEvf,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,QACbJ,EAAAhC,EAAAiC,cAAC4D,GACCa,cAAe/G,KAAKS,MAAMsG,cAC1BH,gBAAiB5G,KAAKS,MAAMmG,gBAC5BJ,YAAaxG,KAAKS,MAAM+F,YACxBoB,iBAAkB5H,KAAKS,MAAMmH,iBAC7BP,aAAcrH,KAAKS,MAAM4G,aACzBf,UAAWtG,KAAKsG,UAChBC,KAAMvG,KAAKuG,WAKnBsb,qCACE,OACExf,EAAAhC,EAAAiC,cAACyF,GACCvB,YAAaxG,KAAKS,MAAM+F,YACxBoC,SAAU5I,KAAKS,MAAMmI,SACrBE,KAAM9I,KAAKS,MAAMqI,KACjB8G,SAAU5P,KAAKS,MAAMmP,SACrBtJ,UAAWtG,KAAKsG,UAChBuD,cAAe7J,KAAKS,MAAMoJ,cAC1BtD,KAAMvG,KAAKuG,UAIjBub,sBAAazb,GACX,IAAIgY,KACJ3Z,EAAc2B,EAAQY,SAAtBzC,EAAAoB,MAAAC,QAAAnB,GAAA8T,EAAA,MAAA9T,EAAAF,EAAAE,IAAAoB,OAAAC,cAAgC,KAAAnB,EAAA,GAAAJ,EAAA,IAAAgU,GAAA9T,EAAAC,OAAA,MAAAC,EAAAF,EAAA8T,SAAA,KAAAA,EAAA9T,EAAAG,QAAAC,KAAA,MAAAF,EAAA4T,EAAAzT,MAAA,IAAvBxD,EAAuBqD,EAC9ByZ,EAAkB3Y,KAChBrD,EAAAhC,EAAAiC,cAAA,UACED,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,OACZJ,EAAAhC,EAAAiC,cAAA,KACEkF,OAAO,SACPrH,KAAI,yBAA2BoB,EAAEgG,QACjC9E,UAAU,SACVY,OAAS0e,gBAAe,OAASxgB,EAAEygB,eAAX,QAG5B3f,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,SACZJ,EAAAhC,EAAAiC,cAAA,KACEG,UAAU,YACVtC,KAAI,mBAAqBoB,EAAEgG,QAAvB,aAA2ChG,EAAE+F,WACjDE,OAAO,UAENjG,EAAE2B,UAuCb,OAhCEb,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,qBACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,QACbJ,EAAAhC,EAAAiC,cAAA,KACEnC,KAAI,KAAMkG,EAAQqC,QAAUrC,EAAQtF,SAAhC,IACJsC,OACEkc,OAAQ,QACRwC,gBAAe,QAAS1b,EAAQ6Z,aAC9B,0BADa,IAEf+B,eAAgB,WAGpB5f,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gCACbJ,EAAAhC,EAAAiC,cAAA,MAAIe,OAAS6e,WAAY,SACvB7f,EAAAhC,EAAAiC,cAAA,KAAGnC,KAAI,KAAMkG,EAAQqC,QAAUrC,EAAQtF,SAAhC,KACJsF,EAAQnD,QAGbb,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,aAAaY,OAASS,SAAU,SAC5CuC,EAAQoC,cAGbpG,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,oBACbJ,EAAAhC,EAAAiC,cAAA,SACEG,UAAU,wDACVY,OAAS8e,UAAW,sBAEpB9f,EAAAhC,EAAAiC,cAAA,aAAQ+b,UAQpB+D,qBAAY/b,GAAS,IAAAwK,EAAA7Q,KACfqiB,EAAWhc,EAAQgc,UAAY,EAC/BtQ,EAAM1L,EAAQ0L,KAAO,EACzBuG,EAActY,KAAKS,MAAMuR,gBAAzBuG,EAAA3S,MAAAC,QAAAyS,GAAAgK,EAAA,MAAAhK,EAAAC,EAAAD,IAAAxS,OAAAC,cAA4C,KAAA0S,EAAA,GAAAF,EAAA,IAAA+J,GAAAhK,EAAA3T,OAAA,MAAA8T,EAAAH,EAAAgK,SAAA,KAAAA,EAAAhK,EAAAzT,QAAAC,KAAA,MAAA2T,EAAA6J,EAAAvd,MAAA,IAAnCxD,EAAmCkX,EAExClX,EAAE8E,QAAQiB,aAAejB,EAAQiB,YACjC+a,EAAW9gB,EAAEkP,MACbzQ,KAAKS,MAAM+F,eAAiBjF,EAAEiF,aAAe,WAE7CuL,GAAOxQ,EAAEwT,QAoEb,OAjEAhD,EAAM6O,KAAKC,MAAY,GAAN9O,GAAY,GAE3B1P,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,qBACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,QACbJ,EAAAhC,EAAAiC,cAAA,KACEkF,OAAO,SACPrH,KAAI,mBAAqBkG,EAAQkB,QAA7B,aACFlB,EAAQiB,WADN,IAGJjE,OACEkc,OAAQ,QACRwC,gBAAe,OAAS1b,EAAQkc,cAAjB,IACfN,eAAgB,WAGpB5f,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,gCACbJ,EAAAhC,EAAAiC,cAAA,MAAIe,OAAS6e,WAAY,SACvB7f,EAAAhC,EAAAiC,cAAA,KACEkF,OAAO,SACPrH,KAAI,mBAAqBkG,EAAQkB,QAA7B,aACFlB,EAAQiB,WADN,KAIHjB,EAAQnD,QAGbb,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,aAAaY,OAASS,SAAU,SAC5CuC,EAAQmc,SADX,OAIAngB,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,0CACbJ,EAAAhC,EAAAiC,cAAA,OACEG,UAAU,wBACVY,OAAS0e,gBAAe,OAAS1b,EAAQ2b,eAAjB,OAE1B3f,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,KACEkF,OAAO,SACPrH,KAAI,yBAA2BkG,EAAQkB,QACvC9E,UAAU,gBAET4D,EAAQoc,mBAEXpgB,EAAAhC,EAAAiC,cAAA,SAAOG,UAAU,sBACduD,IAA8B,IAAvBK,EAAQoB,cAAqBC,OAAO,gBAGhDrF,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,uBACbJ,EAAAhC,EAAAiC,cAAA,KACEK,QAAS,WACPkO,EAAKkB,IAAI1L,IAEX5D,UAAU,2BACVY,OAASS,SAAU,SAEnBzB,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,sBAAuB,IACpCJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,gBAAgBsP,GAAS,IACtC1P,EAAAhC,EAAAiC,cAAA,QAAMe,OAASS,SAAU,SAAzB,cAAAzD,EAWhBshB,qCAGE,IAFA,IAAIe,EACAC,KACK/G,EAAI,EAAGA,GAAKgF,KAAKgC,KAAK5iB,KAAKS,MAAM6d,IAAM,GAAI1C,IAE9C5b,KAAKS,MAAMod,OAASjC,EACtB+G,EAAMjd,KACJrD,EAAAhC,EAAAiC,cAAA,MAAIG,UAAS,mBAAsBY,OAASqG,OAAQ,YAClDrH,EAAAhC,EAAAiC,cAAA,QAAMG,UAAU,YAAYY,OAASqG,OAAQ,YAC1CkS,KAKP+G,EAAMjd,KACJrD,EAAAhC,EAAAiC,cAAA,MAAIG,UAAS,aACXJ,EAAAhC,EAAAiC,cAAA,KAAGG,UAAU,YAAYtC,KAAI,UAAYyb,GACtCA,KAMX8G,EACErgB,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,oBACbJ,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,kBACbJ,EAAAhC,EAAAiC,cAAA,MAAIG,UAAU,cAAckgB,KAKlC,IAAI3b,KACJ6b,EAAoB7iB,KAAKS,MAAM4d,kBAA/ByE,EAAAld,MAAAC,QAAAgd,GAAAE,EAAA,MAAAF,EAAAC,EAAAD,IAAA/c,OAAAC,cAAkD,KAAA8T,EAAA,GAAAiJ,EAAA,IAAAC,GAAAF,EAAAle,OAAA,MAAAkV,EAAAgJ,EAAAE,SAAA,KAAAA,EAAAF,EAAAhe,QAAAC,KAAA,MAAA+U,EAAAkJ,EAAAhe,MAAA,IAAzCsB,EAAyCwT,EACjB,QAA3B7Z,KAAKS,MAAM+F,YACbQ,EAActB,KAAK1F,KAAK8hB,aAAazb,IAErCW,EAActB,KAAK1F,KAAKoiB,YAAY/b,IAGxC,OACEhE,EAAAhC,EAAAiC,cAAA,WACED,EAAAhC,EAAAiC,cAAA,MACEG,UAAU,aACVY,OACE2f,UAAW,SACXC,WAAU,qFAGXjjB,KAAKif,sBAEPjf,KAAKyf,yBACNpd,EAAAhC,EAAAiC,cAAA,OAAKG,UAAU,0BAA0BuE,GACxC0b,MA/rBHhF,CAAiBhe,GAqsBRwjB,EAAAC,QAAAC,GAAAC,IAAA,SAAAzY,EAAA1G,EAAA7D,GC9tBf,IAAsBijB,EAKpBC,EAAOC,SALaF,EAKWhX,EAAQ,OALRgX,EAAEH,SAAYG,uBCA/CC,EAAAC,QAAiBlX,EAAAsP,EAAuB,mDAAA6H,IAAA,SAAA7Y,EAAA1G,EAAA7D,GAAA,aCAxCiM,EAAAoX,EAAAR,GAAA5W,EAAAmP,EAAAyH,EAAA,4BAAAS,IAAArX,EAAAmP,EAAAyH,EAAA,uCAAAU,IAAAtX,EAAAmP,EAAAyH,EAAA,gCAAAW,IAAA,IAAAC,EAAAxX,EAAA,GAAAyX,EAAAzX,EAAA5K,EAAAoiB,GAAAE,EAAA1X,EAAA,GAAA2X,EAAA3X,EAAA5K,EAAAsiB,GAAAE,EAAA5X,EAAA,KAAA6X,EAAA7X,EAAA5K,EAAAwiB,GAAA5X,EAAAmP,EAAAyH,EAAA,yBAAAiB,EAAA9jB,IAAAiM,EAAAmP,EAAAyH,EAAA,+BAAAgB,EAAAE,aAAA9X,EAAAmP,EAAAyH,EAAA,6BAAAgB,EAAAG,WAAA/X,EAAAmP,EAAAyH,EAAA,yBAAAgB,EAAAxe,OAAA4G,EAAAmP,EAAAyH,EAAA,4BAAAgB,EAAAI,UAAAhY,EAAAmP,EAAAyH,EAAA,+BAAAgB,EAAAK,aAAA,IAAAC,EAAAlY,EAAA,KAAAmY,EAAAnY,EAAA5K,EAAA8iB,GAAAlY,EAAAmP,EAAAyH,EAAA,iCAAAuB,EAAApkB,IAAA,IAAAqkB,EAAApY,EAAA,IAAAA,EAAAmP,EAAAyH,EAAA,8BAAAwB,EAAArkB,IAYA,IAAMujB,EAAqBG,EAAA1jB,EAAMskB,kBAE3Bd,EAAc,SAAAjkB,GAAK,OACvBmkB,EAAA1jB,EAAAiC,cAACshB,EAAmBgB,SAApB,KACG,SAAAC,GACC,OACEjlB,EAAMkR,MACL+T,EAAgBjlB,EAAMW,QAAUskB,EAAgBjlB,EAAMW,OAAOuQ,MAEtDlR,EAAMsC,QAAUtC,EAAMklB,UAC5BllB,EAAMkR,KAAOlR,EAAMkR,KAAKA,KAAO+T,EAAgBjlB,EAAMW,OAAOuQ,MAGvDiT,EAAA1jB,EAAAiC,cAAA,uCAaf,SAASqhB,IACP,MAAM,IAAIoB,MACR,gVATJlB,EAAYmB,WACVlU,KAAMmT,EAAA5jB,EAAU4kB,OAChB1kB,MAAO0jB,EAAA5jB,EAAU6kB,OAAOC,WACxBjjB,OAAQ+hB,EAAA5jB,EAAUoF,KAClBqf,SAAUb,EAAA5jB,EAAUoF,4IC/BhB2f,cACJ,SAAAA,EAAYxlB,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,iCAGnBkC,kBACE,IAAImjB,EACApF,EAEFoF,EAAa,cACbpF,EAAY,WAGd,IAAIqF,KACApiB,EAAQlD,KAAKJ,MAAMsD,OAAX,YAAgCmiB,EACxC/E,EAAOtgB,KAAKJ,MAAM0gB,aAClBA,GAA6B,IAARA,IACvBA,EACE,8CAEJ,IAAIC,EACFvgB,KAAKJ,MAAM2gB,OAAX,WAA+BN,EAA/B,mBAA2DsF,EAAAllB,EAC7DilB,EAAM5f,MAAOL,KAAM,eAAgBmgB,QAAS,wBAC5CF,EAAM5f,MAAOL,KAAM,eAAgBmgB,QAAS,iBAC5CF,EAAM5f,MACJL,KAAM,gBACNmgB,QAASjF,IAEX+E,EAAM5f,MAAOL,KAAM,sBAAuBmgB,QAASlF,IACnDgF,EAAM5f,MAAOL,KAAM,gBAAiBmgB,QAAStiB,IAC7CoiB,EAAM5f,MAAOL,KAAM,WAAYmgB,QAAStiB,IACxCoiB,EAAM5f,MACJL,KAAM,WACNmgB,QAASjF,IAEX+E,EAAM5f,MAAOL,KAAM,iBAAkBmgB,QAASlF,IAC9CgF,EAAM5f,MAAOL,KAAM,cAAemgB,QAASlF,IAC3CgF,EAAM5f,MACJL,KAAM,WACNmgB,QACE,6GAEJ,IAAI/E,KACJ,WAAIzgB,KAAKJ,MAAM6gB,MACb,KAAA/b,EAAiB1E,KAAKJ,MAAM6gB,MAA5Bjc,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAAmC,KAAAnB,EAAA,GAAAJ,EAAA,IAAAC,GAAAC,EAAAC,OAAA,MAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,MAAAF,EAAAH,EAAAM,MAAA,IAA1B0gB,EAA0B7gB,EACjC6b,EAAM/a,MACJggB,IAAK,aACLljB,KAAM,WACNrC,KAAMslB,UAIVhF,IAEIiF,IAAK,aACLljB,KAAM,WACNrC,KAAM,+BAGNulB,IAAK,aACLljB,KAAM,WACNrC,KAAM,oBAIZ,OAAOwlB,EAAAtlB,EAAAiC,cAACsjB,EAAAvlB,GAAO6C,MAAOA,EAAOuiB,KAAMhF,EAAOoF,KAAMP,OAhE9CF,CAAsBU,EAAAxkB,WAoEb4hB,EAAA7iB,EAAAijB,GAAAyC,IAAA,SAAAnb,EAAA1G,EAAA7D,GAAA,iBAAAqB,EAAArB,EAAA,KAAAqb,EAAArb,EAAA,GAAAyL,EAAAzL,EAAAqB,EAAAga,GAAAgI,EAAArjB,EAAA,GAAA2lB,EAAA3lB,EAAAqB,EAAAgiB,GAAAuC,EAAA5lB,EAAA,KAAA6lB,EAAA7lB,EAAAqB,EAAAukB,GAAAxK,EAAApb,EAAA,KCnET8lB,EAAS,SAAAvhB,GAAA,IAAGkgB,EAAHlgB,EAAGkgB,SAAH,OACbsB,EAAA/lB,EAAAiC,cAAC+jB,EAAAxC,aACCtjB,MAAK,YASL2B,OAAQ,SAAA4O,GAAI,OACVsV,EAAA/lB,EAAAiC,cAAA,WACE8jB,EAAA/lB,EAAAiC,cAACgkB,EAAAjmB,GACC6C,MAAO4N,EAAKyV,KAAKC,aAAatjB,MAC9B2iB,OAEIxgB,KAAM,cACNmgB,QAAS,sBAETngB,KAAM,WAAYmgB,QAAS,kCAG/BY,EAAA/lB,EAAAiC,cAAA,QAAMmkB,KAAK,QAEZ3B,IAxBPhU,KAAA4V,KA8BFP,EAAOnB,WACLF,SAAU6B,EAAAtmB,EAAUumB,KAAKzB,YAGZjC,EAAA7iB,EAAAijB,GAAAuD,IAAA,SAAAjc,KAAA4Y,SAAA1S,MAAAyV,MAAAC,cAAAtjB,MAAA,qCAAA4jB,IAAA,SAAAlc,EAAA1G,EAAA7D,GAAA,aCxCfiM,EAAAoX,EAAAR,GAAA,IAAAY,EAAAxX,EAAA,GAAAyX,EAAAzX,EAAA5K,EAAAoiB,GAAAE,EAAA1X,EAAA,GAAA2X,EAAA3X,EAAA5K,EAAAsiB,GAAA+C,EAAAza,EAAA,IAAA0a,EAAA1a,EAAA,GAMM2a,EAAmB,SAAAriB,GAAkB,IAAf1E,EAAe0E,EAAf1E,SACpBgnB,EAAgBF,EAAA3mB,EAAO8mB,wBAAwBjnB,EAASiF,UAC9D,OAAO4e,EAAA1jB,EAAMiC,cAAcykB,EAAA1mB,GACzBH,WACAgnB,mBAIJD,EAAiBjC,WACf9kB,SAAU+jB,EAAA5jB,EAAU+mB,OAClBjiB,SAAU8e,EAAA5jB,EAAU6kB,OAAOC,aAC1BA,YAGUjC,EAAAC,QAAA+C,GAAAmB,IAAA,SAAAzc,EAAA1G,EAAA7D,GAAA,aAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,IAAAA,EAAA,SAAAqB,EAAArB,EAAA,IAAAqb,EAAArb,EAAAqB,KAAAoK,EAAAzL,EAAA,GAAAqjB,EAAArjB,EAAAqB,EAAAoK,GClBTwb,cACJ,SAAAA,EAAY1nB,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,iCAGnBkC,kBACE,IAAIqlB,KAOJ7iB,EANY1E,KAAKJ,MAAM+F,SACnBL,IAAK,UAAWnF,KAAM,oCACtBmF,IAAK,SAAUnF,KAAM,gCACrBmF,IAAK,UAAWnF,KAAM,+BAG1BqE,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAAqB,KAAAnB,EAAA,GAAAJ,EAAA,IAAAC,GAAAC,EAAAC,OAAA,MAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,MAAAF,EAAAH,EAAAM,MAAA,IAAZxD,EAAYqD,EACnB2iB,EAAW7hB,KACTigB,EAAAtlB,EAAAiC,cAAA,MAAIG,UAAU,oBACZkjB,EAAAtlB,EAAAiC,cAAA,KAAGnC,KAAMoB,EAAEpB,KAAMqH,OAAO,UACtBme,EAAAtlB,EAAAiC,cAAA,KAAGG,UAAS,UAAYlB,EAAE+D,SAKlC,OACEqgB,EAAAtlB,EAAAiC,cAAA,cACEqjB,EAAAtlB,EAAAiC,cAAA,OAAKG,UAAU,aACbkjB,EAAAtlB,EAAAiC,cAAA,OAAKG,UAAU,OACbkjB,EAAAtlB,EAAAiC,cAAA,OAAKG,UAAU,YACbkjB,EAAAtlB,EAAAiC,cAAA,QAAMG,UAAU,aAAhB,+BAIFkjB,EAAAtlB,EAAAiC,cAAA,OAAKG,UAAU,YACbkjB,EAAAtlB,EAAAiC,cAAA,MAAIG,UAAU,8BAA8B8kB,IAE9C5B,EAAAtlB,EAAAiC,cAAA,OAAKG,UAAU,YACbkjB,EAAAtlB,EAAAiC,cAAA,MAAIG,UAAU,gCAAAyB,EAlCtBojB,CAAexB,EAAAxkB,WA2CN4hB,EAAA7iB,EAAA2lB,GAAAwB,IAAA,SAAA5c,EAAA1G,EAAA7D,GAAA,aAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,KAAAA,EAAA,IAAAA,EAAA,SAAAqB,EAAArB,EAAA,IAAAqb,EAAArb,EAAAqB,KAAAoK,EAAAzL,EAAA,GAAAqjB,EAAArjB,EAAAqB,EAAAoK,GC3CT2b,cACJ,SAAAA,EAAY7nB,GAAO,OACjBE,EAAAC,KAAAC,KAAMJ,IADWI,iCAGnBkC,kBAAS,IAKH4G,EACA4e,EANG7nB,EAAAG,KACHqlB,EAAarlB,KAAKJ,MAAMsD,MAM5B,GAJEmiB,EAAarlB,KAAKJ,MAAMsD,OAAS,sBAI/BlD,KAAKJ,MAAMkJ,KAAmB,CAChC,IAAIsY,EAAM,EACNuG,EAAO,EACX,WACE3nB,KAAKJ,MAAM2Q,oBACXvQ,KAAKJ,MAAM2Q,WAAWwE,gBACtB/U,KAAKJ,MAAM2Q,WAAWwE,OAAOqM,IAC7B,CACA,IAAMwG,EAAM5nB,KAAKJ,MAAM2Q,WAAWwE,OAAOqM,IAEzCA,EAAG,GAAMwG,EAAIvG,OACb,IAAIA,EAASuG,EAAIvG,QAAUuG,EAAItG,QAAU,GACrCC,EAAOqG,EAAIrG,MAAQqG,EAAI7V,KAAO,GAClC4V,EAAO/G,KAAKC,MAJI,MAIGQ,EAASE,IAJZ,KAKhB,IAAI7L,EAAU1V,KAAKJ,MAAM8V,oBACrBA,EAAQ,IAAwC,aAArBA,EAAQ,GAAGiC,SACxCgQ,GAAQjS,EAAQ,GAAGX,QAKvB4S,EAAO/G,KAAKC,MADI,IACE8G,GADF,IAEhBvG,EAAMR,KAAKC,MAFK,IAECO,GAFD,YAGZphB,KAAKJ,MAAMkJ,cAAqB9I,KAAKJ,MAAMkJ,KAAK+e,OAClD/e,EACEgf,EAAAznB,EAAAiC,cAAA,KACEnC,KAAK,IACLsC,UAAU,6BACVslB,cAAY,YAEZD,EAAAznB,EAAAiC,cAAA,QACEG,UAAU,SACVY,OACE0e,gBAAe,OAAS/hB,KAAKJ,MAAMkJ,KAAKwN,SAAzB,OAGnBwR,EAAAznB,EAAAiC,cAAA,QAAMG,UAAU,0BACdqlB,EAAAznB,EAAAiC,cAAA,QAAMG,UAAU,gBACbzC,KAAKJ,MAAMkJ,KAAKuN,aAEnByR,EAAAznB,EAAAiC,cAAA,SAAOG,UAAU,2BACdzC,KAAKJ,MAAMkJ,KAAKkf,cACZL,EADJ,YACoBvG,EADpB,oBAOTphB,KAAKJ,MAAMkJ,cACX9I,KAAKJ,MAAMkJ,KAAK+e,SAEhB/e,EACEgf,EAAAznB,EAAAiC,cAAA,KACEnC,KAAMH,KAAKJ,MAAMkJ,KAAK+e,OACtBrgB,OAAO,SACP/E,UAAU,8BAEVqlB,EAAAznB,EAAAiC,cAAA,QACEG,UAAU,SACVY,OACE0e,gBAAe,OAAS/hB,KAAKJ,MAAMkJ,KAAKwN,SAAzB,OAGnBwR,EAAAznB,EAAAiC,cAAA,QAAMG,UAAU,0BACdqlB,EAAAznB,EAAAiC,cAAA,QAAMG,UAAU,gBACbzC,KAAKJ,MAAMkJ,KAAKuN,aAEnByR,EAAAznB,EAAAiC,cAAA,SAAOG,UAAU,2BACdzC,KAAKJ,MAAMkJ,KAAKkf,cAAmB5G,EAAnC,gBAOXsG,EACEI,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,6BACbqlB,EAAAznB,EAAAiC,cAAA,QACEK,QAAS,WACP9C,EAAKD,MAAM2G,KAAKwU,WAElBtY,UAAU,kCAJZ,SAWN,IAWIwlB,EAuBAC,EAlCAzH,KACJ/b,EAAc1E,KAAKJ,MAAM6gB,UAAzBjc,EAAAoB,MAAAC,QAAAnB,GAAAD,EAAA,MAAAC,EAAAF,EAAAE,IAAAoB,OAAAC,cAAsC,KAAAnB,EAAA,GAAAJ,EAAA,IAAAC,GAAAC,EAAAC,OAAA,MAAAC,EAAAF,EAAAD,SAAA,KAAAA,EAAAC,EAAAG,QAAAC,KAAA,MAAAF,EAAAH,EAAAM,MAAA,IAA7BxD,EAA6BqD,EACpC6b,EAAM/a,KACJoiB,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,6BACbqlB,EAAAznB,EAAAiC,cAAA,KAAGnC,KAAMoB,EAAEpB,KAAMsC,UAAU,kCACxBlB,EAAE8D,QA0CX,OArCAob,EAAM/a,KAAKgiB,WAEP1nB,KAAKJ,MAAMkJ,cAAqB9I,KAAKJ,MAAMkJ,KAAK+e,OAClDI,EACEH,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,YACZqG,EACDgf,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,yDACbqlB,EAAAznB,EAAAiC,cAAA,KACEG,UAAU,gBACVE,QAAS,WACP9C,EAAKD,MAAM2G,KAAK4U,WAGlB2M,EAAAznB,EAAAiC,cAAA,KAAGG,UAAU,gCANf,oBAYNzC,KAAKJ,MAAMkJ,cACX9I,KAAKJ,MAAMkJ,KAAK+e,SAEhBI,EAAgBH,EAAAznB,EAAAiC,cAAA,KAAGnC,KAAMH,KAAKJ,MAAMkJ,KAAK+e,QAAS/e,SAGhD9I,KAAKJ,MAAMuoB,cACbD,EACEJ,EAAAznB,EAAAiC,cAAA,KACEnC,KAAK,IACLsC,UAAU,wCACVslB,cAAY,WACZK,cAAY,uBAEZN,EAAAznB,EAAAiC,cAAA,QAAMG,UAAU,0BAKpBqlB,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,QACbqlB,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,aACbqlB,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,eACbqlB,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,aACbqlB,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,UACbqlB,EAAAznB,EAAAiC,cAAA,KAAGG,UAAU,eAAetC,KAAK,KAC9BH,KAAKJ,MAAMsD,OAASmiB,GAEvByC,EAAAznB,EAAAiC,cAAA,OAAKG,UAAU,6BACZge,EACAwH,GAEFC,UA/JXT,CAAoBY,EAAA/mB,WAyKX4hB,EAAA7iB,EAAA2lB,GAAAsC,IAAA,SAAA1d,EAAA1G,EAAA7D,GC3KfkjB,EAAAC,QAAiBlX,EAAAsP,EAAuB,4DAAA2M,IAAA,SAAA3d,EAAA1G,EAAA7D,GCAxCkjB,EAAAC,QAAiBlX,EAAAsP,EAAuB","file":"component---src-pages-index-js-112180cdeb6b04bde625.js","sourcesContent":["import React, { Component } from 'react'\nimport url from 'url'\nclass ComponentP extends Component {\n  constructor(props) {\n    super(props)\n    this.params = {}\n    if (props.location.href != undefined) {\n      this.params = (\n        url.parse(props.location.href, true) || { query: {} }\n      ).query\n    }\n  }\n  async set(state) {\n    return await new Promise(res => {\n      this.setState(state, res)\n    })\n  }\n  async getJSOND(file_id, file_name) {\n    return new Promise(res => {\n      window.$.getJSON(\n        `https://dl.dropboxusercontent.com/s/${file_id}/${file_name}.json`,\n        json => {\n          res(json)\n        }\n      )\n    })\n  }\n}\n\nexport default ComponentP\n","import React, { Component } from 'react'\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: {},\n    }\n  }\n  render() {\n    let modal = this.props.modal\n    let btn_exec\n    if (this.props.modal.exec != undefined) {\n      btn_exec = (\n        <button\n          id=\"modal_exec_btn\"\n          type=\"button\"\n          className={`btn btn-${this.props.modal.exec_color || 'danger'}`}\n          onClick={() => {\n            if (!window.$('#modal_exec_btn').hasClass('btn-gray') === true) {\n              window.$('#pageModal').modal('hide')\n\n              this.props.modal.exec()\n            }\n          }}\n        >\n          {this.props.modal.exec_text || '実行'}\n        </button>\n      )\n    }\n    return (\n      <div\n        className=\"modal fade\"\n        id=\"pageModal\"\n        tabIndex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                {modal.title}\n              </h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              />\n            </div>\n            <div className=\"modal-body\" style={{ wordBreak: 'break-all' }}>\n              {modal.body}\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-dismiss=\"modal\"\n              >\n                {modal.cancel_text || '取り消し'}\n              </button>\n              {btn_exec}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Modal\n","import React, { Component } from 'react'\n\nclass Loading extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let message = (\n      <p className=\"h4 text-muted font-weight-normal mb-6\">\n        {this.props.message ||\n          `法定通貨に依存しない完全独自経済圏で好きなことを追求して生きていこう！`}\n      </p>\n    )\n    if (this.props.no_message) {\n      message = null\n    }\n    return (\n      <div className=\"page\" style={{ width: '100%' }}>\n        <div className=\"page-content\">\n          <div className=\"container text-center\">\n            <div\n              className=\"display-1 text-muted mb-5\"\n              style={{ fontSize: '40px' }}\n            >\n              <i className=\"si si-exclamation\" />{' '}\n              {this.props.title || `データ取得中`}\n            </div>\n\n            <h1 className=\"h2 mb-4\">\n              {this.props.subtitle || `少々お待ち下さい...`}\n            </h1>\n            {message}\n            <a className=\"btn btn-primary\" href={this.props.btn_link || `/`}>\n              <i className=\"fe fe-arrow-left mr-2\" />\n              {this.props.btn_text || `トップページへ戻る`}\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Loading\n","import React, { Component } from 'react'\n\nclass Subheader extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let items_html = []\n    for (let v of this.props.items) {\n      let icon\n      if (v.icon != undefined) {\n        icon = <i className={`mr-2 ${v.fa_type || 'fa'} fa-${v.icon}`} />\n      }\n      let a\n      if (v.href != undefined) {\n        let active = ''\n        let pathname = this.props.location.pathname.toLowerCase()\n        if (v.active || pathname === v.href) {\n          active = 'active'\n        }\n        let href = v.href\n        a = (\n          <a href={href} className={`nav-link ${active}`}>\n            {icon}\n            {v.name}\n          </a>\n        )\n      } else {\n        let active = ''\n        if (v.key === this.props.component.state.tab) {\n          active = 'active'\n        }\n        a = (\n          <a\n            onClick={() => {\n              this.props.component.setState({ tab: v.key }, () => {\n                if (v.func != undefined) {\n                  v.func()\n                }\n              })\n            }}\n            className={`nav-link ${active}`}\n          >\n            {icon}\n            {v.name}\n          </a>\n        )\n      }\n      items_html.push(\n        <li className=\"nav-item\" key={`topic-${v.key || 'all'}`}>\n          {a}\n        </li>\n      )\n    }\n    return (\n      <div className=\"header collapse d-lg-flex p-0\" id=\"headerMenuCollapse\">\n        <div className=\"container\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-lg order-lg-first\">\n              <ul className=\"nav nav-tabs border-0 flex-column flex-lg-row\">\n                {items_html}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Subheader\n","import React, { Component } from 'react'\nimport url from 'url'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\nmoment.locale('ja')\n\nclass Post_Magazine extends Component {\n  constructor(props) {\n    super(props)\n  }\n  unpublishArticle(article) {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" />{' '}\n          取り下げ確認！\n        </div>\n      ),\n      body: (\n        <p>\n          本当に\n          <span className=\"text-capitalize\">『{article.title}』</span>\n          を取り下げてよろしいですか？\n        </p>\n      ),\n      cancel_text: 'キャンセル',\n      exec_text: '実行',\n      exec: () => {\n        this.props.auth.unpublishArticle(article, this.props.magazine_id)\n      },\n    })\n  }\n  publishArticle(article) {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" /> 投稿確認！\n        </div>\n      ),\n      body: (\n        <p>\n          本当に\n          <span className=\"text-capitalize\">『{article.title}』</span>\n          を投稿してよろしいですか？\n        </p>\n      ),\n      cancel_text: 'キャンセル',\n      exec_text: '実行',\n      exec: () => {\n        this.props.auth.publishArticle(article, this.props.magazine_id)\n      },\n    })\n  }\n  render() {\n    let more_btn\n    if (this.props.nomore_articles != true) {\n      more_btn = (\n        <button\n          style={{ borderRadius: 0 }}\n          className=\"btn btn-primary\"\n          onClick={() => {\n            this.props.auth.listArticles(this.props.articles_page)\n          }}\n        >\n          さらに読み込み\n        </button>\n      )\n    }\n    let articles_html = []\n    let articles = []\n    console.log(this.props)\n    for (let article of this.props.magazineArticles || []) {\n      let uploadButton\n      if (\n        this.props.userArticles != undefined &&\n        this.props.userArticles[article.article_id] != undefined &&\n        this.props.userArticles[article.article_id][this.props.magazine_id] !=\n          undefined\n      ) {\n        uploadButton = (\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => {\n              this.unpublishArticle(article)\n            }}\n          >\n            却下\n          </button>\n        )\n      } else {\n        uploadButton = (\n          <button\n            className=\"btn btn-success\"\n            onClick={() => {\n              this.publishArticle(article)\n            }}\n          >\n            投稿\n          </button>\n        )\n      }\n      articles.push(\n        <tr>\n          <td>\n            <div>\n              <a\n                href={`https://alis.to/${article.user_id}/articles/${\n                  article.article_id\n                }`}\n                target=\"_blank\"\n              >\n                <b>{article.title}</b>\n              </a>\n            </div>\n            <div className=\"text-muted small\">\n              {moment(article.published_at * 1000).format('YYYY MM/DD HH:mm')}\n              <span className=\"ml-6\">\n                <b className=\"text-orange\">{article.alis_token}</b>\n              </span>\n            </div>\n          </td>\n          <td className=\"text-center\">{uploadButton}</td>\n        </tr>\n      )\n      articles_html = [\n        <div className=\"table-responsive\">\n          <table className=\"table card-table table-striped table-vcenter\">\n            <thead>\n              <th>ALIS記事</th>\n              <th className=\"text-center\" />\n            </thead>\n            <tbody>{articles}</tbody>\n          </table>\n        </div>,\n        more_btn,\n      ]\n    }\n\n    return articles_html\n  }\n}\n\nexport default Post_Magazine\n","import React, { Component } from 'react'\nimport url from 'url'\nimport _ from 'underscore'\n\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport shortid from 'shortid'\n\nmoment.locale('ja')\n\nclass Articles extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      tab: 'reward',\n      invalid_ids: {},\n      is_invalid: false,\n      invalid_message: '',\n      magazine_url_id: '',\n    }\n  }\n  issueMagazine(is_edit) {\n    let editors = window.$('[name=\"editors\"]:checked').val()\n    let title = window.$('#magazine_title').val()\n    let description = window.$('#magazine_description').val()\n    let url_id = window.$('#magazine_id').val()\n    if (!is_edit && this.state.is_invalid !== false) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            無効なマガジンID！\n          </div>\n        ),\n        body: (\n          <p>英数字と_-からなる３０文字以内のマガジンIDを設定して下さい。</p>\n        ),\n        cancel_text: '確認',\n      })\n    } else if (!is_edit && url_id.length < 3) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            無効なマガジンID！\n          </div>\n        ),\n        body: <p>マガジンIDは3文字以上で設定して下さい。</p>,\n        cancel_text: '確認',\n      })\n    } else if (editors == undefined) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            編集者未選択！\n          </div>\n        ),\n        body: <p>共同編集者を選択してください。</p>,\n        cancel_text: '確認',\n      })\n    } else if (title.match(/^\\s*$/) !== null) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            タイトル未入力\n          </div>\n        ),\n        body: <p>マガジンのタイトルを入力してください。</p>,\n        cancel_text: '確認',\n      })\n    } else if (title.length > 50) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            タイトルが長すぎます\n          </div>\n        ),\n        body: <p>マガジンのタイトルは50文字以内で入力してください。</p>,\n        cancel_text: '確認',\n      })\n    } else if (description != undefined && description.length > 200) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            説明文が長すぎます\n          </div>\n        ),\n        body: <p>マガジンの概要は200文字以内で入力してください。</p>,\n        cancel_text: '確認',\n      })\n    } else {\n      let magazine = {\n        is_edit: is_edit,\n        title: title,\n        editors: editors,\n        owner: this.props.user.uid,\n      }\n      if (url_id.match(/^\\s*$/) === null) {\n        magazine.url_id = url_id\n      }\n      if (description.match(/^\\s*$/) === null) {\n        magazine.description = description\n      }\n      let set_id = false\n      if (\n        (this.props.magazine == undefined ||\n          this.props.magazine.url_id == undefined) &&\n        url_id.match(/^\\s*$/) === null\n      ) {\n        set_id = true\n      }\n      magazine.set_id = set_id\n      if (is_edit) {\n        magazine.id = this.props.magazine.id\n        magazine.file_id = this.props.magazine_id\n      } else {\n        magazine.id = shortid()\n      }\n      this.props.auth.issueMagazine(magazine, this, () => {\n        this.setState({\n          magazine_description: '',\n          magazine_title: '',\n          magazine_url_id: '',\n        })\n      })\n    }\n  }\n  deleteMagazine() {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" />{' '}\n          マガジン削除確認\n        </div>\n      ),\n      body: (\n        <p>\n          『<b className=\"text-danger\">{this.props.magazine.title}</b>』\n          を本当に削除してよろしいですか？\n        </p>\n      ),\n      exec_text: '実行',\n      exec: () => {\n        this.props.auth.deleteMagazine(this.props.magazine)\n      },\n    })\n  }\n  async checkMagazineID() {\n    if (this.state.is_invalid === false) {\n      if (this.state.magazine_url_id.length < 3) {\n        this.props.showModal({\n          title: (\n            <div>\n              <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n              IDが短すぎます！\n            </div>\n          ),\n          body: <p>IDは少なくとも３文字以上で入力して下さい。</p>,\n          cancel_text: '確認',\n        })\n      } else {\n        this.props.auth.checkMagazineID(this.state.magazine_url_id, this)\n      }\n    }\n  }\n  render() {\n    let action_word = '発刊'\n    let delete_btn\n    if (this.props.magazine != undefined) {\n      action_word = '保存'\n      delete_btn = (\n        <a\n          onClick={() => {\n            this.deleteMagazine()\n          }}\n          className=\"btn btn-red btn-sm text-white ml-5\"\n        >\n          削除\n        </a>\n      )\n    }\n    let magazines = _(this.props.userMagazines || []).sortBy(v => {\n      return (v.created_at || 0) * -1\n    })\n    let magazines_html = []\n    for (let v of magazines) {\n      magazines_html.push(\n        <tr\n          key={v.id}\n          style={{ cursor: 'pointer' }}\n          onClick={() => {\n            window.location.href = `/magazines/?id=${v.file_id}`\n          }}\n        >\n          <td>\n            <div>\n              <b>{v.title}</b>\n            </div>\n            <div className=\"small text-muted\">\n              {moment(v.created_at).format('MM/DD 発刊')}\n            </div>\n          </td>\n          <td>\n            <div className=\"small\">{v.description || ''}</div>\n          </td>\n        </tr>\n      )\n    }\n    let original_title = ''\n    let original_description = ''\n    let magazine_url_id = ''\n    let magazine_url_disabled = ''\n    let magazine_editors = {\n      me: '',\n      anyone: '',\n    }\n    if (\n      this.props.magazine != undefined &&\n      this.props.magazine.url_id != undefined\n    ) {\n      magazine_url_disabled = 'disabled'\n      magazine_url_id =\n        this.state.magazine_url_id || this.props.magazine.url_id || ''\n    }\n    if (this.props.magazine != undefined) {\n      original_title = this.state.magazine_title || this.props.magazine.title\n      original_description =\n        this.state.magazine_description || this.props.magazine.description\n      magazine_editors[\n        this.state.magazine_editors || this.props.magazine.editors\n      ] = 'checked'\n      if (this.props.magazine.url_id == undefined) {\n        magazine_url_id = this.state.magazine_url_id || ''\n      }\n    } else {\n      magazine_url_id = this.state.magazine_url_id || ''\n      original_title = this.state.magazine_title\n      original_description = this.state.magazine_description\n      magazine_editors[this.state.magazine_editors] = 'checked'\n    }\n    let check_btn = 'primary'\n    let check_btn_disabled = ''\n    let invalid_state = ''\n    let invalid_color = 'danger'\n    let invalid_cursor = 'pointer'\n    if (this.state.is_invalid === 'is-invalid') {\n      check_btn = 'dark'\n      check_btn_disabled = 'disabled'\n      invalid_cursor = 'default'\n    } else if (this.state.is_invalid === 'is-valid') {\n      check_btn_disabled = 'disabled'\n      check_btn = 'dark'\n      invalid_state = 'state-valid'\n      invalid_color = 'success'\n      invalid_cursor = 'default'\n    }\n    let id_check_btn_input = (\n      <input\n        onChange={e => {\n          let id = e.target.value\n          let is_invalid = false\n          let invalid_message = ''\n          if (this.state.invalid_ids[id.toLowerCase()] != undefined) {\n            is_invalid = 'is-invalid'\n            invalid_message = '既に使われているIDです。'\n          } else if (id.match(/[^a-z0-9_-]+/i) != null || id.length > 30) {\n            is_invalid = 'is-invalid'\n            invalid_message =\n              '無効な文字列です。３０文字以内の英数と_-のみ利用可能です。'\n          }\n          this.setState({\n            magazine_url_id: id,\n            is_invalid: is_invalid,\n            invalid_message: invalid_message,\n          })\n        }}\n        value={magazine_url_id}\n        id=\"magazine_id\"\n        type=\"text\"\n        className={`form-control ${this.state.is_invalid}  ${invalid_state}`}\n        disabled={magazine_url_disabled}\n        name=\"example-text-input\"\n        placeholder=\"マガジン名\"\n      />\n    )\n    let id_check_btn = (\n      <div className=\"input-group\">\n        {id_check_btn_input}\n        <span className=\"input-group-append\">\n          <button\n            className={`btn btn-${check_btn} ${check_btn_disabled}`}\n            style={{ cursor: invalid_cursor }}\n            type=\"button\"\n            onClick={async () => {\n              await this.checkMagazineID()\n            }}\n          >\n            チェック\n          </button>\n        </span>\n      </div>\n    )\n    if (\n      this.props.magazine != undefined &&\n      this.props.magazine.url_id != undefined\n    ) {\n      id_check_btn = id_check_btn_input\n    }\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <span className=\"stamp stamp-sm bg-green mr-3\">\n              <i className=\"fa fa-book\" />\n            </span>\n            共同マガジン\n            {action_word}\n          </h3>\n          <div className=\"card-options\">\n            <a\n              onClick={() => {\n                this.issueMagazine(this.props.magazine != undefined)\n              }}\n              className=\"btn btn-green btn-sm text-white\"\n            >\n              {action_word}\n            </a>\n            {delete_btn}\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <label className=\"form-label\">\n              マガジンID(英数_- ３０文字以内、変更不可)\n            </label>\n            {id_check_btn}\n            <div className={`text-${invalid_color} mt-1`}>\n              {this.state.invalid_message}\n            </div>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"form-label\">マガジン名</label>\n            <input\n              onChange={e => {\n                this.setState({ magazine_title: e.target.value })\n              }}\n              value={original_title}\n              id=\"magazine_title\"\n              type=\"text\"\n              className={`form-control`}\n              name=\"example-text-input\"\n              placeholder=\"マガジン名\"\n            />\n          </div>\n          <div className=\"form-group mt-3\">\n            <label className=\"form-label\">マガジン概要（省略可）</label>\n            <textarea\n              id=\"magazine_description\"\n              className=\"form-control\"\n              name=\"example-textarea-input\"\n              rows=\"2\"\n              placeholder=\"マガジン概要\"\n              onChange={e => {\n                this.setState({ description: e.target.value })\n              }}\n            >\n              {original_description}\n            </textarea>\n          </div>\n          <div className=\"form-group\">\n            <label className=\"form-label\">\n              共同編集者（後で個別追加・変更可能）\n            </label>\n            <div className=\"selectgroup w-100\">\n              <label className=\"selectgroup-item\">\n                <input\n                  onClick={() => {\n                    this.setState({ magazine_editors: 'me' })\n                  }}\n                  checked={magazine_editors.me}\n                  type=\"radio\"\n                  name=\"editors\"\n                  value=\"me\"\n                  className=\"selectgroup-input\"\n                />\n                <span className=\"selectgroup-button\">自分のみ</span>\n              </label>\n              <label className=\"selectgroup-item\">\n                <input\n                  onClick={() => {\n                    this.setState({ magazine_editors: 'anyone' })\n                  }}\n                  checked={magazine_editors.anyone}\n                  type=\"radio\"\n                  name=\"editors\"\n                  value=\"anyone\"\n                  className=\"selectgroup-input\"\n                />\n                <span className=\"selectgroup-button\">誰でも</span>\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Articles\n","import React, { Component } from 'react'\n\nclass Alert extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let alerts = this.props.items || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.props.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n\n    return <div className=\"row\">{alert_html}</div>\n  }\n}\n\nexport default Alert\n","import React, { Component } from 'react'\nimport firebase from 'firebase'\nimport uuidv4 from 'uuid/v4'\nimport url from 'url'\nimport _ from 'underscore'\nlet prefix = process.env.FIREBASE_PROJECT_NAME\n\n// firestore\nrequire('firebase/firestore')\nconst modals = {\n  error_exists: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n      </div>\n    ),\n    body: 'そのアカウントは既に他のユーザーに使われています。',\n    cancel_text: '確認',\n  },\n  error_account_removal: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> エラー！\n      </div>\n    ),\n    body:\n      'アカウント取り消しに失敗しました。時間を置いてもう一度お試し下さい。',\n    cancel_text: '確認',\n  },\n  error_general: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> エラーが発生しました！\n      </div>\n    ),\n    body: '時間を置いてからもう一度申請して下さい。',\n    cancel_text: '確認',\n  },\n}\nconst config = {\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: `${process.env.FIREBASE_PROJECT_ID}.firebaseapp.com`,\n  databaseURL: `https://${process.env.FIREBASE_DATABASE_NAME}.firebaseio.com`,\n  projectId: process.env.FIREBASE_PROJECT_ID,\n  storageBucket: `${process.env.FIREBASE_BUCKET}.appspot.com`,\n  messagingSenderId: process.env.FIREBASE_SENDER_ID,\n  timestampsInSnapshots: true,\n}\nfirebase.initializeApp(config)\nconsole.log(config)\nclass Auth {\n  constructor(component, opts = {}) {\n    this.opts = opts\n    this.component = component\n    if (typeof window !== 'undefined') {\n      const WavesAPI = require('@waves/waves-api')\n      let network = WavesAPI.MAINNET_CONFIG\n      if (process.env.WAVES_NETWORK === 'TESTNET') {\n        network = WavesAPI.TESTNET_CONFIG\n      }\n      this.Waves = WavesAPI.create(network)\n      this.db = firebase.firestore()\n      this.provider = new firebase.auth.TwitterAuthProvider()\n      this.provider_github = new firebase.auth.GithubAuthProvider()\n      firebase.auth().useDeviceLanguage()\n      firebase.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.setUser(user, twitter_user => {\n            this.getUserInfo(twitter_user)\n          })\n        } else {\n          if (this.opts.redirect === true) {\n            window.location.href = '/'\n          } else {\n            this.component.setState({ user: null, isUser: false })\n          }\n        }\n      })\n    }\n  }\n  searchTweeple(user_id, cb, err) {\n    this.db\n      .collection('tweeple')\n      .doc(user_id)\n      .get()\n      .then(ss => {\n        cb(ss)\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  // users\n  setData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      }\n    }\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .set(value, { merge: true })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  updateData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        if (e.toString().match(/no document to update/i) !== null) {\n          this.setData(value, cb, err)\n        } else {\n          this.component.alerts.pushAlert(\n            `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n          )\n        }\n      }\n    }\n\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .update(value)\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  confirmMission(mission_id) {\n    let userInfo = this.component.state.userInfo || {}\n    if (userInfo.missions == undefined) {\n      userInfo.missions = {}\n    }\n    if (userInfo.missions[mission_id] == undefined) {\n      userInfo.missions[mission_id] = { tasks: {} }\n    }\n    if (userInfo.missions[mission_id].confirmed == undefined) {\n      userInfo.missions[mission_id].confirmed = Date.now()\n    }\n    let tasks = []\n    let isError = false\n    for (let v of this.component.mission.tasks) {\n      if (v.social != undefined) {\n        if (\n          (this.component.state.social_links || {})[`${v.social}.com`] !=\n          undefined\n        ) {\n          tasks.push({\n            task_id: v.id,\n            social: v.social,\n            id: this.component.state.social_links[`${v.social}.com`].uid,\n          })\n        } else if (\n          (this.component.state.serverInfo || {})[v.social] != undefined\n        ) {\n          tasks.push({\n            task_id: v.id,\n            social: v.social,\n            id: this.component.state.serverInfo[v.social].id,\n          })\n        } else {\n          isError = true\n        }\n      } else {\n        tasks.push(false)\n      }\n    }\n    if (isError == true) {\n      this.component.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n          </div>\n        ),\n        body: 'エラーが発生しました！時間を置いてもう一度お試し下さい。',\n        cancel_text: '確認',\n      })\n      return\n    }\n    let mission_confirmed = {\n      uid: this.component.state.user.uid,\n      mission_id: 'join',\n      date: Date.now(),\n      tasks: tasks,\n      confirmed: false,\n    }\n    let confirmation_id = `join_${mission_confirmed.uid}`\n    this.db\n      .collection('mission_pool')\n      .doc(confirmation_id)\n      .set(mission_confirmed)\n      .then(ss => {\n        this.setUserInfo('missions', userInfo.missions, () => {\n          this.component.showModal({\n            title: (\n              <div>\n                <i className=\"text-success fas fa-check\" /> ミッション確定！\n              </div>\n            ),\n            body:\n              'ミッションを確定しました。２４時間以内に認証されます。しばらくお待ち下さい。',\n            cancel_text: '確認',\n          })\n        })\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n            </div>\n          ),\n          body: 'エラーが発生しました！時間を置いてもう一度お試し下さい。',\n          cancel_text: '確認',\n        })\n      })\n  }\n  completeTask(mission_id, task_id) {\n    let userInfo = this.component.state.userInfo || {}\n    if (userInfo.missions == undefined) {\n      userInfo.missions = {}\n    }\n    if (userInfo.missions[mission_id] == undefined) {\n      userInfo.missions[mission_id] = { tasks: {} }\n    }\n    userInfo.missions[mission_id].tasks[task_id] = Date.now()\n    this.setUserInfo('missions', userInfo.missions, () => {})\n  }\n\n  getUserInfo(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let userInfo = ss.data() || {}\n        this.component.setState({ userInfo: userInfo }, () => {\n          this.getServerInfo(user)\n          this.getUserTip(user)\n          if (this.opts.magazine !== true) {\n            this.getUserHistory(user)\n            this.getUserPayment(user)\n            this.getUserArticles(user)\n            this.getUserMagazines()\n          }\n          if (this.opts.oauth != undefined) {\n            this.validateWavesAddress(this.opts.oauth)\n          }\n          if (\n            this.component.state.user.id === process.env.ADMIN_TWITTER_ID &&\n            this.opts.adminPayment === true\n          ) {\n            this.getAdminPayment()\n          }\n          if (\n            this.component.state.user.id === process.env.ADMIN_TWITTER_ID &&\n            this.opts.adminReport === true\n          ) {\n            this.getAdminReport()\n          }\n        })\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getServerInfo(user) {\n    this.db\n      .collection('users_server')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let serverInfo = ss.data() || {}\n        this.component.setState({ serverInfo: serverInfo }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserHistory(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('history')\n      .get()\n      .then(ss => {\n        let history = []\n        ss.forEach(doc => {\n          history.push(doc.data())\n        })\n        history = _(history).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ history: history }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserTip(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('tip')\n      .get()\n      .then(ss => {\n        let tip = []\n        ss.forEach(doc => {\n          tip.push(doc.data())\n        })\n        tip = _(tip).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ tip_history: tip }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  checkMagazineID(id, issue_component) {\n    let https = 'https'\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      https = 'http'\n    }\n    id = id.toLowerCase()\n    window.$.post(\n      `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/check/magazine_id/`,\n      { magazine_id: id },\n      json => {\n        if (json.error != null) {\n          this.component.showModal(modals.error_general)\n        } else {\n          if (json.exists === false) {\n            issue_component.setState({\n              is_invalid: 'is-valid',\n              invalid_message: `${https}://${\n                process.env.MAGAZINE_DOMAIN\n              }/${id}/ がマガジンURLになります。`,\n            })\n          } else {\n            let invalid_ids = issue_component.state.invalid_ids\n            invalid_ids[id] = true\n            issue_component.setState({\n              invalid_ids: invalid_ids,\n              is_invalid: 'is-invalid',\n              invalid_message: `既に使われてるIDです。`,\n            })\n          }\n          console.log(json)\n        }\n      }\n    )\n  }\n  listArticles(LastEvaluatedKey) {\n    let uid = this.component.state.user.uid\n    window.$.post(\n      `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/list/articles/${uid}/${\n        this.component.state.serverInfo.alis.user_id\n      }`,\n      { LastEvaluatedKey: LastEvaluatedKey },\n      json => {\n        if (json.error != null) {\n          this.component.showModal(modals.error_general)\n        } else {\n          let magazineArticles = (\n            this.component.state.magazineArticles || []\n          ).concat(json.articles)\n          let newstate = {\n            articles_page: json.LastEvaluatedKey,\n            magazineArticles: magazineArticles,\n          }\n          if (json.articles.length == 0 || json.LastEvaluatedKey == undefined) {\n            newstate.nomore_articles = true\n          }\n          this.component.setState(newstate, () => {\n            if (LastEvaluatedKey == undefined) {\n              this.getUserMagazineArticles()\n            }\n          })\n        }\n      }\n    )\n  }\n  getUserMagazineArticles() {\n    this.db\n      .collection('users_server')\n      .doc(this.component.state.user.uid)\n      .collection('magazine_articles')\n      .get()\n      .then(ss => {\n        let articles = {}\n        ss.forEach(doc => {\n          articles[doc.id] = doc.data()\n        })\n        this.component.setState({ userArticles: articles }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserMagazines() {\n    this.db\n      .collection('users_server')\n      .doc(this.component.state.user.uid)\n      .collection('magazines')\n      .get()\n      .then(ss => {\n        let magazines = []\n        ss.forEach(doc => {\n          magazines.push(doc.data())\n        })\n\n        this.component.setState({ userMagazines: magazines }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  publishArticle(article, magazine_id) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/upload/article/`,\n        {\n          random_value: random_value,\n          article: JSON.stringify(article),\n          uid: this.component.state.user.uid,\n          mid: magazine_id,\n        },\n        json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" /> 投稿しました！\n                </div>\n              ),\n              body: `${article.title}をマガジンに投稿しました！`,\n              cancel_text: '確認',\n            })\n            this.getUserMagazineArticles()\n          }\n        }\n      )\n    })\n  }\n  unpublishArticle(article, magazine_id) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/unpublish/article/`,\n        {\n          random_value: random_value,\n          article: JSON.stringify(article),\n          uid: this.component.state.user.uid,\n          mid: magazine_id,\n        },\n        json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" />{' '}\n                  投稿を取り下げしました！\n                </div>\n              ),\n              body: `${article.title}をマガジンから取り下げました！`,\n              cancel_text: '確認',\n            })\n            this.getUserMagazineArticles()\n          }\n        }\n      )\n    })\n  }\n  tip(amount, article, magazine_id) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/tip/`,\n        {\n          random_value: random_value,\n          article: JSON.stringify(article),\n          uid: this.component.state.user.uid,\n          magazine_id: magazine_id,\n          amount: amount,\n        },\n        json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" /> 投げ銭完了！\n                </div>\n              ),\n              body: (\n                <div>\n                  『{article.title}\n                  』に <b className=\"text-primary\">{amount}</b>\n                  AHT投げ銭しました！\n                </div>\n              ),\n              cancel_text: '確認',\n            })\n            this.getServerInfo(this.component.state.user)\n            this.getUserTip(this.component.state.user)\n          }\n        }\n      )\n    })\n  }\n  getUserArticles(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('articles')\n      .get()\n      .then(ss => {\n        let articles = []\n        ss.forEach(doc => {\n          articles.push(doc.data())\n        })\n        articles = _(articles).sortBy(v => {\n          return v.published_at * -1\n        })\n        this.component.setState({ articles: articles }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  getAdminPayment() {\n    this.db\n      .collection('history')\n      .where('payment_from', '==', 'admin')\n      .get()\n      .then(ss => {\n        let history = []\n        ss.forEach(doc => {\n          history.push(doc.data())\n        })\n        history = _(history).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ admin_history: history }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getAdminReport() {\n    this.db\n      .collection('report')\n      .get()\n      .then(ss => {\n        let reports = {}\n        ss.forEach(doc => {\n          let report = doc.data()\n          reports[report.alis] = report.twitter\n        })\n        this.component.setState({ reports: reports }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  getUserPayment(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('payment')\n      .get()\n      .then(ss => {\n        let payment = []\n        ss.forEach(doc => {\n          payment.push(doc.data())\n        })\n        payment = _(payment).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ payment: payment }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  authenticateAlisUser(token) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/auth/alis/`,\n        {\n          random_value: random_value,\n          token: token,\n          uid: this.component.state.user.uid,\n        },\n        json => {\n          if (json.error != null) {\n            if (json.error === 4) {\n              this.component.showModal(modals.error_exists)\n            } else {\n              this.component.showModal(modals.error_general)\n            }\n          } else {\n            this.getUserInfo(this.component.state.user)\n          }\n        }\n      )\n    })\n  }\n  retry() {\n    let missions = this.component.state.userInfo.missions\n    let revoke = missions.join.revoke\n    for (let k in missions.join.tasks) {\n      if (revoke.includes('task-' + k)) {\n        delete missions.join.tasks[k]\n      }\n    }\n    delete missions.join.revoke\n    this.setUserInfo('missions', missions, () => {\n      this.component.alerts.pushAlert(\n        `重複アカウントによるタスクを取り消しました。別アカウントで再トライして下さい！`,\n        `success`\n      )\n    })\n  }\n  setUser(user, cb) {\n    let twitter_user = {\n      created_at: user.metadata.creationTime,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      uid: user.uid,\n      id: user.providerData[0].uid,\n    }\n    let social_links = {}\n    user.providerData.forEach(v => {\n      social_links[v.providerId] = v\n    })\n    this.component.setState(\n      { user: twitter_user, isUser: true, social_links: social_links },\n      () => {\n        if (cb != undefined) {\n          cb(twitter_user)\n        }\n      }\n    )\n  }\n  makePayment(to, amount, what_for, type) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/payment/`,\n        {\n          type: type,\n          random_value: random_value,\n          uid: this.component.state.user.uid,\n          twitter_id: this.component.state.user.id,\n          amount: amount,\n          to: to.uid,\n          what_for: what_for,\n          photoURL: to.photoURL,\n          displayName: to.displayName,\n        },\n        json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            this.getUserInfo(this.component.state.user)\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" />{' '}\n                  支払いが完了しました！\n                </div>\n              ),\n              body: `${\n                to.displayName\n              }さんにハッカー部から${amount}AHTの支払いをしました！`,\n              cancel_text: '確認',\n            })\n          }\n        }\n      )\n    })\n  }\n  link_discord() {\n    this.genRandomValue(random_value => {\n      let oauth_url = `https://discordapp.com/api/oauth2/authorize?client_id=486270221825474562&redirect_uri=${encodeURIComponent(\n        process.env.BACKEND_SERVER_ORIGIN\n      )}%2F${prefix}%2Foauth%2Fdiscord&response_type=code&scope=guilds%20identify%20messages.read&state=${random_value}_${\n        this.component.state.user.uid\n      }`\n      window.location.href = oauth_url\n    })\n  }\n  link_github() {\n    firebase\n      .auth()\n      .currentUser.linkWithPopup(this.provider_github)\n      .then(result => {\n        this.setUser(result.user)\n      })\n      .catch(error => {\n        console.log(error)\n        this.component.showModal(modals.error_exists)\n      })\n  }\n  registerPayment(amount, address) {\n    let uid = this.component.state.user.uid\n    let payment = this.component.state.payment\n    let date = Date.now()\n    let transaction = {\n      amount: amount,\n      address: address,\n      date: date,\n      status: 'requested',\n    }\n    let transaction_pool = {\n      uid: uid,\n      amount: amount,\n      address: address,\n      date: date,\n      status: 'requested',\n    }\n    payment.unshift(transaction)\n    this.db\n      .collection('users')\n      .doc(uid)\n      .collection('payment')\n      .doc(`${date}_${amount}`)\n      .set(transaction)\n      .then(() => {\n        this.component.setState({ payment: payment })\n      })\n    this.db\n      .collection('payment_pool')\n      .doc(uid + '_' + date)\n      .set(transaction_pool)\n      .then(() => {\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n              支払い手続き開始！\n            </div>\n          ),\n          body: (\n            <p>\n              トークンの送信リストに登録しました。数分～数十分以内に指定のアドレスにトークンが送信されます。手続きの進行状況は支払い履歴から確認できます。\n            </p>\n          ),\n          cancel_text: '確認',\n        })\n      })\n  }\n  getAllCandidates() {\n    this.db\n      .collection('twitter_candidates')\n      .get()\n      .then(res => {\n        let candidates = []\n        res.forEach(ss => {\n          let obj = ss.data()\n          candidates.push({ alis: ss.id, candidates: obj })\n        })\n        this.component.setState({ allCandidates: candidates })\n      })\n  }\n  chooseCandidate(alis, screen_name, search_component) {\n    let candidates\n    let allCandidates = search_component.state.allCandidates\n    for (let v of allCandidates) {\n      if (v.alis == alis) {\n        for (let k in v.candidates || {}) {\n          if (k.toLowerCase() == screen_name.toLowerCase()) {\n            v.candidates[k].checked = true\n          } else {\n            delete v.candidates[k].checked\n          }\n        }\n        candidates = v.candidates\n        break\n      }\n    }\n\n    this.db\n      .collection('twitter_candidates')\n      .doc(alis)\n      .set(candidates)\n      .then(() => {\n        search_component.setState({ allCandidates: allCandidates })\n      })\n  }\n  existsTweeple(screen_name, cb) {\n    this.db\n      .collection('tweeple')\n      .where('screen_name_lower', '==', screen_name.toLowerCase())\n      .limit(1)\n      .get()\n      .then(ss => {\n        let exists = false\n        ss.forEach(() => {\n          exists = true\n        })\n        cb(exists)\n      })\n      .catch(e => {\n        cb(false)\n      })\n  }\n  addCandidate(screen_name, alis_user, search_component) {\n    let candidates = search_component.state.candidates || []\n    this.db\n      .collection('twitter_candidates')\n      .doc(alis_user.user_id)\n      .set(\n        {\n          [`$profile`]: alis_user,\n          [`${screen_name}`]: {\n            date: Date.now(),\n            uid: this.component.state.user.uid,\n          },\n        },\n        { merge: true }\n      )\n      .then(() => {\n        candidates.push(screen_name)\n        search_component.setState({ candidates: candidates })\n        this.component.alerts.pushAlert(\n          `登録しました！確認後リストに追加されますのでしばしお待ち下さい。`,\n          'success'\n        )\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_general)\n      })\n  }\n  getCandidates(alis_user, search_component) {\n    this.db\n      .collection('twitter_candidates')\n      .doc(alis_user)\n      .get()\n      .then(ss => {\n        let accounts = []\n        if (ss.exists) {\n          let candidates = ss.data()\n          for (let k in candidates) {\n            if (k !== '$profile') {\n              accounts.push(k)\n            }\n          }\n          search_component.setState({ candidates: accounts })\n        }\n      })\n  }\n  reportError(user) {\n    const doc_id = `${this.component.state.user.uid}_${Date.now()}`\n    this.db\n      .collection('report')\n      .doc(doc_id)\n      .set({ twitter: user.id_str, alis: user.user_id })\n      .then(() => {\n        let reports = this.component.state.reports || {}\n        reports[user.user_id] = user.id_str\n        this.component.setState({ reports: reports })\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_general)\n      })\n  }\n  unlink_github() {\n    firebase\n      .auth()\n      .currentUser.unlink('github.com')\n      .then(result => {\n        this.setUser(result)\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_account_removal)\n      })\n  }\n  getMagazine() {\n    console.log(this.component.state)\n    this.db\n      .collection('magazines')\n      .doc(this.component.state.magazine_id)\n      .get()\n      .then(ss => {\n        if (ss.exists) {\n          this.component.setState({ magazine: ss.data() })\n        }\n      })\n  }\n  deleteMagazine(magazine) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/magazine/delete/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        magazine,\n        async json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            magazine.deleted = Date.now()\n            this.component.setState(\n              {\n                magazine: magazine,\n                updated: Date.now(),\n              },\n              () => {\n                this.component.showModal({\n                  title: (\n                    <div>\n                      <i className=\"text-success fas fa-check\" /> 削除完了！\n                    </div>\n                  ),\n                  body: 'マガジンを削除しました。',\n                  cancel_text: '確認',\n                })\n              }\n            )\n          }\n        }\n      )\n    })\n  }\n  issueMagazine(magazine, issue_component, callback) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/magazine/issue/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        magazine,\n        async json => {\n          if (json.error != null) {\n            if (json.error === 3) {\n              this.component.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-danger fas fa-ban\" /> ID使用不可！\n                  </div>\n                ),\n                body: `『${\n                  magazine.url_id\n                }』は既に他のユーザーに使われています。`,\n                cancel_text: '確認',\n              })\n              let invalid_ids = issue_component.state.invalid_ids\n              invalid_ids[magazine.url_id] = true\n              issue_component.setState({\n                invalid_ids: invalid_ids,\n                is_invalid: 'is-invalid',\n                invalid_message: `既に使われてるIDです。`,\n              })\n            } else {\n              this.component.showModal(modals.error_general)\n            }\n          } else {\n            if (magazine.is_edit) {\n              this.component.setState(\n                {\n                  magazine: magazine,\n                  updated: Date.now(),\n                },\n                () => {\n                  this.component.showModal({\n                    title: (\n                      <div>\n                        <i className=\"text-success fas fa-check\" /> 設定変更！\n                      </div>\n                    ),\n                    body:\n                      'マガジンの設定を変更しました。変更が反映されるまで最大で1時間程かかります。',\n                    cancel_text: '確認',\n                  })\n                }\n              )\n            } else {\n              this.component.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-success fas fa-check\" /> マガジン発刊！\n                  </div>\n                ),\n                body: `新マガジン『${magazine.title}』を発刊しました！`,\n                cancel_text: '確認',\n              })\n              callback()\n            }\n            this.getUserMagazines()\n          }\n        }\n      )\n    })\n  }\n  unlink_discord() {\n    this.genRandomValue(random_value => {\n      fetch(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/remove/discord/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        {\n          method: 'POST',\n        }\n      )\n        .then(res => res.json())\n        .then(json => {\n          if (json.error == undefined) {\n            this.getServerInfo(this.component.state.user)\n          } else {\n            this.component.showModal(modals.error_account_removal)\n          }\n        })\n        .catch(() => {\n          this.component.showModal(modals.error_account_removal)\n        })\n    })\n  }\n  unlink_alis() {\n    this.genRandomValue(random_value => {\n      fetch(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/remove/alis/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        {\n          method: 'POST',\n        }\n      )\n        .then(res => res.json())\n        .then(json => {\n          if (json.error == undefined) {\n            this.getServerInfo(this.component.state.user)\n          } else {\n            this.component.showModal(modals.error_account_removal)\n          }\n        })\n        .catch(() => {\n          this.component.showModal(modals.error_account_removal)\n        })\n    })\n  }\n\n  login(no_redirect) {\n    firebase\n      .auth()\n      .signInWithPopup(this.provider)\n      .then(() => {\n        if (no_redirect !== true) {\n          window.location.href = '/home/'\n        }\n      })\n      .catch(error => {\n        alert('ログインに失敗しました！もう一度お試し下さい。')\n      })\n  }\n  logout() {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.location.href = '/'\n      })\n      .catch(error => {\n        alert('ログアウトに失敗しました。もう一度お試し下さい。')\n      })\n  }\n\n  // waves\n  validateWavesAddress(popup_url) {\n    const redirectedUrl = popup_url\n    const parsedUrl = url.parse(redirectedUrl, true)\n    /* WAVES is not returning d parameter at the moment */\n    const signedData = parsedUrl.query.d\n    console.log(signedData)\n    /* \n       todo: need to verify signature, but the current code on the demo page is not working!!\n       https://demo.wavesplatform.com/\n    */\n    const signature = parsedUrl.query.s\n    const publicKey = parsedUrl.query.p\n    const address = parsedUrl.query.a\n    let random_value, uid\n    if (parsedUrl.query.d != undefined) {\n      ;[random_value, uid] = signedData.split('_')\n    }\n    console.log(address)\n    console.log(this.Waves.crypto.isValidAddress(address))\n    if (\n      (signedData != undefined && uid != this.component.state.user.uid) ||\n      (signedData != undefined &&\n        random_value != this.component.state.userInfo.random_value) ||\n      this.Waves.crypto.isValidAddress(address) == false\n    ) {\n      this.component.alerts.pushAlert(\n        `認証に失敗しました。時間を置いて再度お試し下さい。`\n      )\n    } else {\n      this.addWavesAddress({\n        publickKey: publicKey,\n        address: address,\n        added_at: Date.now(),\n      })\n    }\n  }\n  setAsReceiver(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    for (let k in waves_addresses) {\n      if (k == address) {\n        waves_addresses[k].receiver = true\n      } else {\n        delete waves_addresses[k].receiver\n      }\n    }\n    this.setUserInfo('waves_addresses', waves_addresses, () => {\n      this.component.alerts.pushAlert(\n        `受け取りアドレスを${address} に変更しました！`,\n        `success`\n      )\n    })\n  }\n  checkAddressInPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .get()\n      .then(ss => {\n        if (ss.exists) {\n          this.component.alerts.pushAlert(\n            `${address}は既に他の人に登録されているため使えません。`\n          )\n        } else {\n          cb()\n        }\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      })\n  }\n  addWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    if (waves_addresses[address.address] != undefined) {\n      this.component.alerts.pushAlert(\n        `${address.address} は既に登録されています！`,\n        `warning`\n      )\n    } else {\n      this.checkAddressInPool(address.address, () => {\n        if (_.isEmpty(waves_addresses)) {\n          address.receiver = true\n        }\n        waves_addresses[address.address] = address\n        this.setUserInfo('waves_addresses', waves_addresses, () => {\n          this.addAddressToPool(address.address, () => {\n            this.component.alerts.pushAlert(\n              `${address.address} を追加しました！`,\n              `success`\n            )\n          })\n        })\n      })\n    }\n  }\n  setUserInfo(field, value, cb) {\n    this.updateData({ [field]: value }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo[field] = value\n      this.component.setState({ userInfo: userInfo }, () => {})\n      cb()\n    })\n  }\n  removeAddressFromPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .delete()\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  addAddressToPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .set({ uid: this.component.state.user.uid })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  genRandomValue(cb) {\n    let uuid = uuidv4()\n    this.setData({ random_value: uuid }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo.random_value = uuid\n      this.component.setState({ userInfo: userInfo }, () => {\n        cb(uuid)\n      })\n    })\n  }\n  removeWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    delete waves_addresses[address]\n    this.setUserInfo('waves_addresses', waves_addresses, () => {\n      this.removeAddressFromPool(address, () => {\n        this.component.alerts.pushAlert(`${address} を削除しました！`)\n      })\n    })\n  }\n}\n\nexport default Auth\n","class Alerts {\n  constructor(component) {\n    this.component = component\n  }\n  pushAlert(message, type = 'danger') {\n    let alerts = this.component.state.alerts || []\n    alerts.unshift({ type: type, text: message })\n    this.component.setState({ alerts: alerts }, () => {})\n  }\n  dissmissAlert(i) {\n    let alerts = this.component.state.alerts || []\n    alerts.splice(i, 1)\n    this.component.setState({ alerts: alerts })\n  }\n}\n\nexport default Alerts\n","import React, { Component } from 'react'\nimport ComponentP from '../components/component_promise'\nimport Helmet from '../components/helmet'\nimport url from 'url'\nimport querystring from 'querystring'\n\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport Layout from '../components/layout'\nimport Footer from '../components/footer'\nimport Modal from '../components/modal'\nimport Loading from '../components/loading'\nimport Header_Home from '../components/header_home'\nimport Subheader from '../components/subheader'\nimport Post_Magazine from '../components/post_magazine'\nimport Issue_Magazine from '../components/issue_magazine'\nimport Alert from '../components/alert'\nimport auth from '../lib/auth'\nimport alerts from '../lib/alerts'\nimport alis_hackers from '../assets/images/alis_hackers.png'\nimport profile_cover from '../assets/images/profile_cover.jpg'\nmoment.locale('ja')\n\nclass Magazine extends ComponentP {\n  constructor(props) {\n    super(props)\n    let page = (this.params.page || 1) * 1\n    let magazine_id = this.params.id || 'top'\n    if (\n      props.pageContext != undefined &&\n      props.pageContext.file_id != undefined\n    ) {\n      magazine_id = props.pageContext.file_id\n    }\n    this.state = {\n      pageContext: props.pageContext,\n      tab: 'articles',\n      tip: 0,\n      page: page,\n      magazine_id: magazine_id,\n      serverInfo: {},\n      userInfo: {},\n      modal: {},\n      alerts: [],\n    }\n    this.alerts = new alerts(this, { magazine: true })\n  }\n  is_editor() {\n    return (\n      this.state.serverInfo != undefined &&\n      this.state.serverInfo.alis != undefined &&\n      (this.is_admin() ||\n        ((this.state.magazine_id !== 'admin' &&\n          (this.state.magazine != undefined &&\n            this.state.magazine.editors === 'anyone' &&\n            this.state.serverInfo != undefined &&\n            this.state.serverInfo.alis != undefined)) ||\n          (this.state.userInfo != undefined &&\n            this.state.userInfo.missions != undefined &&\n            this.state.userInfo.missions.join != undefined &&\n            this.state.userInfo.missions.join.confirmed != undefined &&\n            this.state.userInfo.missions.join.confirmed != false)))\n    )\n  }\n  is_admin() {\n    return (\n      this.state.magazine_id !== 'admin' &&\n      this.state.magazine != undefined &&\n      this.state.user != undefined &&\n      this.state.magazine.owner === this.state.user.uid\n    )\n  }\n  async getMagazines() {\n    let magazine_id = process.env.MAP_ID_MAGAZINES_TOP\n    try {\n      let map = await this.getJSOND(magazine_id, 'magazines')\n      if (map.maps != undefined && map.maps[this.state.page] != undefined) {\n        let json = await this.getJSOND(\n          map.maps[this.state.page],\n          this.state.page\n        )\n        await this.set({\n          magazine_articles: json.magazines,\n          len: json.len,\n        })\n      } else {\n        await this.set({ noMagazine: true })\n      }\n    } catch (e) {\n      await this.set({ noMagazine: true })\n    }\n  }\n  async getMagazine_Articles() {\n    let magazine_id = process.env.MAP_ID_MAGAZINES\n    if (this.state.magazine_id !== 'admin') {\n      magazine_id = this.state.magazine_id\n    }\n    let map\n    try {\n      map = await this.getJSOND(magazine_id, 'magazines')\n      if (\n        this.state.magazine_id === 'admin' &&\n        map.maps[this.state.magazine_id][this.state.page] != undefined\n      ) {\n        let json = await this.getJSOND(\n          map.maps[this.state.magazine_id][this.state.page],\n          this.state.page\n        )\n        await this.set({ magazine_articles: json.articles, len: json.len })\n      } else if (\n        map.maps != undefined &&\n        map.maps.map[this.state.page] != undefined\n      ) {\n        let json = await this.getJSOND(\n          map.maps.map[this.state.page],\n          this.state.page\n        )\n        await this.setState({\n          magazine: map.maps,\n          magazine_articles: json.articles,\n          len: json.len,\n        })\n        this.checkMagazine()\n      } else {\n        await this.set({ magazine: map, magazine_articles: [] })\n        this.checkMagazine()\n      }\n    } catch (e) {\n      console.log(e)\n      await this.set({ noMagazine: true })\n    }\n  }\n  async componentDidMount() {\n    this.auth = new auth(this, {})\n    if (this.state.magazine_id === 'top') {\n      await this.getMagazines()\n    } else {\n      await this.getMagazine_Articles()\n    }\n  }\n  checkMagazine() {\n    if (this.state.user == undefined) {\n      setTimeout(() => {\n        this.checkMagazine()\n      }, 500)\n    } else {\n      if (this.is_admin()) {\n        this.auth.getMagazine()\n      }\n    }\n  }\n  componentDidUpdate() {\n    window\n      .$('.waves-receiver')\n      .tooltip({ boundary: 'window', placement: 'right' })\n  }\n\n  showModal = config => {\n    this.setState({ modal: config }, () => {\n      window.$('#pageModal').modal({})\n    })\n  }\n  getMagazineTitle(is_html) {\n    let magazine_title = `HACKER's CLUB MAGAZINE`\n    if (this.state.magazine_id == 'top') {\n      magazine_title = 'ALISマガジン一覧'\n    } else if (\n      this.state.pageContext != undefined &&\n      this.state.pageContext.title != undefined\n    ) {\n      magazine_title = this.state.pageContext.title\n    }\n    let img = (\n      <img\n        src={alis_hackers}\n        style={{\n          borderRadius: '50%',\n          marginRight: '10px',\n          height: '35px',\n          marginBottom: '6px',\n        }}\n      />\n    )\n    if (\n      this.state.magazine != undefined &&\n      (this.state.pageContext == undefined ||\n        this.state.pageContext.title == undefined)\n    ) {\n      img = null\n      magazine_title = this.state.magazine.title\n    }\n    if (this.state.magazine != undefined && this.state.magazine_id != 'admin') {\n      img = null\n    }\n    if (is_html) {\n      magazine_title = [img, <b>{magazine_title}</b>]\n    }\n    return magazine_title\n  }\n  getMagazineDescription(no_html) {\n    let description\n    if (this.state.magazine_id == 'top') {\n      description = 'ALISISTAの皆さんが発刊した共同マガジンのリストです。'\n    } else if (\n      this.state.pageContext != undefined &&\n      this.state.pageContext.title != undefined\n    ) {\n      description = this.state.pageContext.description || ''\n    } else if (this.state.magazine == undefined) {\n      description = 'ハッカー部の公式マガジンです。'\n    } else if (this.state.magazine.description != undefined) {\n      description = this.state.magazine.description\n    }\n    if (no_html) {\n      return description\n    } else {\n      return <div className=\"text-center mb-4\">{description}</div>\n    }\n  }\n  loadArticles() {\n    this.auth.listArticles()\n  }\n  render() {\n    let updated = this.state.updated\n    let site_title = 'ALISマガジン'\n    let header_title = 'ALIS MAGAZINES'\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      site_title = 'ALISマガジン'\n      header_title = 'ALIS MAGAZINES TESTNET'\n    }\n    let alerts = this.state.alerts || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n    let body\n\n    if (\n      this.state.noMagazine === true ||\n      (this.state.magazine != undefined &&\n        this.state.magazine.deleted != undefined)\n    ) {\n      body = (\n        <Loading\n          title=\"マガジンが見つかりませんでした。\"\n          subtitle=\"idをお確かめ下さい...\"\n          btn_text=\"ハッカー部公式マガジンへ\"\n          btn_link=\"/\"\n        />\n      )\n    } else if (this.state.magazine_articles === undefined) {\n      body = <Loading />\n    } else if (\n      this.state.magazine_articles.length === 0 &&\n      this.state.tab === 'articles'\n    ) {\n      body = (\n        <Loading\n          title={this.state.magazine.title}\n          subtitle=\"このマガジンに記事を投稿してみましょう！\"\n          btn_text=\"ハッカー部公式マガジンへ\"\n          btn_link=\"/\"\n          message={this.state.magazine.description}\n          no_message={\n            this.state.magazine.description == undefined ||\n            this.state.magazine.description === ''\n          }\n        />\n      )\n    } else {\n      body = this.render_dashboard()\n    }\n    let nav_links = []\n    const nav_links_sub = [{ name: '記事', key: 'articles', icon: 'bookmark' }]\n    let subheader\n    if (\n      !(\n        this.state.magazine != undefined &&\n        this.state.magazine.deleted != undefined\n      ) &&\n      (this.is_editor() || this.is_admin())\n    ) {\n      if (this.is_editor()) {\n        nav_links_sub.push({\n          name: '投稿',\n          key: 'post',\n          icon: 'upload',\n          func: () => {\n            this.loadArticles()\n          },\n        })\n      }\n      if (this.is_admin()) {\n        nav_links_sub.push({ name: '設定', key: 'settings', icon: 'cogs' })\n      }\n      subheader = <Subheader items={nav_links_sub} component={this} />\n    }\n    let subdomain = ''\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      subdomain = 'testnet.'\n    }\n\n    let card_image\n    if (\n      this.state.pageContext != undefined &&\n      this.state.pageContext.title != undefined\n    ) {\n      card_image =\n        this.state.pageContext.cover_image ||\n        `https://${subdomain}to.alishackers.club${profile_cover}`\n    }\n    return (\n      <Layout>\n        <Helmet\n          title={`${this.getMagazineTitle()}`}\n          desc={`${this.getMagazineDescription(true)}`}\n          image={card_image}\n        />\n        <Header_Home\n          title={header_title}\n          payment={this.state.payment}\n          links={nav_links}\n          auth={this.auth}\n          user={this.state.user}\n          serverInfo={this.state.serverInfo}\n        />\n        {subheader}\n        <div className=\"my-3 my-md-5\">\n          <div className=\"container\">\n            <Alert items={this.state.alerts} alerts={this.alerts} />\n            {body}\n          </div>\n        </div>\n        <Modal modal={this.state.modal} />\n        <Footer />\n      </Layout>\n    )\n  }\n  async increaseTipAmount(amount) {\n    let tip = Math.round((this.state.tip + amount) * 10) / 10\n    let { currentAHT, afterAHT } = this.getCurrentAHT()\n    if (currentAHT - tip >= 0) {\n      await this.set({ tip: tip })\n      let { currentAHT, afterAHT } = this.getCurrentAHT()\n      window.$('#tip_amount').text(this.state.tip)\n      window.$('#currentAHT').text(currentAHT)\n      window.$('#afterAHT').text(afterAHT)\n      window.$('#modal_exec_btn').removeClass('btn-gray')\n      window.$('#modal_exec_btn').addClass('btn-danger')\n    }\n  }\n  async resetTipAmount() {\n    await this.set({ tip: 0 })\n    let { currentAHT, afterAHT } = this.getCurrentAHT()\n    window.$('#tip_amount').text(this.state.tip)\n    window.$('#currentAHT').text(currentAHT)\n    window.$('#afterAHT').text(afterAHT)\n    window.$('#modal_exec_btn').removeClass('btn-danger')\n    window.$('#modal_exec_btn').addClass('btn-gray')\n  }\n\n  getCurrentAHT() {\n    const divider = 100000000\n    let amount = this.state.serverInfo.amount.aht\n    let earned = amount.earned + (amount.tipped || 0)\n    let paid = amount.paid + (amount.tip || 0)\n    let currentAHT = Math.round((earned - paid) * divider) / divider\n    let afterAHT = Math.round((currentAHT - this.state.tip) * divider) / divider\n    return { currentAHT: currentAHT, afterAHT: afterAHT }\n  }\n  async tip(article) {\n    if (this.state.user == undefined) {\n      this.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fa fa-donate\" /> エラー！\n          </div>\n        ),\n        body: <p>投げ銭をするにはログインが必要です！</p>,\n        cancel_text: '確認',\n      })\n    } else if (article.uid === this.state.user.uid) {\n      this.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fa fa-donate\" /> エラー！\n          </div>\n        ),\n        body: <p>自分の記事には投げ錢できません！</p>,\n        cancel_text: '確認',\n      })\n    } else {\n      let { currentAHT, afterAHT } = this.getCurrentAHT()\n\n      if (currentAHT === 0) {\n        this.showModal({\n          title: (\n            <div>\n              <i className=\"text-danger fa fa-donate\" /> 残高不足！\n            </div>\n          ),\n          body: <p>投げ銭をするにはAHTを保有している必要があります！</p>,\n          cancel_text: '確認',\n        })\n      } else {\n        await this.set({ tip: 0 })\n        let tips = [0.1, 1, 10, 100]\n        let tips_html = []\n        for (let v of tips) {\n          tips_html.push(\n            <button\n              className=\"btn btn-primary m-3\"\n              style={{ borderRadius: '50%', width: '60px', height: '60px' }}\n              onClick={() => {\n                this.increaseTipAmount(v)\n              }}\n            >\n              {v}\n            </button>\n          )\n        }\n        tips_html.push(\n          <button\n            className=\"btn btn-warning m-3\"\n            style={{ borderRadius: '50%', width: '60px', height: '60px' }}\n            onClick={() => {\n              this.resetTipAmount()\n            }}\n          >\n            0\n          </button>\n        )\n        window.$('#tip_amount').text(0)\n        window.$('#currentAHT').text(currentAHT)\n        window.$('#afterAHT').text(currentAHT)\n        window.$('#modal_exec_btn').removeClass('btn-danger')\n        window.$('#modal_exec_btn').addClass('btn-gray')\n        this.showModal({\n          title: (\n            <div>\n              <i className=\"text-primary fa fa-donate\" />{' '}\n              投げ銭額を選択してください！\n            </div>\n          ),\n          body: (\n            <div>\n              <div className=\"text-center\" style={{ fontSize: '30px' }}>\n                <b id=\"tip_amount\" className=\"text-primary\">\n                  0\n                </b>{' '}\n                <span className=\"text-muted small\" style={{ fontSize: '12px' }}>\n                  AHT\n                </span>\n              </div>\n              <div className=\"text-center\">{tips_html}</div>\n              <div className=\"text-center\">\n                保有:{' '}\n                <b className=\"text-primary\" id=\"currentAHT\">\n                  {currentAHT}\n                </b>{' '}\n                <span className=\"text-muted small\">AHT</span>{' '}\n                <i className=\"fa fa-angle-double-right\" />{' '}\n                <b className=\"text-danger\" id=\"afterAHT\">\n                  {currentAHT}\n                </b>{' '}\n                <span className=\"text-muted small\">AHT</span>\n              </div>\n            </div>\n          ),\n          exec_color: 'gray',\n          exec: () => {\n            this.exec_tip(article)\n          },\n        })\n      }\n    }\n  }\n  exec_tip(article) {\n    if (this.state.tip > 0) {\n      this.auth.tip(this.state.tip, article, this.state.magazine_id)\n    }\n  }\n  render_dashboard() {\n    if (this.state.tab === 'articles') {\n      return this.render_dashboard_articles()\n    } else if (this.state.tab === 'post') {\n      return this.render_dashboard_post()\n    } else {\n      return this.render_dashboard_settings()\n    }\n  }\n  render_dashboard_post() {\n    return (\n      <div className=\"card\">\n        <Post_Magazine\n          articles_page={this.state.articles_page}\n          nomore_articles={this.state.nomore_articles}\n          magazine_id={this.state.magazine_id}\n          magazineArticles={this.state.magazineArticles}\n          userArticles={this.state.userArticles}\n          showModal={this.showModal}\n          auth={this.auth}\n        />\n      </div>\n    )\n  }\n  render_dashboard_settings() {\n    return (\n      <Issue_Magazine\n        magazine_id={this.state.magazine_id}\n        magazine={this.state.magazine}\n        user={this.state.user}\n        userInfo={this.state.userInfo}\n        showModal={this.showModal}\n        userMagazines={this.state.userMagazines}\n        auth={this.auth}\n      />\n    )\n  }\n  drawMagazine(article) {\n    let magazine_articles = []\n    for (let v of article.articles) {\n      magazine_articles.push(\n        <tr>\n          <td className=\"w-1\">\n            <a\n              target=\"_blank\"\n              href={`https://alis.to/users/${v.user_id}`}\n              className=\"avatar\"\n              style={{ backgroundImage: `url(${v.icon_image_url})` }}\n            />\n          </td>\n          <td className=\"small\">\n            <a\n              className=\"text-dark\"\n              href={`https://alis.to/${v.user_id}/articles/${v.article_id}`}\n              target=\"_blank\"\n            >\n              {v.title}\n            </a>\n          </td>\n        </tr>\n      )\n    }\n    let html = (\n      <div className=\"col-md-6 col-xl-4\">\n        <div className=\"card\">\n          <a\n            href={`/${article.url_id || article.file_id}/`}\n            style={{\n              height: '150px',\n              backgroundImage: `url(${article.cover_image ||\n                '/img/bg-showcase-4.jpg'})`,\n              backgroundSize: 'cover',\n            }}\n          />\n          <div className=\"card-body d-flex flex-column\">\n            <h4 style={{ lineHeight: '150%' }}>\n              <a href={`/${article.url_id || article.file_id}/`}>\n                {article.title}\n              </a>\n            </h4>\n            <div className=\"text-muted\" style={{ fontSize: '12px' }}>\n              {article.description}\n            </div>\n          </div>\n          <div className=\"table-responsive\">\n            <table\n              className=\"table card-table table-sm table-striped table-vcenter\"\n              style={{ borderTop: '1px solid #dee2e6' }}\n            >\n              <tbody>{magazine_articles}</tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n    return html\n  }\n  drawArticle(article) {\n    let last_tip = article.last_tip || 0\n    let tip = article.tip || 0\n    for (let v of this.state.tip_history || []) {\n      if (\n        v.article.article_id === article.article_id &&\n        last_tip < v.date &&\n        this.state.magazine_id === (v.magazine_id || 'admin')\n      ) {\n        tip += v.amount\n      }\n    }\n    tip = Math.round(tip * 10) / 10\n    let html = (\n      <div className=\"col-md-6 col-xl-4\">\n        <div className=\"card\">\n          <a\n            target=\"_blank\"\n            href={`https://alis.to/${article.user_id}/articles/${\n              article.article_id\n            }/`}\n            style={{\n              height: '150px',\n              backgroundImage: `url(${article.eye_catch_url})`,\n              backgroundSize: 'cover',\n            }}\n          />\n          <div className=\"card-body d-flex flex-column\">\n            <h4 style={{ lineHeight: '150%' }}>\n              <a\n                target=\"_blank\"\n                href={`https://alis.to/${article.user_id}/articles/${\n                  article.article_id\n                }/`}\n              >\n                {article.title}\n              </a>\n            </h4>\n            <div className=\"text-muted\" style={{ fontSize: '12px' }}>\n              {article.overview}\n              ...\n            </div>\n            <div className=\"d-flex align-items-center pt-5 mt-auto\">\n              <div\n                className=\"avatar avatar-md mr-3\"\n                style={{ backgroundImage: `url(${article.icon_image_url})` }}\n              />\n              <div>\n                <a\n                  target=\"_blank\"\n                  href={`https://alis.to/users/${article.user_id}`}\n                  className=\"text-default\"\n                >\n                  {article.user_display_name}\n                </a>\n                <small className=\"d-block text-muted\">\n                  {moment(article.published_at * 1000).format('YYYY MM/DD')}\n                </small>\n              </div>\n              <div className=\"ml-auto text-danger\">\n                <a\n                  onClick={() => {\n                    this.tip(article)\n                  }}\n                  className=\"icon d-inline-block ml-3\"\n                  style={{ fontSize: '20px' }}\n                >\n                  <i className=\"fa fa-donate mr-1\" />{' '}\n                  <b className=\"text-primary\">{tip}</b>{' '}\n                  <span style={{ fontSize: '12px' }}>AHT</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n    return html\n  }\n\n  render_dashboard_articles() {\n    let pages_html\n    let pages = []\n    for (let p = 1; p <= Math.ceil(this.state.len / 6); p++) {\n      let active = ''\n      if (this.state.page === p) {\n        pages.push(\n          <li className={`page-item active`} style={{ cursor: 'default' }}>\n            <span className=\"page-link\" style={{ cursor: 'default' }}>\n              {p}\n            </span>\n          </li>\n        )\n      } else {\n        pages.push(\n          <li className={`page-item`}>\n            <a className=\"page-link\" href={`/?page=${p}`}>\n              {p}\n            </a>\n          </li>\n        )\n      }\n    }\n    pages_html = (\n      <div className=\"pt-2 text-center\">\n        <div className=\"d-inline-block\">\n          <ul className=\"pagination\">{pages}</ul>\n        </div>\n      </div>\n    )\n\n    let articles_html = []\n    for (let article of this.state.magazine_articles) {\n      if (this.state.magazine_id === 'top') {\n        articles_html.push(this.drawMagazine(article))\n      } else {\n        articles_html.push(this.drawArticle(article))\n      }\n    }\n    return (\n      <div>\n        <h1\n          className=\"page-title\"\n          style={{\n            textAlign: 'center',\n            fontFamily: `'Rounded Mplus 1c', 'Montserrat', 'Helvetica Neue', Helvetica, Arial, sans-serif`,\n          }}\n        >\n          {this.getMagazineTitle(true)}\n        </h1>\n        {this.getMagazineDescription()}\n        <div className=\"row row-cards row-deck\">{articles_html}</div>\n        {pages_html}\n      </div>\n    )\n  }\n}\n\nexport default Magazine\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","module.exports = __webpack_public_path__ + \"static/404-fcdd980d4bec9f5e4f577268926c400b.jpg\";","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React, { Component } from 'react'\nimport Helmet from 'react-helmet'\nimport image_404 from '../assets/images/404.jpg'\n\nclass COMMON_HELMET extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let site_title = 'ALISハッカー部'\n    let subdomain = ''\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      site_title = 'AHT TESTNET'\n      subdomain = 'testnet.'\n    }\n\n    let metas = []\n    let title = this.props.title || `404ページ | ${site_title}`\n    let desc = this.props.desc\n    if (desc == undefined && desc != '') {\n      desc =\n        '史上初！マミぃさんに300AHTお支払いで描いていただいたハッカー部のイラストです。'\n    }\n    let image =\n      this.props.image || `https://${subdomain}alishackers.club${image_404}`\n    metas.push({ name: 'twitter:card', content: 'summary_large_image' })\n    metas.push({ name: 'twitter:site', content: '@alishackers' })\n    metas.push({\n      name: 'twitter:image',\n      content: image,\n    })\n    metas.push({ name: 'twitter:description', content: desc })\n    metas.push({ name: 'twitter:title', content: title })\n    metas.push({ name: 'og:title', content: title })\n    metas.push({\n      name: 'og:image',\n      content: image,\n    })\n    metas.push({ name: 'og:description', content: desc })\n    metas.push({ name: 'description', content: desc })\n    metas.push({\n      name: 'keywords',\n      content:\n        'ALIS, ALISハッカー部, ハッカー部, ALIS HackerToken, 独自経済圏, トークンエコノミー, 暗号通貨, cryptocurrency, ハッカー部トークン, WAVES, 仮想通貨',\n    })\n    let links = []\n    if (this.props.links != undefined) {\n      for (let link of this.props.links) {\n        links.push({\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: link,\n        })\n      }\n    } else {\n      links = [\n        {\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: '/tabler/css/tabler.min.css',\n        },\n        {\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: '/css/common.css',\n        },\n      ]\n    }\n    return <Helmet title={title} link={links} meta={metas} />\n  }\n}\n\nexport default COMMON_HELMET\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <div>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            {\n              name: 'description',\n              content: '法定通貨に依存しない完全独自経済圏',\n            },\n            { name: 'keywords', content: 'ALIS Hacker Token, ALISハッカー部' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        {children}\n      </div>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React, { Component } from 'react'\n\nclass Footer extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let link_items = []\n    let items = this.props.items || [\n      { key: 'twitter', href: 'https://twitter.com/alishackers' },\n      { key: 'github', href: 'https://github.com/alisista' },\n      { key: 'discord', href: 'https://discord.gg/TyKbbrT' },\n    ]\n\n    for (let v of items) {\n      link_items.push(\n        <li className=\"list-inline-item\">\n          <a href={v.href} target=\"_blank\">\n            <i className={`fab fa-${v.key}`} />\n          </a>\n        </li>\n      )\n    }\n    return (\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-4\">\n              <span className=\"copyright\">\n                Copyright &copy; ALISハッカー部 2018\n              </span>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline social-buttons\">{link_items}</ul>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline quicklinks\" />\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import React, { Component } from 'react'\n\nclass Header_Home extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let site_title = this.props.title || \"ALIS Hacker's Club\"\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      site_title = this.props.title || 'AHT TESTNET'\n    }\n    let user\n    let login_btn\n    if (this.props.user != undefined) {\n      let aht = 0\n      let hold = 0\n      if (\n        this.props.serverInfo != undefined &&\n        this.props.serverInfo.amount != undefined &&\n        this.props.serverInfo.amount.aht != undefined\n      ) {\n        const AHT = this.props.serverInfo.amount.aht\n        const divider = 10000000000\n        aht = `${AHT.earned}`\n        let earned = AHT.earned + (AHT.tipped || 0)\n        let paid = AHT.paid + (AHT.tip || 0)\n        hold = Math.round((earned - paid) * divider) / divider\n        let payment = this.props.payment || []\n        if (payment[0] != undefined && payment[0].status == 'requested') {\n          hold -= payment[0].amount\n        }\n      }\n\n      const divider = 100000000\n      hold = Math.round(hold * divider) / divider\n      aht = Math.round(aht * divider) / divider\n      if (this.props.user != undefined && this.props.user.linkTo == undefined) {\n        user = (\n          <a\n            href=\"#\"\n            className=\"nav-link pr-0 leading-none\"\n            data-toggle=\"dropdown\"\n          >\n            <span\n              className=\"avatar\"\n              style={{\n                backgroundImage: `url(${this.props.user.photoURL})`,\n              }}\n            />\n            <span className=\"ml-2 d-none d-lg-block\">\n              <span className=\"text-default\">\n                {this.props.user.displayName}\n              </span>\n              <small className=\"text-muted d-block mt-1\">\n                {this.props.user.overrideText ||\n                  `${hold} AHT 保 / ${aht} AHT 獲`}\n              </small>\n            </span>\n          </a>\n        )\n      } else if (\n        this.props.user != undefined &&\n        this.props.user.linkTo != undefined\n      ) {\n        user = (\n          <a\n            href={this.props.user.linkTo}\n            target=\"_blank\"\n            className=\"nav-link pr-0 leading-none\"\n          >\n            <span\n              className=\"avatar\"\n              style={{\n                backgroundImage: `url(${this.props.user.photoURL})`,\n              }}\n            />\n            <span className=\"ml-2 d-none d-sm-block\">\n              <span className=\"text-default\">\n                {this.props.user.displayName}\n              </span>\n              <small className=\"text-muted d-block mt-1\">\n                {this.props.user.overrideText || `${aht} AHT`}\n              </small>\n            </span>\n          </a>\n        )\n      }\n    } else {\n      login_btn = (\n        <div className=\"nav-item d-none d-md-flex\">\n          <span\n            onClick={() => {\n              this.props.auth.login(true)\n            }}\n            className=\"btn btn-sm btn-outline-primary\"\n          >\n            ログイン\n          </span>\n        </div>\n      )\n    }\n    let links = []\n    for (let v of this.props.links || []) {\n      links.push(\n        <div className=\"nav-item d-none d-md-flex\">\n          <a href={v.href} className=\"btn btn-sm btn-outline-primary\">\n            {v.name}\n          </a>\n        </div>\n      )\n    }\n    links.push(login_btn)\n    let user_dropdown\n    if (this.props.user != undefined && this.props.user.linkTo == undefined) {\n      user_dropdown = (\n        <div className=\"dropdown\">\n          {user}\n          <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n            <a\n              className=\"dropdown-item\"\n              onClick={() => {\n                this.props.auth.logout()\n              }}\n            >\n              <i className=\"dropdown-icon fe fe-log-out\" /> ログアウト\n            </a>\n          </div>\n        </div>\n      )\n    } else if (\n      this.props.user != undefined &&\n      this.props.user.linkTo != undefined\n    ) {\n      user_dropdown = <a href={this.props.user.linkTo}>{user}</a>\n    }\n    let collapse\n    if (this.props.noSubHeader !== true) {\n      collapse = (\n        <a\n          href=\"#\"\n          className=\"header-toggler d-lg-none ml-3 ml-lg-0\"\n          data-toggle=\"collapse\"\n          data-target=\"#headerMenuCollapse\"\n        >\n          <span className=\"header-toggler-icon\" />\n        </a>\n      )\n    }\n    return (\n      <div className=\"page\">\n        <div className=\"flax-fill\">\n          <div className=\"header py-4\">\n            <div className=\"container\">\n              <div className=\"d-flex\">\n                <a className=\"header-brand\" href=\"/\">\n                  {this.props.title || site_title}\n                </a>\n                <div className=\"d-flex order-lg-2 ml-auto\">\n                  {links}\n                  {user_dropdown}\n                </div>\n                {collapse}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Header_Home\n","module.exports = __webpack_public_path__ + \"static/alis_hackers-b0f73db538e1af4c194f9fc10871687e.png\";","module.exports = __webpack_public_path__ + \"static/profile_cover-2c8f78baa8613f34088e1bad44b61288.jpg\";"],"sourceRoot":""}