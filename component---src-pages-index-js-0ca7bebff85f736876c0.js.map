{"version":3,"sources":["webpack:///./src/components/component_promise.js","webpack:///./src/components/modal.js","webpack:///./src/components/loading.js","webpack:///./src/components/subheader.js","webpack:///./src/components/post_magazine.js","webpack:///./src/components/issue_magazine.js","webpack:///./src/components/alert.js","webpack:///./src/lib/auth.js","webpack:///./src/lib/alerts.js","webpack:///./src/pages/index.js","webpack:///./.cache/public-page-renderer.js","webpack:///./src/assets/images/404.jpg","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./src/components/helmet.js","webpack:///./src/components/layout.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/footer.js","webpack:///./src/components/header_home.js","webpack:///./src/assets/images/alis_hackers.png","webpack:///./src/assets/images/profile_cover.jpg"],"names":["component_promise","ComponentP","props","_this","_Component","call","this","params","location","href","url_default","a","parse","query","set","state","Promise","res","_this2","setState","getJSOND","file_id","file_name","window","$","getJSON","json","react","Component","v","g","b","n","E","_","y","x","components_modal","Modal","modal","render","btn_exec","exec","react_default","createElement","id","type","className","exec_color","onClick","hasClass","exec_text","tabIndex","role","aria-labelledby","aria-hidden","title","data-dismiss","aria-label","style","wordBreak","body","cancel_text","loading","Loading","message","no_message","width","fontSize","subtitle","btn_link","btn_text","t","N","components_subheader","Subheader","items_html","_loop","_isArray","_i","_iterator","length","_ref","next","done","value","icon","fa_type","active","pathname","toLowerCase","name","key","component","tab","func","push","items","Array","isArray","Symbol","iterator","moment_timezone_default","locale","post_magazine","Post_Magazine","unpublishArticle","article","showModal","auth","magazine_id","publishArticle","more_btn","_this3","nomore_articles","borderRadius","listArticles","articles_page","articles_html","articles","console","log","uploadButton","userArticles","article_id","user_id","target","published_at","format","alis_token","magazineArticles","M","S","issue_magazine","Articles","issueMagazine","is_edit","editors","val","description","match","magazine","owner","user","uid","shortid_default","deleteMagazine","delete_btn","action_word","magazines_html","cursor","created_at","underscore_default","userMagazines","sortBy","original_title","original_description","magazine_editors","me","anyone","magazine_title","magazine_description","onChange","e","placeholder","rows","checked","components_alert","Alert","alert_html","forEach","i","alerts","dissmissAlert","text","C","H","U","R","__webpack_require__","modals","error_exists","error_account_removal","error_general","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","timestampsInSnapshots","index_cjs_default","initializeApp","Auth","opts","WavesAPI","network","MAINNET_CONFIG","TESTNET_CONFIG","Waves","create","db","firestore","provider","TwitterAuthProvider","provider_github","GithubAuthProvider","useDeviceLanguage","onAuthStateChanged","setUser","twitter_user","getUserInfo","redirect","isUser","prototype","searchTweeple","cb","err","collection","doc","get","then","ss","catch","setData","pushAlert","merge","updateData","toString","update","confirmMission","mission_id","_this4","userInfo","missions","tasks","confirmed","Date","now","isError","mission","social","social_links","task_id","serverInfo","mission_confirmed","date","confirmation_id","setUserInfo","completeTask","_this5","data","getServerInfo","getUserTip","getUserHistory","getUserPayment","getUserArticles","getUserMagazines","oauth","validateWavesAddress","adminPayment","getAdminPayment","adminReport","getAdminReport","_this6","_this7","history","_this8","tip","tip_history","LastEvaluatedKey","_this9","post","alis","error","concat","newstate","getUserMagazineArticles","_this10","_this11","magazines","_this12","genRandomValue","random_value","JSON","stringify","mid","_this13","amount","_this14","_this15","_this16","where","admin_history","_this17","reports","report","twitter","_this18","payment","authenticateAlisUser","token","_this19","retry","_this20","revoke","join","k","includes","metadata","creationTime","displayName","photoURL","providerData","providerId","makePayment","to","what_for","_this21","twitter_id","link_discord","_this22","oauth_url","encodeURIComponent","link_github","_this23","currentUser","linkWithPopup","result","registerPayment","address","_this24","transaction","status","transaction_pool","unshift","getAllCandidates","_this25","candidates","obj","allCandidates","chooseCandidate","screen_name","search_component","_iterator2","_isArray2","_i2","_ref2","existsTweeple","limit","exists","addCandidate","alis_user","_this$db$collection$d","_this26","$profile","getCandidates","accounts","reportError","_this27","doc_id","id_str","unlink_github","_this28","unlink","getMagazine","_this29","_this30","_ref3","asyncToGenerator_default","regenerator_default","mark","_callee","wrap","_context","prev","deleted","updated","stop","_x","apply","arguments","_this31","_ref4","_callee2","_context2","_x2","unlink_discord","_this32","fetch","method","unlink_alis","_this33","login","signInWithPopup","alert","logout","signOut","popup_url","redirectedUrl","parsedUrl","signedData","d","s","publicKey","p","_signedData$split","split","crypto","isValidAddress","addWavesAddress","publickKey","added_at","setAsReceiver","_this34","waves_addresses","receiver","checkAddressInPool","_this35","_this36","isEmpty","addAddressToPool","field","_this$updateData","_this37","removeAddressFromPool","delete","_this38","uuid","v4_default","removeWavesAddress","_this39","lib_alerts","Alerts","splice","pages_Magazine","Magazine","_ComponentP","page","pageContext","assertThisInitialized_default","is_editor","is_admin","getMagazines","map","maps","magazine_articles","len","noMagazine","t0","getMagazine_Articles","checkMagazine","componentDidMount","setTimeout","componentDidUpdate","tooltip","boundary","placement","getMagazineTitle","is_html","img","src","alis_hackers_default","marginRight","height","marginBottom","getMagazineDescription","no_html","loadArticles","header_title","render_dashboard","subheader","nav_links_sub","card_image","subdomain","cover_image","profile_cover_default","layout","helmet","desc","image","header_home","links","footer","increaseTipAmount","Math","round","getCurrentAHT","currentAHT","afterAHT","removeClass","addClass","resetTipAmount","aht","earned","tipped","paid","tips","tips_html","exec_tip","render_dashboard_articles","render_dashboard_post","render_dashboard_settings","drawMagazine","backgroundImage","icon_image_url","backgroundSize","lineHeight","borderTop","drawArticle","last_tip","_i3","eye_catch_url","overview","user_display_name","pages_html","pages","ceil","_iterator3","_isArray3","_i4","textAlign","fontFamily","__webpack_exports__","default","B","156","m","module","exports","162","r","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","withPrefix","navigate","replace","navigateTo","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","children","Error","propTypes","object","string","isRequired","COMMON_HELMET","site_title","metas","_assets_images_404_jpg__WEBPACK_IMPORTED_MODULE_7___default","content","link","rel","react__WEBPACK_IMPORTED_MODULE_5___default","react_helmet__WEBPACK_IMPORTED_MODULE_6___default","meta","react__WEBPACK_IMPORTED_MODULE_5__","u","172","o","c","l","Layout","react__WEBPACK_IMPORTED_MODULE_1___default","gatsby__WEBPACK_IMPORTED_MODULE_4__","react_helmet__WEBPACK_IMPORTED_MODULE_3___default","site","siteMetadata","lang","_public_static_d_755544856_json__WEBPACK_IMPORTED_MODULE_0__","prop_types__WEBPACK_IMPORTED_MODULE_2___default","node","173","174","_page_renderer__WEBPACK_IMPORTED_MODULE_2__","_loader__WEBPACK_IMPORTED_MODULE_3__","ProdPageRenderer","pageResources","getResourcesForPathname","shape","175","Footer","link_items","176","Header_Home","hold","AHT","linkTo","react__WEBPACK_IMPORTED_MODULE_6___default","data-toggle","overrideText","user_dropdown","collapse","noSubHeader","data-target","react__WEBPACK_IMPORTED_MODULE_6__","238","239"],"mappings":"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","file":"component---src-pages-index-js-0ca7bebff85f736876c0.js","sourcesContent":["import React, { Component } from 'react'\nimport url from 'url'\nclass ComponentP extends Component {\n  constructor(props) {\n    super(props)\n    this.params = {}\n    if (props.location.href != undefined) {\n      this.params = (\n        url.parse(props.location.href, true) || { query: {} }\n      ).query\n    }\n  }\n  async set(state) {\n    return await new Promise(res => {\n      this.setState(state, res)\n    })\n  }\n  async getJSOND(file_id, file_name) {\n    return new Promise(res => {\n      window.$.getJSON(\n        `https://dl.dropboxusercontent.com/s/${file_id}/${file_name}.json`,\n        json => {\n          res(json)\n        }\n      )\n    })\n  }\n}\n\nexport default ComponentP\n","import React, { Component } from 'react'\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: {},\n    }\n  }\n  render() {\n    let modal = this.props.modal\n    let btn_exec\n    if (this.props.modal.exec != undefined) {\n      btn_exec = (\n        <button\n          id=\"modal_exec_btn\"\n          type=\"button\"\n          className={`btn btn-${this.props.modal.exec_color || 'danger'}`}\n          onClick={() => {\n            if (!window.$('#modal_exec_btn').hasClass('btn-gray') === true) {\n              window.$('#pageModal').modal('hide')\n\n              this.props.modal.exec()\n            }\n          }}\n        >\n          {this.props.modal.exec_text || '実行'}\n        </button>\n      )\n    }\n    return (\n      <div\n        className=\"modal fade\"\n        id=\"pageModal\"\n        tabIndex=\"-1\"\n        role=\"dialog\"\n        aria-labelledby=\"exampleModalLabel\"\n        aria-hidden=\"true\"\n      >\n        <div className=\"modal-dialog modal-dialog-centered\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"modal-header\">\n              <h5 className=\"modal-title\" id=\"exampleModalLabel\">\n                {modal.title}\n              </h5>\n              <button\n                type=\"button\"\n                className=\"close\"\n                data-dismiss=\"modal\"\n                aria-label=\"Close\"\n              />\n            </div>\n            <div className=\"modal-body\" style={{ wordBreak: 'break-all' }}>\n              {modal.body}\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                data-dismiss=\"modal\"\n              >\n                {modal.cancel_text || '取り消し'}\n              </button>\n              {btn_exec}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Modal\n","import React, { Component } from 'react'\n\nclass Loading extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let message = (\n      <p className=\"h4 text-muted font-weight-normal mb-6\">\n        {this.props.message ||\n          `法定通貨に依存しない完全独自経済圏で好きなことを追求して生きていこう！`}\n      </p>\n    )\n    if (this.props.no_message) {\n      message = null\n    }\n    return (\n      <div className=\"page\" style={{ width: '100%' }}>\n        <div className=\"page-content\">\n          <div className=\"container text-center\">\n            <div\n              className=\"display-1 text-muted mb-5\"\n              style={{ fontSize: '40px' }}\n            >\n              <i className=\"si si-exclamation\" />{' '}\n              {this.props.title || `データ取得中`}\n            </div>\n\n            <h1 className=\"h2 mb-4\">\n              {this.props.subtitle || `少々お待ち下さい...`}\n            </h1>\n            {message}\n            <a className=\"btn btn-primary\" href={this.props.btn_link || `/`}>\n              <i className=\"fe fe-arrow-left mr-2\" />\n              {this.props.btn_text || `トップページへ戻る`}\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Loading\n","import React, { Component } from 'react'\n\nclass Subheader extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let items_html = []\n    for (let v of this.props.items) {\n      let icon\n      if (v.icon != undefined) {\n        icon = <i className={`mr-2 ${v.fa_type || 'fa'} fa-${v.icon}`} />\n      }\n      let a\n      if (v.href != undefined) {\n        let active = ''\n        let pathname = this.props.location.pathname.toLowerCase()\n        if (v.active || pathname === v.href) {\n          active = 'active'\n        }\n        let href = v.href\n        a = (\n          <a href={href} className={`nav-link ${active}`}>\n            {icon}\n            {v.name}\n          </a>\n        )\n      } else {\n        let active = ''\n        if (v.key === this.props.component.state.tab) {\n          active = 'active'\n        }\n        a = (\n          <a\n            onClick={() => {\n              this.props.component.setState({ tab: v.key }, () => {\n                if (v.func != undefined) {\n                  v.func()\n                }\n              })\n            }}\n            className={`nav-link ${active}`}\n          >\n            {icon}\n            {v.name}\n          </a>\n        )\n      }\n      items_html.push(\n        <li className=\"nav-item\" key={`topic-${v.key || 'all'}`}>\n          {a}\n        </li>\n      )\n    }\n    return (\n      <div className=\"header collapse d-lg-flex p-0\" id=\"headerMenuCollapse\">\n        <div className=\"container\">\n          <div className=\"row align-items-center\">\n            <div className=\"col-lg order-lg-first\">\n              <ul className=\"nav nav-tabs border-0 flex-column flex-lg-row\">\n                {items_html}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Subheader\n","import React, { Component } from 'react'\nimport url from 'url'\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\nmoment.locale('ja')\n\nclass Post_Magazine extends Component {\n  constructor(props) {\n    super(props)\n  }\n  unpublishArticle(article) {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" />{' '}\n          取り下げ確認！\n        </div>\n      ),\n      body: (\n        <p>\n          本当に\n          <span className=\"text-capitalize\">『{article.title}』</span>\n          を取り下げてよろしいですか？\n        </p>\n      ),\n      cancel_text: 'キャンセル',\n      exec_text: '実行',\n      exec: () => {\n        this.props.auth.unpublishArticle(article, this.props.magazine_id)\n      },\n    })\n  }\n  publishArticle(article) {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" /> 投稿確認！\n        </div>\n      ),\n      body: (\n        <p>\n          本当に\n          <span className=\"text-capitalize\">『{article.title}』</span>\n          を投稿してよろしいですか？\n        </p>\n      ),\n      cancel_text: 'キャンセル',\n      exec_text: '実行',\n      exec: () => {\n        this.props.auth.publishArticle(article, this.props.magazine_id)\n      },\n    })\n  }\n  render() {\n    let more_btn\n    if (this.props.nomore_articles != true) {\n      more_btn = (\n        <button\n          style={{ borderRadius: 0 }}\n          className=\"btn btn-primary\"\n          onClick={() => {\n            this.props.auth.listArticles(this.props.articles_page)\n          }}\n        >\n          さらに読み込み\n        </button>\n      )\n    }\n    let articles_html = []\n    let articles = []\n    console.log(this.props)\n    for (let article of this.props.magazineArticles || []) {\n      let uploadButton\n      if (\n        this.props.userArticles != undefined &&\n        this.props.userArticles[article.article_id] != undefined &&\n        this.props.userArticles[article.article_id][this.props.magazine_id] !=\n          undefined\n      ) {\n        uploadButton = (\n          <button\n            className=\"btn btn-danger\"\n            onClick={() => {\n              this.unpublishArticle(article)\n            }}\n          >\n            却下\n          </button>\n        )\n      } else {\n        uploadButton = (\n          <button\n            className=\"btn btn-success\"\n            onClick={() => {\n              this.publishArticle(article)\n            }}\n          >\n            投稿\n          </button>\n        )\n      }\n      articles.push(\n        <tr>\n          <td>\n            <div>\n              <a\n                href={`https://alis.to/${article.user_id}/articles/${\n                  article.article_id\n                }`}\n                target=\"_blank\"\n              >\n                <b>{article.title}</b>\n              </a>\n            </div>\n            <div className=\"text-muted small\">\n              {moment(article.published_at * 1000).format('YYYY MM/DD HH:mm')}\n              <span className=\"ml-6\">\n                <b className=\"text-orange\">{article.alis_token}</b>\n              </span>\n            </div>\n          </td>\n          <td className=\"text-center\">{uploadButton}</td>\n        </tr>\n      )\n      articles_html = [\n        <div className=\"table-responsive\">\n          <table className=\"table card-table table-striped table-vcenter\">\n            <thead>\n              <th>ALIS記事</th>\n              <th className=\"text-center\" />\n            </thead>\n            <tbody>{articles}</tbody>\n          </table>\n        </div>,\n        more_btn,\n      ]\n    }\n\n    return articles_html\n  }\n}\n\nexport default Post_Magazine\n","import React, { Component } from 'react'\nimport url from 'url'\nimport _ from 'underscore'\n\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport shortid from 'shortid'\n\nmoment.locale('ja')\n\nclass Articles extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      tab: 'reward',\n    }\n  }\n  issueMagazine(is_edit) {\n    let editors = window.$('[name=\"editors\"]:checked').val()\n    let title = window.$('#magazine_title').val()\n    let description = window.$('#magazine_description').val()\n    if (editors == undefined) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            編集者未選択！\n          </div>\n        ),\n        body: <p>共同編集者を選択してください。</p>,\n        cancel_text: '確認',\n      })\n    } else if (title.match(/^\\s*$/) !== null) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            タイトル未入力\n          </div>\n        ),\n        body: <p>マガジンのタイトルを入力してください。</p>,\n        cancel_text: '確認',\n      })\n    } else if (title.length > 50) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            タイトルが長すぎます\n          </div>\n        ),\n        body: <p>マガジンのタイトルは50文字以内で入力してください。</p>,\n        cancel_text: '確認',\n      })\n    } else if (description != undefined && description.length > 200) {\n      this.props.showModal({\n        title: (\n          <div>\n            <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n            説明文が長すぎます\n          </div>\n        ),\n        body: <p>マガジンの概要は200文字以内で入力してください。</p>,\n        cancel_text: '確認',\n      })\n    } else {\n      let magazine = {\n        is_edit: is_edit,\n        title: title,\n        editors: editors,\n        owner: this.props.user.uid,\n      }\n      if (description.match(/^\\s*$/) === null) {\n        magazine.description = description\n      }\n      if (is_edit) {\n        magazine.id = this.props.magazine.id\n        magazine.file_id = this.props.magazine_id\n      } else {\n        magazine.id = shortid()\n        window.$('#magazine_title').val('')\n        window.$('#magazine_description').val('')\n      }\n      this.props.auth.issueMagazine(magazine)\n    }\n  }\n  deleteMagazine() {\n    this.props.showModal({\n      title: (\n        <div>\n          <i className=\"text-danger fas fa-exclamation-triangle\" />{' '}\n          マガジン削除確認\n        </div>\n      ),\n      body: (\n        <p>\n          『<b className=\"text-danger\">{this.props.magazine.title}</b>』\n          を本当に削除してよろしいですか？\n        </p>\n      ),\n      exec_text: '実行',\n      exec: () => {\n        this.props.auth.deleteMagazine(this.props.magazine)\n      },\n    })\n  }\n  render() {\n    let action_word = '発刊'\n    let delete_btn\n    if (this.props.magazine != undefined) {\n      action_word = '保存'\n      delete_btn = (\n        <a\n          onClick={() => {\n            this.deleteMagazine()\n          }}\n          className=\"btn btn-red btn-sm text-white ml-5\"\n        >\n          削除\n        </a>\n      )\n    }\n    let magazines = _(this.props.userMagazines || []).sortBy(v => {\n      return (v.created_at || 0) * -1\n    })\n    let magazines_html = []\n    for (let v of magazines) {\n      magazines_html.push(\n        <tr\n          key={v.id}\n          style={{ cursor: 'pointer' }}\n          onClick={() => {\n            window.location.href = `/magazines/?id=${v.file_id}`\n          }}\n        >\n          <td>\n            <div>\n              <b>{v.title}</b>\n            </div>\n            <div className=\"small text-muted\">\n              {moment(v.created_at).format('MM/DD 発刊')}\n            </div>\n          </td>\n          <td>\n            <div className=\"small\">{v.description || ''}</div>\n          </td>\n        </tr>\n      )\n    }\n    let original_title = ''\n    let original_description = ''\n    let magazine_editors = {\n      me: '',\n      anyone: '',\n    }\n    if (this.props.magazine != undefined) {\n      original_title = this.state.magazine_title || this.props.magazine.title\n      original_description =\n        this.state.magazine_description || this.props.magazine.description\n      magazine_editors[\n        this.state.magazine_editors || this.props.magazine.editors\n      ] = 'checked'\n    } else {\n      original_title = this.state.magazine_title\n      original_description = this.state.magazine_description\n      magazine_editors[this.state.magazine_editors] = 'checked'\n    }\n    return (\n      <div className=\"card\">\n        <div className=\"card-header\">\n          <h3 className=\"card-title\">\n            <span className=\"stamp stamp-sm bg-green mr-3\">\n              <i className=\"fa fa-book\" />\n            </span>\n            共同マガジン\n            {action_word}\n          </h3>\n          <div className=\"card-options\">\n            <a\n              onClick={() => {\n                this.issueMagazine(this.props.magazine != undefined)\n              }}\n              className=\"btn btn-green btn-sm text-white\"\n            >\n              {action_word}\n            </a>\n            {delete_btn}\n          </div>\n        </div>\n        <div className=\"card-body\">\n          <div className=\"form-group\">\n            <label className=\"form-label\">マガジン名</label>\n            <input\n              onChange={e => {\n                this.setState({ magazine_title: e.target.value })\n              }}\n              value={original_title}\n              id=\"magazine_title\"\n              type=\"text\"\n              className=\"form-control\"\n              name=\"example-text-input\"\n              placeholder=\"マガジン名\"\n            />\n            <div className=\"form-group mt-3\">\n              <label className=\"form-label\">マガジン概要（省略可）</label>\n              <textarea\n                id=\"magazine_description\"\n                className=\"form-control\"\n                name=\"example-textarea-input\"\n                rows=\"2\"\n                placeholder=\"マガジン概要\"\n                onChange={e => {\n                  this.setState({ description: e.target.value })\n                }}\n              >\n                {original_description}\n              </textarea>\n            </div>\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                共同編集者（後で個別追加・変更可能）\n              </label>\n              <div className=\"selectgroup w-100\">\n                <label className=\"selectgroup-item\">\n                  <input\n                    onClick={() => {\n                      this.setState({ magazine_editors: 'me' })\n                    }}\n                    checked={magazine_editors.me}\n                    type=\"radio\"\n                    name=\"editors\"\n                    value=\"me\"\n                    className=\"selectgroup-input\"\n                  />\n                  <span className=\"selectgroup-button\">自分のみ</span>\n                </label>\n                <label className=\"selectgroup-item\">\n                  <input\n                    onClick={() => {\n                      this.setState({ magazine_editors: 'anyone' })\n                    }}\n                    checked={magazine_editors.anyone}\n                    type=\"radio\"\n                    name=\"editors\"\n                    value=\"anyone\"\n                    className=\"selectgroup-input\"\n                  />\n                  <span className=\"selectgroup-button\">誰でも</span>\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Articles\n","import React, { Component } from 'react'\n\nclass Alert extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let alerts = this.props.items || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.props.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n\n    return <div className=\"row\">{alert_html}</div>\n  }\n}\n\nexport default Alert\n","import React, { Component } from 'react'\nimport firebase from 'firebase'\nimport uuidv4 from 'uuid/v4'\nimport url from 'url'\nimport _ from 'underscore'\nlet prefix = process.env.FIREBASE_PROJECT_NAME\n\n// firestore\nrequire('firebase/firestore')\nconst modals = {\n  error_exists: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n      </div>\n    ),\n    body: 'そのアカウントは既に他のユーザーに使われています。',\n    cancel_text: '確認',\n  },\n  error_account_removal: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> エラー！\n      </div>\n    ),\n    body:\n      'アカウント取り消しに失敗しました。時間を置いてもう一度お試し下さい。',\n    cancel_text: '確認',\n  },\n  error_general: {\n    title: (\n      <div>\n        <i className=\"text-danger fas fa-ban\" /> エラーが発生しました！\n      </div>\n    ),\n    body: '時間を置いてからもう一度申請して下さい。',\n    cancel_text: '確認',\n  },\n}\nconst config = {\n  apiKey: process.env.FIREBASE_API_KEY,\n  authDomain: `${process.env.FIREBASE_PROJECT_ID}.firebaseapp.com`,\n  databaseURL: `https://${process.env.FIREBASE_DATABASE_NAME}.firebaseio.com`,\n  projectId: process.env.FIREBASE_PROJECT_ID,\n  storageBucket: `${process.env.FIREBASE_BUCKET}.appspot.com`,\n  messagingSenderId: process.env.FIREBASE_SENDER_ID,\n  timestampsInSnapshots: true,\n}\nfirebase.initializeApp(config)\nconsole.log(config)\nclass Auth {\n  constructor(component, opts = {}) {\n    this.opts = opts\n    this.component = component\n    if (typeof window !== 'undefined') {\n      const WavesAPI = require('@waves/waves-api')\n      let network = WavesAPI.MAINNET_CONFIG\n      if (process.env.WAVES_NETWORK === 'TESTNET') {\n        network = WavesAPI.TESTNET_CONFIG\n      }\n      this.Waves = WavesAPI.create(network)\n      this.db = firebase.firestore()\n      this.provider = new firebase.auth.TwitterAuthProvider()\n      this.provider_github = new firebase.auth.GithubAuthProvider()\n      firebase.auth().useDeviceLanguage()\n      firebase.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.setUser(user, twitter_user => {\n            this.getUserInfo(twitter_user)\n          })\n        } else {\n          if (this.opts.redirect === true) {\n            window.location.href = '/'\n          } else {\n            this.component.setState({ user: null, isUser: false })\n          }\n        }\n      })\n    }\n  }\n  searchTweeple(user_id, cb, err) {\n    this.db\n      .collection('tweeple')\n      .doc(user_id)\n      .get()\n      .then(ss => {\n        cb(ss)\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  // users\n  setData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      }\n    }\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .set(value, { merge: true })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  updateData(value, cb, err) {\n    if (err == undefined) {\n      err = e => {\n        console.log(e)\n        if (e.toString().match(/no document to update/i) !== null) {\n          this.setData(value, cb, err)\n        } else {\n          this.component.alerts.pushAlert(\n            `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n          )\n        }\n      }\n    }\n\n    this.db\n      .collection('users')\n      .doc(this.component.state.user.uid)\n      .update(value)\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        err(e)\n      })\n  }\n  confirmMission(mission_id) {\n    let userInfo = this.component.state.userInfo || {}\n    if (userInfo.missions == undefined) {\n      userInfo.missions = {}\n    }\n    if (userInfo.missions[mission_id] == undefined) {\n      userInfo.missions[mission_id] = { tasks: {} }\n    }\n    if (userInfo.missions[mission_id].confirmed == undefined) {\n      userInfo.missions[mission_id].confirmed = Date.now()\n    }\n    let tasks = []\n    let isError = false\n    for (let v of this.component.mission.tasks) {\n      if (v.social != undefined) {\n        if (\n          (this.component.state.social_links || {})[`${v.social}.com`] !=\n          undefined\n        ) {\n          tasks.push({\n            task_id: v.id,\n            social: v.social,\n            id: this.component.state.social_links[`${v.social}.com`].uid,\n          })\n        } else if (\n          (this.component.state.serverInfo || {})[v.social] != undefined\n        ) {\n          tasks.push({\n            task_id: v.id,\n            social: v.social,\n            id: this.component.state.serverInfo[v.social].id,\n          })\n        } else {\n          isError = true\n        }\n      } else {\n        tasks.push(false)\n      }\n    }\n    if (isError == true) {\n      this.component.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n          </div>\n        ),\n        body: 'エラーが発生しました！時間を置いてもう一度お試し下さい。',\n        cancel_text: '確認',\n      })\n      return\n    }\n    let mission_confirmed = {\n      uid: this.component.state.user.uid,\n      mission_id: 'join',\n      date: Date.now(),\n      tasks: tasks,\n      confirmed: false,\n    }\n    let confirmation_id = `join_${mission_confirmed.uid}`\n    this.db\n      .collection('mission_pool')\n      .doc(confirmation_id)\n      .set(mission_confirmed)\n      .then(ss => {\n        this.setUserInfo('missions', userInfo.missions, () => {\n          this.component.showModal({\n            title: (\n              <div>\n                <i className=\"text-success fas fa-check\" /> ミッション確定！\n              </div>\n            ),\n            body:\n              'ミッションを確定しました。２４時間以内に認証されます。しばらくお待ち下さい。',\n            cancel_text: '確認',\n          })\n        })\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-danger fas fa-ban\" /> 認証エラー！\n            </div>\n          ),\n          body: 'エラーが発生しました！時間を置いてもう一度お試し下さい。',\n          cancel_text: '確認',\n        })\n      })\n  }\n  completeTask(mission_id, task_id) {\n    let userInfo = this.component.state.userInfo || {}\n    if (userInfo.missions == undefined) {\n      userInfo.missions = {}\n    }\n    if (userInfo.missions[mission_id] == undefined) {\n      userInfo.missions[mission_id] = { tasks: {} }\n    }\n    userInfo.missions[mission_id].tasks[task_id] = Date.now()\n    this.setUserInfo('missions', userInfo.missions, () => {})\n  }\n\n  getUserInfo(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let userInfo = ss.data() || {}\n        this.component.setState({ userInfo: userInfo }, () => {\n          this.getServerInfo(user)\n          this.getUserTip(user)\n          if (this.opts.magazine !== true) {\n            this.getUserHistory(user)\n            this.getUserPayment(user)\n            this.getUserArticles(user)\n            this.getUserMagazines()\n          }\n          if (this.opts.oauth != undefined) {\n            this.validateWavesAddress(this.opts.oauth)\n          }\n          if (\n            this.component.state.user.id === process.env.ADMIN_TWITTER_ID &&\n            this.opts.adminPayment === true\n          ) {\n            this.getAdminPayment()\n          }\n          if (\n            this.component.state.user.id === process.env.ADMIN_TWITTER_ID &&\n            this.opts.adminReport === true\n          ) {\n            this.getAdminReport()\n          }\n        })\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getServerInfo(user) {\n    this.db\n      .collection('users_server')\n      .doc(user.uid)\n      .get()\n      .then(ss => {\n        let serverInfo = ss.data() || {}\n        this.component.setState({ serverInfo: serverInfo }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserHistory(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('history')\n      .get()\n      .then(ss => {\n        let history = []\n        ss.forEach(doc => {\n          history.push(doc.data())\n        })\n        history = _(history).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ history: history }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserTip(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('tip')\n      .get()\n      .then(ss => {\n        let tip = []\n        ss.forEach(doc => {\n          tip.push(doc.data())\n        })\n        tip = _(tip).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ tip_history: tip }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  listArticles(LastEvaluatedKey) {\n    let uid = this.component.state.user.uid\n    window.$.post(\n      `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/list/articles/${uid}/${\n        this.component.state.serverInfo.alis.user_id\n      }`,\n      { LastEvaluatedKey: LastEvaluatedKey },\n      json => {\n        if (json.error != null) {\n          this.component.showModal(modals.error_general)\n        } else {\n          let magazineArticles = (\n            this.component.state.magazineArticles || []\n          ).concat(json.articles)\n          let newstate = {\n            articles_page: json.LastEvaluatedKey,\n            magazineArticles: magazineArticles,\n          }\n          if (json.articles.length == 0 || json.LastEvaluatedKey == undefined) {\n            newstate.nomore_articles = true\n          }\n          this.component.setState(newstate, () => {\n            if (LastEvaluatedKey == undefined) {\n              this.getUserMagazineArticles()\n            }\n          })\n        }\n      }\n    )\n  }\n  getUserMagazineArticles() {\n    this.db\n      .collection('users_server')\n      .doc(this.component.state.user.uid)\n      .collection('magazine_articles')\n      .get()\n      .then(ss => {\n        let articles = {}\n        ss.forEach(doc => {\n          console.log(doc.data())\n          articles[doc.id] = doc.data()\n        })\n        this.component.setState({ userArticles: articles }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getUserMagazines() {\n    this.db\n      .collection('users_server')\n      .doc(this.component.state.user.uid)\n      .collection('magazines')\n      .get()\n      .then(ss => {\n        let magazines = []\n        ss.forEach(doc => {\n          magazines.push(doc.data())\n        })\n\n        this.component.setState({ userMagazines: magazines }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  publishArticle(article, magazine_id) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/upload/article/`,\n        {\n          random_value: random_value,\n          article: JSON.stringify(article),\n          uid: this.component.state.user.uid,\n          mid: magazine_id,\n        },\n        json => {\n          console.log(json)\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" /> 投稿しました！\n                </div>\n              ),\n              body: `${article.title}をマガジンに投稿しました！`,\n              cancel_text: '確認',\n            })\n            this.getUserMagazineArticles()\n          }\n        }\n      )\n    })\n  }\n  unpublishArticle(article, magazine_id) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/unpublish/article/`,\n        {\n          random_value: random_value,\n          article: JSON.stringify(article),\n          uid: this.component.state.user.uid,\n          mid: magazine_id,\n        },\n        json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            console.log(json)\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" />{' '}\n                  投稿を取り下げしました！\n                </div>\n              ),\n              body: `${article.title}をマガジンから取り下げました！`,\n              cancel_text: '確認',\n            })\n            this.getUserMagazineArticles()\n          }\n        }\n      )\n    })\n  }\n  tip(amount, article, magazine_id) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/tip/`,\n        {\n          random_value: random_value,\n          article: JSON.stringify(article),\n          uid: this.component.state.user.uid,\n          magazine_id: magazine_id,\n          amount: amount,\n        },\n        json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" /> 投げ銭完了！\n                </div>\n              ),\n              body: (\n                <div>\n                  『{article.title}\n                  』に <b className=\"text-primary\">{amount}</b>\n                  AHT投げ銭しました！\n                </div>\n              ),\n              cancel_text: '確認',\n            })\n            this.getServerInfo(this.component.state.user)\n            this.getUserTip(this.component.state.user)\n          }\n        }\n      )\n    })\n  }\n  getUserArticles(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('articles')\n      .get()\n      .then(ss => {\n        let articles = []\n        ss.forEach(doc => {\n          articles.push(doc.data())\n        })\n        articles = _(articles).sortBy(v => {\n          return v.published_at * -1\n        })\n        this.component.setState({ articles: articles }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  getAdminPayment() {\n    this.db\n      .collection('history')\n      .where('payment_from', '==', 'admin')\n      .get()\n      .then(ss => {\n        let history = []\n        ss.forEach(doc => {\n          history.push(doc.data())\n        })\n        history = _(history).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ admin_history: history }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  getAdminReport() {\n    this.db\n      .collection('report')\n      .get()\n      .then(ss => {\n        let reports = {}\n        ss.forEach(doc => {\n          let report = doc.data()\n          reports[report.alis] = report.twitter\n        })\n        this.component.setState({ reports: reports }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n\n  getUserPayment(user) {\n    this.db\n      .collection('users')\n      .doc(user.uid)\n      .collection('payment')\n      .get()\n      .then(ss => {\n        let payment = []\n        ss.forEach(doc => {\n          payment.push(doc.data())\n        })\n        payment = _(payment).sortBy(v => {\n          return v.date * -1\n        })\n        this.component.setState({ payment: payment }, () => {})\n      })\n      .catch(e => {\n        console.log(e)\n      })\n  }\n  authenticateAlisUser(token) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/auth/alis/`,\n        {\n          random_value: random_value,\n          token: token,\n          uid: this.component.state.user.uid,\n        },\n        json => {\n          if (json.error != null) {\n            if (json.error === 4) {\n              this.component.showModal(modals.error_exists)\n            } else {\n              this.component.showModal(modals.error_general)\n            }\n          } else {\n            this.getUserInfo(this.component.state.user)\n          }\n        }\n      )\n    })\n  }\n  retry() {\n    let missions = this.component.state.userInfo.missions\n    let revoke = missions.join.revoke\n    for (let k in missions.join.tasks) {\n      if (revoke.includes('task-' + k)) {\n        delete missions.join.tasks[k]\n      }\n    }\n    delete missions.join.revoke\n    this.setUserInfo('missions', missions, () => {\n      this.component.alerts.pushAlert(\n        `重複アカウントによるタスクを取り消しました。別アカウントで再トライして下さい！`,\n        `success`\n      )\n    })\n  }\n  setUser(user, cb) {\n    let twitter_user = {\n      created_at: user.metadata.creationTime,\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      uid: user.uid,\n      id: user.providerData[0].uid,\n    }\n    let social_links = {}\n    user.providerData.forEach(v => {\n      social_links[v.providerId] = v\n    })\n    this.component.setState(\n      { user: twitter_user, isUser: true, social_links: social_links },\n      () => {\n        if (cb != undefined) {\n          cb(twitter_user)\n        }\n      }\n    )\n  }\n  makePayment(to, amount, what_for, type) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/payment/`,\n        {\n          type: type,\n          random_value: random_value,\n          uid: this.component.state.user.uid,\n          twitter_id: this.component.state.user.id,\n          amount: amount,\n          to: to.uid,\n          what_for: what_for,\n          photoURL: to.photoURL,\n          displayName: to.displayName,\n        },\n        json => {\n          if (json.error != null) {\n            console.log(json)\n            this.component.showModal(modals.error_general)\n          } else {\n            this.getUserInfo(this.component.state.user)\n            this.component.showModal({\n              title: (\n                <div>\n                  <i className=\"text-green fas fa-check\" />{' '}\n                  支払いが完了しました！\n                </div>\n              ),\n              body: `${\n                to.displayName\n              }さんにハッカー部から${amount}AHTの支払いをしました！`,\n              cancel_text: '確認',\n            })\n          }\n        }\n      )\n    })\n  }\n  link_discord() {\n    this.genRandomValue(random_value => {\n      let oauth_url = `https://discordapp.com/api/oauth2/authorize?client_id=486270221825474562&redirect_uri=${encodeURIComponent(\n        process.env.BACKEND_SERVER_ORIGIN\n      )}%2F${prefix}%2Foauth%2Fdiscord&response_type=code&scope=guilds%20identify%20messages.read&state=${random_value}_${\n        this.component.state.user.uid\n      }`\n      window.location.href = oauth_url\n    })\n  }\n  link_github() {\n    firebase\n      .auth()\n      .currentUser.linkWithPopup(this.provider_github)\n      .then(result => {\n        this.setUser(result.user)\n      })\n      .catch(error => {\n        console.log(error)\n        this.component.showModal(modals.error_exists)\n      })\n  }\n  registerPayment(amount, address) {\n    let uid = this.component.state.user.uid\n    let payment = this.component.state.payment\n    let date = Date.now()\n    let transaction = {\n      amount: amount,\n      address: address,\n      date: date,\n      status: 'requested',\n    }\n    let transaction_pool = {\n      uid: uid,\n      amount: amount,\n      address: address,\n      date: date,\n      status: 'requested',\n    }\n    payment.unshift(transaction)\n    this.db\n      .collection('users')\n      .doc(uid)\n      .collection('payment')\n      .doc(`${date}_${amount}`)\n      .set(transaction)\n      .then(() => {\n        this.component.setState({ payment: payment })\n      })\n    this.db\n      .collection('payment_pool')\n      .doc(uid + '_' + date)\n      .set(transaction_pool)\n      .then(() => {\n        this.component.showModal({\n          title: (\n            <div>\n              <i className=\"text-warning fas fa-exclamation-triangle\" />{' '}\n              支払い手続き開始！\n            </div>\n          ),\n          body: (\n            <p>\n              トークンの送信リストに登録しました。数分～数十分以内に指定のアドレスにトークンが送信されます。手続きの進行状況は支払い履歴から確認できます。\n            </p>\n          ),\n          cancel_text: '確認',\n        })\n      })\n  }\n  getAllCandidates() {\n    this.db\n      .collection('twitter_candidates')\n      .get()\n      .then(res => {\n        let candidates = []\n        res.forEach(ss => {\n          let obj = ss.data()\n          candidates.push({ alis: ss.id, candidates: obj })\n        })\n        this.component.setState({ allCandidates: candidates })\n      })\n  }\n  chooseCandidate(alis, screen_name, search_component) {\n    let candidates\n    let allCandidates = search_component.state.allCandidates\n    for (let v of allCandidates) {\n      if (v.alis == alis) {\n        for (let k in v.candidates || {}) {\n          if (k.toLowerCase() == screen_name.toLowerCase()) {\n            v.candidates[k].checked = true\n          } else {\n            delete v.candidates[k].checked\n          }\n        }\n        candidates = v.candidates\n        break\n      }\n    }\n\n    this.db\n      .collection('twitter_candidates')\n      .doc(alis)\n      .set(candidates)\n      .then(() => {\n        search_component.setState({ allCandidates: allCandidates })\n      })\n  }\n  existsTweeple(screen_name, cb) {\n    this.db\n      .collection('tweeple')\n      .where('screen_name_lower', '==', screen_name.toLowerCase())\n      .limit(1)\n      .get()\n      .then(ss => {\n        let exists = false\n        ss.forEach(() => {\n          exists = true\n        })\n        cb(exists)\n      })\n      .catch(e => {\n        cb(false)\n      })\n  }\n  addCandidate(screen_name, alis_user, search_component) {\n    let candidates = search_component.state.candidates || []\n    this.db\n      .collection('twitter_candidates')\n      .doc(alis_user.user_id)\n      .set(\n        {\n          [`$profile`]: alis_user,\n          [`${screen_name}`]: {\n            date: Date.now(),\n            uid: this.component.state.user.uid,\n          },\n        },\n        { merge: true }\n      )\n      .then(() => {\n        candidates.push(screen_name)\n        search_component.setState({ candidates: candidates })\n        this.component.alerts.pushAlert(\n          `登録しました！確認後リストに追加されますのでしばしお待ち下さい。`,\n          'success'\n        )\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_general)\n      })\n  }\n  getCandidates(alis_user, search_component) {\n    this.db\n      .collection('twitter_candidates')\n      .doc(alis_user)\n      .get()\n      .then(ss => {\n        let accounts = []\n        if (ss.exists) {\n          let candidates = ss.data()\n          for (let k in candidates) {\n            if (k !== '$profile') {\n              accounts.push(k)\n            }\n          }\n          search_component.setState({ candidates: accounts })\n        }\n      })\n  }\n  reportError(user) {\n    const doc_id = `${this.component.state.user.uid}_${Date.now()}`\n    this.db\n      .collection('report')\n      .doc(doc_id)\n      .set({ twitter: user.id_str, alis: user.user_id })\n      .then(() => {\n        let reports = this.component.state.reports || {}\n        reports[user.user_id] = user.id_str\n        this.component.setState({ reports: reports })\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_general)\n      })\n  }\n  unlink_github() {\n    firebase\n      .auth()\n      .currentUser.unlink('github.com')\n      .then(result => {\n        this.setUser(result)\n      })\n      .catch(error => {\n        this.component.showModal(modals.error_account_removal)\n      })\n  }\n  getMagazine() {\n    console.log(this.component.state)\n    this.db\n      .collection('magazines')\n      .doc(this.component.state.magazine_id)\n      .get()\n      .then(ss => {\n        if (ss.exists) {\n          this.component.setState({ magazine: ss.data() })\n        }\n      })\n  }\n  deleteMagazine(magazine) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/magazine/delete/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        magazine,\n        async json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            magazine.deleted = Date.now()\n            this.component.setState(\n              {\n                magazine: magazine,\n                updated: Date.now(),\n              },\n              () => {\n                this.component.showModal({\n                  title: (\n                    <div>\n                      <i className=\"text-success fas fa-check\" /> 削除完了！\n                    </div>\n                  ),\n                  body: 'マガジンを削除しました。',\n                  cancel_text: '確認',\n                })\n              }\n            )\n          }\n        }\n      )\n    })\n  }\n  issueMagazine(magazine) {\n    this.genRandomValue(random_value => {\n      window.$.post(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/magazine/issue/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        magazine,\n        async json => {\n          if (json.error != null) {\n            this.component.showModal(modals.error_general)\n          } else {\n            if (magazine.is_edit) {\n              this.component.setState(\n                {\n                  magazine: magazine,\n                  updated: Date.now(),\n                },\n                () => {\n                  this.component.showModal({\n                    title: (\n                      <div>\n                        <i className=\"text-success fas fa-check\" /> 設定変更！\n                      </div>\n                    ),\n                    body:\n                      'マガジンの設定を変更しました。変更が反映されるまで最大で1時間程かかります。',\n                    cancel_text: '確認',\n                  })\n                }\n              )\n            } else {\n              this.component.showModal({\n                title: (\n                  <div>\n                    <i className=\"text-success fas fa-check\" /> マガジン発刊！\n                  </div>\n                ),\n                body: `新マガジン『${magazine.title}』を発刊しました！`,\n                cancel_text: '確認',\n              })\n            }\n            this.getUserMagazines()\n          }\n        }\n      )\n    })\n  }\n  unlink_discord() {\n    this.genRandomValue(random_value => {\n      fetch(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/remove/discord/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        {\n          method: 'POST',\n        }\n      )\n        .then(res => res.json())\n        .then(json => {\n          if (json.error == undefined) {\n            this.getServerInfo(this.component.state.user)\n          } else {\n            this.component.showModal(modals.error_account_removal)\n          }\n        })\n        .catch(() => {\n          this.component.showModal(modals.error_account_removal)\n        })\n    })\n  }\n  unlink_alis() {\n    this.genRandomValue(random_value => {\n      fetch(\n        `${process.env.BACKEND_SERVER_ORIGIN}/${prefix}/remove/alis/${\n          this.component.state.user.uid\n        }/${random_value}/`,\n        {\n          method: 'POST',\n        }\n      )\n        .then(res => res.json())\n        .then(json => {\n          if (json.error == undefined) {\n            this.getServerInfo(this.component.state.user)\n          } else {\n            this.component.showModal(modals.error_account_removal)\n          }\n        })\n        .catch(() => {\n          this.component.showModal(modals.error_account_removal)\n        })\n    })\n  }\n\n  login() {\n    firebase\n      .auth()\n      .signInWithPopup(this.provider)\n      .then(() => {\n        window.location.href = '/home/'\n      })\n      .catch(error => {\n        alert('ログインに失敗しました！もう一度お試し下さい。')\n      })\n  }\n  logout() {\n    firebase\n      .auth()\n      .signOut()\n      .then(() => {\n        window.location.href = '/'\n      })\n      .catch(error => {\n        alert('ログアウトに失敗しました。もう一度お試し下さい。')\n      })\n  }\n\n  // waves\n  validateWavesAddress(popup_url) {\n    const redirectedUrl = popup_url\n    const parsedUrl = url.parse(redirectedUrl, true)\n    /* WAVES is not returning d parameter at the moment */\n    const signedData = parsedUrl.query.d\n    console.log(signedData)\n    /* \n       todo: need to verify signature, but the current code on the demo page is not working!!\n       https://demo.wavesplatform.com/\n    */\n    const signature = parsedUrl.query.s\n    const publicKey = parsedUrl.query.p\n    const address = parsedUrl.query.a\n    let random_value, uid\n    if (parsedUrl.query.d != undefined) {\n      ;[random_value, uid] = signedData.split('_')\n    }\n    console.log(address)\n    console.log(this.Waves.crypto.isValidAddress(address))\n    if (\n      (signedData != undefined && uid != this.component.state.user.uid) ||\n      (signedData != undefined &&\n        random_value != this.component.state.userInfo.random_value) ||\n      this.Waves.crypto.isValidAddress(address) == false\n    ) {\n      this.component.alerts.pushAlert(\n        `認証に失敗しました。時間を置いて再度お試し下さい。`\n      )\n    } else {\n      this.addWavesAddress({\n        publickKey: publicKey,\n        address: address,\n        added_at: Date.now(),\n      })\n    }\n  }\n  setAsReceiver(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    for (let k in waves_addresses) {\n      if (k == address) {\n        waves_addresses[k].receiver = true\n      } else {\n        delete waves_addresses[k].receiver\n      }\n    }\n    this.setUserInfo('waves_addresses', waves_addresses, () => {\n      this.component.alerts.pushAlert(\n        `受け取りアドレスを${address} に変更しました！`,\n        `success`\n      )\n    })\n  }\n  checkAddressInPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .get()\n      .then(ss => {\n        if (ss.exists) {\n          this.component.alerts.pushAlert(\n            `${address}は既に他の人に登録されているため使えません。`\n          )\n        } else {\n          cb()\n        }\n      })\n      .catch(e => {\n        console.log(e)\n        this.component.alerts.pushAlert(\n          `エラーが発生しました。時間をおいてもう一度お試し下さい！`\n        )\n      })\n  }\n  addWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    if (waves_addresses[address.address] != undefined) {\n      this.component.alerts.pushAlert(\n        `${address.address} は既に登録されています！`,\n        `warning`\n      )\n    } else {\n      this.checkAddressInPool(address.address, () => {\n        if (_.isEmpty(waves_addresses)) {\n          address.receiver = true\n        }\n        waves_addresses[address.address] = address\n        this.setUserInfo('waves_addresses', waves_addresses, () => {\n          this.addAddressToPool(address.address, () => {\n            this.component.alerts.pushAlert(\n              `${address.address} を追加しました！`,\n              `success`\n            )\n          })\n        })\n      })\n    }\n  }\n  setUserInfo(field, value, cb) {\n    this.updateData({ [field]: value }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo[field] = value\n      this.component.setState({ userInfo: userInfo }, () => {})\n      cb()\n    })\n  }\n  removeAddressFromPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .delete()\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  addAddressToPool(address, cb) {\n    this.db\n      .collection('addresses')\n      .doc(address)\n      .set({ uid: this.component.state.user.uid })\n      .then(ss => {\n        cb()\n      })\n      .catch(e => {\n        cb()\n      })\n  }\n  genRandomValue(cb) {\n    let uuid = uuidv4()\n    this.setData({ random_value: uuid }, () => {\n      let userInfo = this.component.state.userInfo || {}\n      userInfo.random_value = uuid\n      this.component.setState({ userInfo: userInfo }, () => {\n        cb(uuid)\n      })\n    })\n  }\n  removeWavesAddress(address) {\n    let waves_addresses = this.component.state.userInfo.waves_addresses || {}\n    delete waves_addresses[address]\n    this.setUserInfo('waves_addresses', waves_addresses, () => {\n      this.removeAddressFromPool(address, () => {\n        this.component.alerts.pushAlert(`${address} を削除しました！`)\n      })\n    })\n  }\n}\n\nexport default Auth\n","class Alerts {\n  constructor(component) {\n    this.component = component\n  }\n  pushAlert(message, type = 'danger') {\n    let alerts = this.component.state.alerts || []\n    alerts.unshift({ type: type, text: message })\n    this.component.setState({ alerts: alerts }, () => {})\n  }\n  dissmissAlert(i) {\n    let alerts = this.component.state.alerts || []\n    alerts.splice(i, 1)\n    this.component.setState({ alerts: alerts })\n  }\n}\n\nexport default Alerts\n","import React, { Component } from 'react'\nimport ComponentP from '../components/component_promise'\nimport Helmet from '../components/helmet'\nimport url from 'url'\nimport querystring from 'querystring'\n\nimport _ from 'underscore'\nimport moment from 'moment-timezone'\nimport 'moment/locale/ja'\n\nimport Layout from '../components/layout'\nimport Footer from '../components/footer'\nimport Modal from '../components/modal'\nimport Loading from '../components/loading'\nimport Header_Home from '../components/header_home'\nimport Subheader from '../components/subheader'\nimport Post_Magazine from '../components/post_magazine'\nimport Issue_Magazine from '../components/issue_magazine'\nimport Alert from '../components/alert'\nimport auth from '../lib/auth'\nimport alerts from '../lib/alerts'\nimport alis_hackers from '../assets/images/alis_hackers.png'\nimport profile_cover from '../assets/images/profile_cover.jpg'\nmoment.locale('ja')\n\nclass Magazine extends ComponentP {\n  constructor(props) {\n    super(props)\n    let page = (this.params.page || 1) * 1\n    let magazine_id = this.params.id || 'top'\n    if (\n      props.pageContext != undefined &&\n      props.pageContext.file_id != undefined\n    ) {\n      magazine_id = props.pageContext.file_id\n    }\n    this.state = {\n      pageContext: props.pageContext,\n      tab: 'articles',\n      tip: 0,\n      page: page,\n      magazine_id: magazine_id,\n      serverInfo: {},\n      userInfo: {},\n      modal: {},\n      alerts: [],\n    }\n    this.alerts = new alerts(this, { magazine: true })\n  }\n  is_editor() {\n    return (\n      this.is_admin() ||\n      ((this.state.magazine_id !== 'admin' &&\n        (this.state.magazine != undefined &&\n          this.state.magazine.editors === 'anyone' &&\n          this.state.serverInfo != undefined &&\n          this.state.serverInfo.alis != undefined)) ||\n        (this.state.serverInfo != undefined &&\n          this.state.serverInfo.alis != undefined &&\n          this.state.userInfo != undefined &&\n          this.state.userInfo.missions != undefined &&\n          this.state.userInfo.missions.join != undefined &&\n          this.state.userInfo.missions.join.confirmed != undefined &&\n          this.state.userInfo.missions.join.confirmed != false))\n    )\n  }\n  is_admin() {\n    return (\n      this.state.magazine_id !== 'admin' &&\n      this.state.magazine != undefined &&\n      this.state.user != undefined &&\n      this.state.magazine.owner === this.state.user.uid\n    )\n  }\n  async getMagazines() {\n    let magazine_id = process.env.MAP_ID_MAGAZINES_TOP\n    try {\n      let map = await this.getJSOND(magazine_id, 'magazines')\n      if (map.maps != undefined && map.maps[this.state.page] != undefined) {\n        let json = await this.getJSOND(\n          map.maps[this.state.page],\n          this.state.page\n        )\n        await this.set({\n          magazine_articles: json.magazines,\n          len: json.len,\n        })\n      } else {\n        await this.set({ noMagazine: true })\n      }\n    } catch (e) {\n      await this.set({ noMagazine: true })\n    }\n  }\n  async getMagazine_Articles() {\n    let magazine_id = process.env.MAP_ID_MAGAZINES\n    if (this.state.magazine_id !== 'admin') {\n      magazine_id = this.state.magazine_id\n    }\n    let map\n    try {\n      map = await this.getJSOND(magazine_id, 'magazines')\n      if (\n        this.state.magazine_id === 'admin' &&\n        map.maps[this.state.magazine_id][this.state.page] != undefined\n      ) {\n        let json = await this.getJSOND(\n          map.maps[this.state.magazine_id][this.state.page],\n          this.state.page\n        )\n        await this.set({ magazine_articles: json.articles, len: json.len })\n      } else if (\n        map.maps != undefined &&\n        map.maps.map[this.state.page] != undefined\n      ) {\n        let json = await this.getJSOND(\n          map.maps.map[this.state.page],\n          this.state.page\n        )\n        await this.setState({\n          magazine: map.maps,\n          magazine_articles: json.articles,\n          len: json.len,\n        })\n        this.checkMagazine()\n      } else {\n        await this.set({ magazine: map, magazine_articles: [] })\n        this.checkMagazine()\n      }\n    } catch (e) {\n      console.log(e)\n      await this.set({ noMagazine: true })\n    }\n  }\n  async componentDidMount() {\n    this.auth = new auth(this, {})\n    if (this.state.magazine_id === 'top') {\n      await this.getMagazines()\n    } else {\n      await this.getMagazine_Articles()\n    }\n  }\n  checkMagazine() {\n    if (this.state.user == undefined) {\n      setTimeout(() => {\n        this.checkMagazine()\n      }, 500)\n    } else {\n      if (this.is_admin()) {\n        this.auth.getMagazine()\n      }\n    }\n  }\n  componentDidUpdate() {\n    window\n      .$('.waves-receiver')\n      .tooltip({ boundary: 'window', placement: 'right' })\n  }\n\n  showModal = config => {\n    this.setState({ modal: config }, () => {\n      window.$('#pageModal').modal({})\n    })\n  }\n  getMagazineTitle(is_html) {\n    let magazine_title = `HACKER's CLUB MAGAZINE`\n    if (this.state.magazine_id == 'top') {\n      magazine_title = 'ALISマガジン一覧'\n    } else if (\n      this.state.pageContext != undefined &&\n      this.state.pageContext.title != undefined\n    ) {\n      magazine_title = this.state.pageContext.title\n    }\n    let img = (\n      <img\n        src={alis_hackers}\n        style={{\n          borderRadius: '50%',\n          marginRight: '10px',\n          height: '35px',\n          marginBottom: '6px',\n        }}\n      />\n    )\n    if (\n      this.state.magazine != undefined &&\n      (this.state.pageContext == undefined ||\n        this.state.pageContext.title == undefined)\n    ) {\n      img = null\n      magazine_title = this.state.magazine.title\n    }\n    if (is_html) {\n      magazine_title = [img, <b>{magazine_title}</b>]\n    }\n    return magazine_title\n  }\n  getMagazineDescription(no_html) {\n    let description\n    if (this.state.magazine_id == 'top') {\n      description = 'ALISISTAの皆さんが発刊した共同マガジンのリストです。'\n    } else if (\n      this.state.pageContext != undefined &&\n      this.state.pageContext.title != undefined\n    ) {\n      description = this.state.pageContext.description || ''\n    } else if (this.state.magazine == undefined) {\n      description = 'ハッカー部の公式マガジンです。'\n    } else if (this.state.magazine.description != undefined) {\n      description = this.state.magazine.description\n    }\n    if (no_html) {\n      return description\n    } else {\n      return <div className=\"text-center mb-4\">{description}</div>\n    }\n  }\n  loadArticles() {\n    this.auth.listArticles()\n  }\n  render() {\n    let updated = this.state.updated\n    let site_title = 'ALISマガジン'\n    let header_title = 'ALIS MAGAZINES'\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      site_title = 'ALISマガジン'\n      header_title = 'ALIS MAGAZINES TESTNET'\n    }\n    let alerts = this.state.alerts || []\n    let alert_html = []\n    alerts.forEach((v, i) => {\n      alert_html.push(\n        <div\n          role=\"alert\"\n          className={`alert alert-${v.type} ml-3 mr-3`}\n          style={{ width: '100%' }}\n        >\n          <button\n            type=\"button\"\n            className=\"close\"\n            onClick={() => {\n              this.alerts.dissmissAlert(i)\n            }}\n          />\n          {v.text}\n        </div>\n      )\n    })\n    let body\n\n    if (\n      this.state.noMagazine === true ||\n      (this.state.magazine != undefined &&\n        this.state.magazine.deleted != undefined)\n    ) {\n      body = (\n        <Loading\n          title=\"マガジンが見つかりませんでした。\"\n          subtitle=\"idをお確かめ下さい...\"\n          btn_text=\"ハッカー部公式マガジンへ\"\n          btn_link=\"/\"\n        />\n      )\n    } else if (this.state.magazine_articles === undefined) {\n      body = <Loading />\n    } else if (\n      this.state.magazine_articles.length === 0 &&\n      this.state.tab === 'articles'\n    ) {\n      body = (\n        <Loading\n          title={this.state.magazine.title}\n          subtitle=\"このマガジンに記事を投稿してみましょう！\"\n          btn_text=\"ハッカー部公式マガジンへ\"\n          btn_link=\"/\"\n          message={this.state.magazine.description}\n          no_message={\n            this.state.magazine.description == undefined ||\n            this.state.magazine.description === ''\n          }\n        />\n      )\n    } else {\n      body = this.render_dashboard()\n    }\n    let nav_links = []\n    const nav_links_sub = [{ name: '記事', key: 'articles', icon: 'bookmark' }]\n    let subheader\n    if (\n      !(\n        this.state.magazine != undefined &&\n        this.state.magazine.deleted != undefined\n      ) &&\n      (this.is_editor() || this.is_admin())\n    ) {\n      if (this.is_editor()) {\n        nav_links_sub.push({\n          name: '投稿',\n          key: 'post',\n          icon: 'upload',\n          func: () => {\n            this.loadArticles()\n          },\n        })\n        if (this.is_admin()) {\n          nav_links_sub.push({ name: '設定', key: 'settings', icon: 'cogs' })\n        }\n      }\n      subheader = <Subheader items={nav_links_sub} component={this} />\n    }\n    let subdomain = ''\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      subdomain = 'testnet.'\n    }\n\n    let card_image\n    if (\n      this.state.pageContext != undefined &&\n      this.state.pageContext.title != undefined\n    ) {\n      card_image =\n        this.state.pageContext.cover_image ||\n        `https://${subdomain}to.alishackers.club${profile_cover}`\n    }\n    return (\n      <Layout>\n        <Helmet\n          title={`${this.getMagazineTitle()}`}\n          desc={`${this.getMagazineDescription(true)}`}\n          image={card_image}\n        />\n        <Header_Home\n          title={header_title}\n          payment={this.state.payment}\n          links={nav_links}\n          auth={this.auth}\n          user={this.state.user}\n          serverInfo={this.state.serverInfo}\n        />\n        {subheader}\n        <div className=\"my-3 my-md-5\">\n          <div className=\"container\">\n            <Alert items={this.state.alerts} alerts={this.alerts} />\n            {body}\n          </div>\n        </div>\n        <Modal modal={this.state.modal} />\n        <Footer />\n      </Layout>\n    )\n  }\n  async increaseTipAmount(amount) {\n    let tip = Math.round((this.state.tip + amount) * 10) / 10\n    let { currentAHT, afterAHT } = this.getCurrentAHT()\n    if (currentAHT - tip >= 0) {\n      await this.set({ tip: tip })\n      let { currentAHT, afterAHT } = this.getCurrentAHT()\n      window.$('#tip_amount').text(this.state.tip)\n      window.$('#currentAHT').text(currentAHT)\n      window.$('#afterAHT').text(afterAHT)\n      window.$('#modal_exec_btn').removeClass('btn-gray')\n      window.$('#modal_exec_btn').addClass('btn-danger')\n    }\n  }\n  async resetTipAmount() {\n    await this.set({ tip: 0 })\n    let { currentAHT, afterAHT } = this.getCurrentAHT()\n    window.$('#tip_amount').text(this.state.tip)\n    window.$('#currentAHT').text(currentAHT)\n    window.$('#afterAHT').text(afterAHT)\n    window.$('#modal_exec_btn').removeClass('btn-danger')\n    window.$('#modal_exec_btn').addClass('btn-gray')\n  }\n\n  getCurrentAHT() {\n    const divider = 100000000\n    let amount = this.state.serverInfo.amount.aht\n    let earned = amount.earned + (amount.tipped || 0)\n    let paid = amount.paid + (amount.tip || 0)\n    let currentAHT = Math.round((earned - paid) * divider) / divider\n    let afterAHT = Math.round((currentAHT - this.state.tip) * divider) / divider\n    return { currentAHT: currentAHT, afterAHT: afterAHT }\n  }\n  async tip(article) {\n    if (this.state.user == undefined) {\n      this.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fa fa-donate\" /> エラー！\n          </div>\n        ),\n        body: <p>投げ銭をするにはログインが必要です！</p>,\n        cancel_text: '確認',\n      })\n    } else if (article.uid === this.state.user.uid) {\n      this.showModal({\n        title: (\n          <div>\n            <i className=\"text-danger fa fa-donate\" /> エラー！\n          </div>\n        ),\n        body: <p>自分の記事には投げ錢できません！</p>,\n        cancel_text: '確認',\n      })\n    } else {\n      let { currentAHT, afterAHT } = this.getCurrentAHT()\n\n      if (currentAHT === 0) {\n        this.showModal({\n          title: (\n            <div>\n              <i className=\"text-danger fa fa-donate\" /> 残高不足！\n            </div>\n          ),\n          body: <p>投げ銭をするにはAHTを保有している必要があります！</p>,\n          cancel_text: '確認',\n        })\n      } else {\n        await this.set({ tip: 0 })\n        let tips = [0.1, 1, 10, 100]\n        let tips_html = []\n        for (let v of tips) {\n          tips_html.push(\n            <button\n              className=\"btn btn-primary m-3\"\n              style={{ borderRadius: '50%', width: '60px', height: '60px' }}\n              onClick={() => {\n                this.increaseTipAmount(v)\n              }}\n            >\n              {v}\n            </button>\n          )\n        }\n        tips_html.push(\n          <button\n            className=\"btn btn-warning m-3\"\n            style={{ borderRadius: '50%', width: '60px', height: '60px' }}\n            onClick={() => {\n              this.resetTipAmount()\n            }}\n          >\n            0\n          </button>\n        )\n        window.$('#tip_amount').text(0)\n        window.$('#currentAHT').text(currentAHT)\n        window.$('#afterAHT').text(currentAHT)\n        window.$('#modal_exec_btn').removeClass('btn-danger')\n        window.$('#modal_exec_btn').addClass('btn-gray')\n        this.showModal({\n          title: (\n            <div>\n              <i className=\"text-primary fa fa-donate\" />{' '}\n              投げ銭額を選択してください！\n            </div>\n          ),\n          body: (\n            <div>\n              <div className=\"text-center\" style={{ fontSize: '30px' }}>\n                <b id=\"tip_amount\" className=\"text-primary\">\n                  0\n                </b>{' '}\n                <span className=\"text-muted small\" style={{ fontSize: '12px' }}>\n                  AHT\n                </span>\n              </div>\n              <div className=\"text-center\">{tips_html}</div>\n              <div className=\"text-center\">\n                保有:{' '}\n                <b className=\"text-primary\" id=\"currentAHT\">\n                  {currentAHT}\n                </b>{' '}\n                <span className=\"text-muted small\">AHT</span>{' '}\n                <i className=\"fa fa-angle-double-right\" />{' '}\n                <b className=\"text-danger\" id=\"afterAHT\">\n                  {currentAHT}\n                </b>{' '}\n                <span className=\"text-muted small\">AHT</span>\n              </div>\n            </div>\n          ),\n          exec_color: 'gray',\n          exec: () => {\n            this.exec_tip(article)\n          },\n        })\n      }\n    }\n  }\n  exec_tip(article) {\n    if (this.state.tip > 0) {\n      this.auth.tip(this.state.tip, article, this.state.magazine_id)\n    }\n  }\n  render_dashboard() {\n    if (this.state.tab === 'articles') {\n      return this.render_dashboard_articles()\n    } else if (this.state.tab === 'post') {\n      return this.render_dashboard_post()\n    } else {\n      return this.render_dashboard_settings()\n    }\n  }\n  render_dashboard_post() {\n    return (\n      <div className=\"card\">\n        <Post_Magazine\n          articles_page={this.state.articles_page}\n          nomore_articles={this.state.nomore_articles}\n          magazine_id={this.state.magazine_id}\n          magazineArticles={this.state.magazineArticles}\n          userArticles={this.state.userArticles}\n          showModal={this.showModal}\n          auth={this.auth}\n        />\n      </div>\n    )\n  }\n  render_dashboard_settings() {\n    return (\n      <Issue_Magazine\n        magazine_id={this.state.magazine_id}\n        magazine={this.state.magazine}\n        user={this.state.user}\n        userInfo={this.state.userInfo}\n        showModal={this.showModal}\n        userMagazines={this.state.userMagazines}\n        auth={this.auth}\n      />\n    )\n  }\n  drawMagazine(article) {\n    let magazine_articles = []\n    for (let v of article.articles) {\n      magazine_articles.push(\n        <tr>\n          <td className=\"w-1\">\n            <a\n              target=\"_blank\"\n              href={`https://alis.to/users/${v.user_id}`}\n              className=\"avatar\"\n              style={{ backgroundImage: `url(${v.icon_image_url})` }}\n            />\n          </td>\n          <td className=\"small\">\n            <a\n              className=\"text-dark\"\n              href={`https://alis.to/${v.user_id}/articles/${v.article_id}`}\n              target=\"_blank\"\n            >\n              {v.title}\n            </a>\n          </td>\n        </tr>\n      )\n    }\n    let html = (\n      <div className=\"col-md-6 col-xl-4\">\n        <div className=\"card\">\n          <a\n            href={`/${article.file_id}/`}\n            style={{\n              height: '150px',\n              backgroundImage: `url(${article.cover_image ||\n                '/img/bg-showcase-4.jpg'})`,\n              backgroundSize: 'cover',\n            }}\n          />\n          <div className=\"card-body d-flex flex-column\">\n            <h4 style={{ lineHeight: '150%' }}>\n              <a href={`/${article.file_id}/`}>{article.title}</a>\n            </h4>\n            <div className=\"text-muted\" style={{ fontSize: '12px' }}>\n              {article.description}\n            </div>\n          </div>\n          <div className=\"table-responsive\">\n            <table\n              className=\"table card-table table-sm table-striped table-vcenter\"\n              style={{ borderTop: '1px solid #dee2e6' }}\n            >\n              <tbody>{magazine_articles}</tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    )\n    return html\n  }\n  drawArticle(article) {\n    let last_tip = article.last_tip || 0\n    let tip = article.tip || 0\n    for (let v of this.state.tip_history || []) {\n      if (\n        v.article.article_id === article.article_id &&\n        last_tip < v.date &&\n        this.state.magazine_id === (v.magazine_id || 'admin')\n      ) {\n        tip += v.amount\n      }\n    }\n    tip = Math.round(tip * 10) / 10\n    let html = (\n      <div className=\"col-md-6 col-xl-4\">\n        <div className=\"card\">\n          <a\n            target=\"_blank\"\n            href={`https://alis.to/${article.user_id}/articles/${\n              article.article_id\n            }/`}\n            style={{\n              height: '150px',\n              backgroundImage: `url(${article.eye_catch_url})`,\n              backgroundSize: 'cover',\n            }}\n          />\n          <div className=\"card-body d-flex flex-column\">\n            <h4 style={{ lineHeight: '150%' }}>\n              <a\n                target=\"_blank\"\n                href={`https://alis.to/${article.user_id}/articles/${\n                  article.article_id\n                }/`}\n              >\n                {article.title}\n              </a>\n            </h4>\n            <div className=\"text-muted\" style={{ fontSize: '12px' }}>\n              {article.overview}\n              ...\n            </div>\n            <div className=\"d-flex align-items-center pt-5 mt-auto\">\n              <div\n                className=\"avatar avatar-md mr-3\"\n                style={{ backgroundImage: `url(${article.icon_image_url})` }}\n              />\n              <div>\n                <a\n                  target=\"_blank\"\n                  href={`https://alis.to/users/${article.user_id}`}\n                  className=\"text-default\"\n                >\n                  {article.user_display_name}\n                </a>\n                <small className=\"d-block text-muted\">\n                  {moment(article.published_at * 1000).format('YYYY MM/DD')}\n                </small>\n              </div>\n              <div className=\"ml-auto text-danger\">\n                <a\n                  onClick={() => {\n                    this.tip(article)\n                  }}\n                  className=\"icon d-inline-block ml-3\"\n                  style={{ fontSize: '20px' }}\n                >\n                  <i className=\"fa fa-donate mr-1\" />{' '}\n                  <b className=\"text-primary\">{tip}</b>{' '}\n                  <span style={{ fontSize: '12px' }}>AHT</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n    return html\n  }\n\n  render_dashboard_articles() {\n    let pages_html\n    let pages = []\n    for (let p = 1; p <= Math.ceil(this.state.len / 6); p++) {\n      let active = ''\n      if (this.state.page === p) {\n        pages.push(\n          <li className={`page-item active`} style={{ cursor: 'default' }}>\n            <span className=\"page-link\" style={{ cursor: 'default' }}>\n              {p}\n            </span>\n          </li>\n        )\n      } else {\n        pages.push(\n          <li className={`page-item`}>\n            <a className=\"page-link\" href={`/?page=${p}`}>\n              {p}\n            </a>\n          </li>\n        )\n      }\n    }\n    pages_html = (\n      <div className=\"pt-2 text-center\">\n        <div className=\"d-inline-block\">\n          <ul className=\"pagination\">{pages}</ul>\n        </div>\n      </div>\n    )\n\n    let articles_html = []\n    for (let article of this.state.magazine_articles) {\n      if (this.state.magazine_id === 'top') {\n        articles_html.push(this.drawMagazine(article))\n      } else {\n        articles_html.push(this.drawArticle(article))\n      }\n    }\n    return (\n      <div>\n        <h1\n          className=\"page-title\"\n          style={{\n            textAlign: 'center',\n            fontFamily: `'Rounded Mplus 1c', 'Montserrat', 'Helvetica Neue', Helvetica, Arial, sans-serif`,\n          }}\n        >\n          {this.getMagazineTitle(true)}\n        </h1>\n        {this.getMagazineDescription()}\n        <div className=\"row row-cards row-deck\">{articles_html}</div>\n        {pages_html}\n      </div>\n    )\n  }\n}\n\nexport default Magazine\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","module.exports = __webpack_public_path__ + \"static/404-fcdd980d4bec9f5e4f577268926c400b.jpg\";","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","import React, { Component } from 'react'\nimport Helmet from 'react-helmet'\nimport image_404 from '../assets/images/404.jpg'\n\nclass COMMON_HELMET extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let site_title = 'ALISハッカー部'\n    let subdomain = ''\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      site_title = 'AHT TESTNET'\n      subdomain = 'testnet.'\n    }\n\n    let metas = []\n    let title = this.props.title || `404ページ | ${site_title}`\n    let desc =\n      this.props.desc ||\n      '史上初！マミぃさんに300AHTお支払いで描いていただいたハッカー部のイラストです。'\n    let image =\n      this.props.image || `https://${subdomain}alishackers.club${image_404}`\n    metas.push({ name: 'twitter:card', content: 'summary_large_image' })\n    metas.push({ name: 'twitter:site', content: '@alishackers' })\n    metas.push({\n      name: 'twitter:image',\n      content: image,\n    })\n    metas.push({ name: 'twitter:description', content: desc })\n    metas.push({ name: 'twitter:title', content: title })\n    metas.push({ name: 'og:title', content: title })\n    metas.push({\n      name: 'og:image',\n      content: image,\n    })\n    metas.push({ name: 'og:description', content: desc })\n    metas.push({ name: 'description', content: desc })\n    metas.push({\n      name: 'keywords',\n      content:\n        'ALIS, ALISハッカー部, ハッカー部, ALIS HackerToken, 独自経済圏, トークンエコノミー, 暗号通貨, cryptocurrency, ハッカー部トークン, WAVES, 仮想通貨',\n    })\n    let links = []\n    if (this.props.links != undefined) {\n      for (let link of this.props.links) {\n        links.push({\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: link,\n        })\n      }\n    } else {\n      links = [\n        {\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: '/tabler/css/tabler.min.css',\n        },\n        {\n          rel: 'stylesheet',\n          type: 'text/css',\n          href: '/css/common.css',\n        },\n      ]\n    }\n    return <Helmet title={title} link={links} meta={metas} />\n  }\n}\n\nexport default COMMON_HELMET\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Helmet from 'react-helmet'\nimport { StaticQuery, graphql } from 'gatsby'\n\nconst Layout = ({ children }) => (\n  <StaticQuery\n    query={graphql`\n      query SiteTitleQuery {\n        site {\n          siteMetadata {\n            title\n          }\n        }\n      }\n    `}\n    render={data => (\n      <div>\n        <Helmet\n          title={data.site.siteMetadata.title}\n          meta={[\n            {\n              name: 'description',\n              content: '法定通貨に依存しない完全独自経済圏',\n            },\n            { name: 'keywords', content: 'ALIS Hacker Token, ALISハッカー部' },\n          ]}\n        >\n          <html lang=\"en\" />\n        </Helmet>\n        {children}\n      </div>\n    )}\n  />\n)\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n}\n\nexport default Layout\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathname(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import React, { Component } from 'react'\n\nclass Footer extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let link_items = []\n    let items = this.props.items || [\n      { key: 'twitter', href: 'https://twitter.com/alishackers' },\n      { key: 'github', href: 'https://github.com/alisista' },\n      { key: 'discord', href: 'https://discord.gg/TyKbbrT' },\n    ]\n\n    for (let v of items) {\n      link_items.push(\n        <li className=\"list-inline-item\">\n          <a href={v.href} target=\"_blank\">\n            <i className={`fab fa-${v.key}`} />\n          </a>\n        </li>\n      )\n    }\n    return (\n      <footer>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-md-4\">\n              <span className=\"copyright\">\n                Copyright &copy; ALISハッカー部 2018\n              </span>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline social-buttons\">{link_items}</ul>\n            </div>\n            <div className=\"col-md-4\">\n              <ul className=\"list-inline quicklinks\" />\n            </div>\n          </div>\n        </div>\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import React, { Component } from 'react'\n\nclass Header_Home extends Component {\n  constructor(props) {\n    super(props)\n  }\n  render() {\n    let site_title = this.props.title || \"ALIS Hacker's Club\"\n    if (process.env.WAVES_NETWORK === 'TESTNET') {\n      site_title = this.props.title || 'AHT TESTNET'\n    }\n    let user\n    if (this.props.user != undefined) {\n      let aht = 0\n      let hold = 0\n      if (\n        this.props.serverInfo != undefined &&\n        this.props.serverInfo.amount != undefined &&\n        this.props.serverInfo.amount.aht != undefined\n      ) {\n        const AHT = this.props.serverInfo.amount.aht\n        const divider = 10000000000\n        aht = `${AHT.earned}`\n        let earned = AHT.earned + (AHT.tipped || 0)\n        let paid = AHT.paid + (AHT.tip || 0)\n        hold = Math.round((earned - paid) * divider) / divider\n        let payment = this.props.payment || []\n        if (payment[0] != undefined && payment[0].status == 'requested') {\n          hold -= payment[0].amount\n        }\n      }\n      const divider = 100000000\n      hold = Math.round(hold * divider) / divider\n      aht = Math.round(aht * divider) / divider\n      if (this.props.user != undefined && this.props.user.linkTo == undefined) {\n        user = (\n          <a\n            href=\"#\"\n            className=\"nav-link pr-0 leading-none\"\n            data-toggle=\"dropdown\"\n          >\n            <span\n              className=\"avatar\"\n              style={{\n                backgroundImage: `url(${this.props.user.photoURL})`,\n              }}\n            />\n            <span className=\"ml-2 d-none d-lg-block\">\n              <span className=\"text-default\">\n                {this.props.user.displayName}\n              </span>\n              <small className=\"text-muted d-block mt-1\">\n                {this.props.user.overrideText ||\n                  `${hold} AHT 保 / ${aht} AHT 獲`}\n              </small>\n            </span>\n          </a>\n        )\n      } else if (\n        this.props.user != undefined &&\n        this.props.user.linkTo != undefined\n      ) {\n        user = (\n          <a\n            href={this.props.user.linkTo}\n            target=\"_blank\"\n            className=\"nav-link pr-0 leading-none\"\n          >\n            <span\n              className=\"avatar\"\n              style={{\n                backgroundImage: `url(${this.props.user.photoURL})`,\n              }}\n            />\n            <span className=\"ml-2 d-none d-sm-block\">\n              <span className=\"text-default\">\n                {this.props.user.displayName}\n              </span>\n              <small className=\"text-muted d-block mt-1\">\n                {this.props.user.overrideText || `${aht} AHT`}\n              </small>\n            </span>\n          </a>\n        )\n      }\n    }\n    let links = []\n    for (let v of this.props.links || []) {\n      links.push(\n        <div className=\"nav-item d-none d-md-flex\">\n          <a href={v.href} className=\"btn btn-sm btn-outline-primary\">\n            {v.name}\n          </a>\n        </div>\n      )\n    }\n    let user_dropdown\n    if (this.props.user != undefined && this.props.user.linkTo == undefined) {\n      user_dropdown = (\n        <div className=\"dropdown\">\n          {user}\n          <div className=\"dropdown-menu dropdown-menu-right dropdown-menu-arrow\">\n            <a\n              className=\"dropdown-item\"\n              onClick={() => {\n                this.props.auth.logout()\n              }}\n            >\n              <i className=\"dropdown-icon fe fe-log-out\" /> ログアウト\n            </a>\n          </div>\n        </div>\n      )\n    } else if (\n      this.props.user != undefined &&\n      this.props.user.linkTo != undefined\n    ) {\n      user_dropdown = <a href={this.props.user.linkTo}>{user}</a>\n    }\n    let collapse\n    if (this.props.noSubHeader !== true) {\n      collapse = (\n        <a\n          href=\"#\"\n          className=\"header-toggler d-lg-none ml-3 ml-lg-0\"\n          data-toggle=\"collapse\"\n          data-target=\"#headerMenuCollapse\"\n        >\n          <span className=\"header-toggler-icon\" />\n        </a>\n      )\n    }\n    return (\n      <div className=\"page\">\n        <div className=\"flax-fill\">\n          <div className=\"header py-4\">\n            <div className=\"container\">\n              <div className=\"d-flex\">\n                <a className=\"header-brand\" href=\"/\">\n                  {this.props.title || site_title}\n                </a>\n                <div className=\"d-flex order-lg-2 ml-auto\">\n                  {links}\n                  {user_dropdown}\n                </div>\n                {collapse}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Header_Home\n","module.exports = __webpack_public_path__ + \"static/alis_hackers-b0f73db538e1af4c194f9fc10871687e.png\";","module.exports = __webpack_public_path__ + \"static/profile_cover-2c8f78baa8613f34088e1bad44b61288.jpg\";"],"sourceRoot":""}